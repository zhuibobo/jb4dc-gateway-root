"use strict";var userTaskReceiverDialogOuterVue,ActionsRuntimeObject={CreateALLActionButton:function(e,t,n,i){if(i.jb4dcActions&&i.jb4dcActions.jb4dcActionList)for(var l,o=0;o<i.jb4dcActions.jb4dcActionList.length;o++){var a=i.jb4dcActions.jb4dcActionList[o];if(a.juelRunResultPO.booleanResult){if("send"==a.actionType)l=Object.create(SendAction).Instance(e,t,n,i,a);else if("recall"==a.actionType){l=Object.create(RecallAction).Instance(e,t,n,i,a)}else if("deleteInstance"==a.actionType){l=Object.create(DeleteInstanceAction).Instance(e,t,n,i,a)}$("#flowWorkActionButtonWrapOuter").append(l.elem)}}},GetActionObj:function(){return{actionAutoSend:"false",actionCCReceiveObjects:"[]",actionCallApis:"[]",actionCallComplete:"true",actionCallJsMethod:null,actionCaption:"草稿",actionCode:"action_516009775",actionConfirm:"false",actionDisplayConditionEditText:null,actionDisplayConditionEditValue:null,actionExecuteVariables:"[]",actionHTMLClass:null,actionHTMLId:null,actionMainReceiveObjects:"[]",actionRunSqls:"[]",actionSendMessageId:null,actionSendSignalId:null,actionShowOpinionDialog:"false",actionType:"send",actionUpdateFields:"[]",actionValidate:"无",actionOpinionBindToElemId:null,actionOpinionBindToField:null,juelRunResultPO:{booleanResult:!0,message:"",stringResult:"",success:!0},actionDisable:"enable",actionRemark:""}}},FlowRuntimePageObject={_webFormRTParas:null,_formRuntimeInst:null,FORM_RUNTIME_CATEGORY_FLOW:"IsDependenceFlow",_flowInstanceRuntimePO:null,_isCreatedModelerView:!1,buildPageReadyInnerParas:function(e,t,n,i){return{recordId:t,formId:n.jb4dcFormId,currentNodeKey:n.currentNodeKey,currentNodeName:n.currentNodeName,modelId:n.modelIntegratedEntity.modelId,modelReKey:n.modelIntegratedEntity.modelReKey,currentTaskId:n.executionTaskEntity?n.executionTaskEntity.extaskId:"",flowInstanceRuntimePOCacheKey:i,flowInstanceRuntimePO:n,isStartInstanceStatus:e,jb4dcActions:n.jb4dcActions}},pageReadyForStartStatus:function(e,t,n,i){this._formRuntimeInst=Object.create(FormRuntime),FlowRuntimePageObject._flowInstanceRuntimePO=t;var l=StringUtility.Guid(),o=this.buildPageReadyInnerParas(e,l,t,n);return this._formRuntimeInst.Initialization({InstanceId:t.instanceEntity.instId,RendererToId:"htmlDesignRuntimeWrap",FormId:o.formId,RecordId:l,ButtonId:"",OperationType:BaseUtility.GetAddOperationName(),IsPreview:!1,RendererChainCompletedFunc:FlowRuntimePageObject.formRendererChainCompletedFunc,ListFormButtonElemId:"",WebFormRTParas:{},FormRuntimeCategory:FlowRuntimePageObject.FORM_RUNTIME_CATEGORY_FLOW,PreHandleFormHtmlRuntimeFunc:this.preHandleFormHtmlRuntimeFunc,FlowInstanceRuntimePO:t,FlowModelRuntimePOCacheKey:o.flowInstanceRuntimePOCacheKey,IsStartInstanceStatus:e,CurrentNodeKey:o.currentNodeKey,CurrentNodeName:o.currentNodeName,ModelId:o.modelId,ModelReKey:o.modelReKey,CurrentTaskId:""}),this.rendererActionButtons(e,this._formRuntimeInst,i,o),this._formRuntimeInst},pageReadyForProcessStatus:function(e,t,n,i){this._formRuntimeInst=Object.create(FormRuntime);var l=(FlowRuntimePageObject._flowInstanceRuntimePO=t).instanceEntity.instRuBusinessKey,o=this.buildPageReadyInnerParas(e,l,t,n);return this._formRuntimeInst.Initialization({InstanceId:t.instanceEntity.instId,RendererToId:"htmlDesignRuntimeWrap",FormId:o.formId,RecordId:l,ButtonId:"",OperationType:BaseUtility.GetUrlOPParaValue(),IsPreview:!1,RendererChainCompletedFunc:FlowRuntimePageObject.formRendererChainCompletedFunc,ListFormButtonElemId:"",WebFormRTParas:{},FormRuntimeCategory:FlowRuntimePageObject.FORM_RUNTIME_CATEGORY_FLOW,PreHandleFormHtmlRuntimeFunc:this.preHandleFormHtmlRuntimeFunc,FlowInstanceRuntimePO:t,FlowModelRuntimePOCacheKey:o.flowInstanceRuntimePOCacheKey,IsStartInstanceStatus:e,CurrentNodeKey:o.currentNodeKey,CurrentNodeName:o.currentNodeName,ModelId:o.modelId,ModelReKey:o.modelReKey,CurrentTaskId:""}),this.rendererActionButtons(e,this._formRuntimeInst,i,o),this._formRuntimeInst},rendererActionButtons:function(e,t,n,i){ActionsRuntimeObject.CreateALLActionButton(e,t,n,i)},rendererFlowModelerForTabOnActivity:function(e,t){FlowRuntimePageObject._isCreatedModelerView||(CreateModelerView(FlowRuntimePageObject._flowInstanceRuntimePO),FlowRuntimePageObject._isCreatedModelerView=!0)},rendererFlowFileContainer:function(e){FlowFilesListSinglePlugin.Renderer()},formRendererChainCompletedFunc:function(e){var t=e.flowInstanceRuntimePO;FlowRuntimePageObject.rendererFlowFileContainer(t)},preHandleFormHtmlRuntimeFunc:function(e,t,n){var i=$("<div>"+e+"<div>"),l=n.FlowInstanceRuntimePO;0==i.children("[singlename='WFDCT_TabContainer']").length&&((i=$('<div><div class="wfdct-tabs-outer-wrap-runtime html-design-theme-default-root-elem-class" control_category="ContainerControl" desc="" groupname="" id="tabs_wrap_518627616" is_jbuild4dc_data="false" jbuild4dc_custom="true" name="tabs_wrap_518627616" placeholder="" serialize="false" show_remove_button="false" singlename="WFDCT_TabContainer" status="enable" style="" client_resolve="WFDCT_TabContainer"><div>')).children("[singlename='WFDCT_TabContainer']").append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_form_999">'+l.modelName+"</div>"),i.children("[singlename='WFDCT_TabContainer']").append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_form_999">'+e+"</div>"));var o=i.children("[singlename='WFDCT_TabContainer']");return"uploadConvertToPDFPlugin"==l.jb4dcContentDocumentPlugin?(o.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_uploadConvertToPDFPlugin_999">正文</div>'),o.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_uploadConvertToPDFPlugin_999">'+DocumentContentUploadConvertToPDFPlugin.GetHtmlElem(n)+"</div>")):"wpsOnlineDocumentPlugin"==l.jb4dcContentDocumentPlugin&&(o.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_wpsOnlineDocumentPlugin_999">正文</div>'),o.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_wpsOnlineDocumentPlugin_999">未实现</div>')),o.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_files_999">附件</div>'),o.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_files_999">'+FlowFilesListSinglePlugin.GetHtmlElem(n)+"</div>"),o.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_modeler_999">流程图</div>'),o.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_modeler_999" style=\'height: calc(100% - 50px);\' onActivity="FlowRuntimePageObject.rendererFlowModelerForTabOnActivity"><div id="flow-canvas" style="height:100%;"></div></div>'),o.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_task_999">流转信息</div>'),o.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_task_999">'+InstanceExTaskListPlugin.GetHtmlElem(n)+"</div>"),i.html()},changeTaskToView:function(e){console.log("1111111111111111111"),AjaxUtility.Post("/Rest/Workflow/RunTime/Client/InstanceRuntime/ChangeTaskToView",{extaskId:e.extaskId},function(e){},this)}},FlowRuntimeVarBuilder={BuilderSelectedReceiverToInstanceVar:function(e,t){for(var n=[],i=0;i<t.length;i++){var l=t[i];n.push({nextNodeId:l.flowNodeEntity.id,receiverId:l.id,receiverName:l.name,receiverTypeName:l.typeName,receiveType:l.receiveType})}return n}},WorkFlowAction={EmptyProp:{sender:null,flowInstanceRuntimePO:null,flowInstanceRuntimePOCacheKey:null,jb4dcActions:null,formRuntimeInst:null,actionObj:null,isStartInstanceStatus:null,pageHostInstance:null,currentNodeKey:null,currentNodeName:null,recordId:null,modelId:null,modelReKey:null,currentTaskId:null,instanceId:null,actionShowOpinionDialog:null,actionOpinionBindToField:null,actionOpinionBindToElemId:null,htmlId:null},Instance:function(e,t,n,i,l){var o=l.actionHTMLId?l.actionHTMLId:l.actionCode,a=$('<button type="button" class="operation-button operation-button-primary" id="'+o+'"><span>'+l.actionCaption+"</span></button>");return"disable"==l.actionDisable?(a.attr("disable","disable"),a.addClass("operation-button-primary-disabled")):(this._Prop=WorkFlowAction.BuildProp(this,i,t,l,e,n,o),a.bind("click",this._Prop,function(e){console.log(e.data),e.data.sender.ButtonClickEvent()})),l.actionRemark&&a.attr("title",l.actionRemark),{elem:a}},BuildProp:function(e,t,n,i,l,o,a){return{sender:e,flowInstanceRuntimePO:t.flowInstanceRuntimePO,flowInstanceRuntimePOCacheKey:t.flowInstanceRuntimePOCacheKey,jb4dcActions:t.jb4dcActions,formRuntimeInst:n,actionObj:i,isStartInstanceStatus:l,pageHostInstance:o,currentNodeKey:t.currentNodeKey,currentNodeName:t.currentNodeName,recordId:t.recordId,modelId:t.modelId,modelReKey:t.modelReKey,currentTaskId:t.currentTaskId,instanceId:t.flowInstanceRuntimePO.instanceEntity.instId,actionShowOpinionDialog:i.actionShowOpinionDialog,actionOpinionBindToField:i.actionOpinionBindToField,actionOpinionBindToElemId:i.actionOpinionBindToElemId,htmlId:a}},RefreshParentListThenClose:function(e){null!=window.OpenerWindowObj&&null!=window.OpenerWindowObj.instanceMainTaskProcessList&&window.OpenerWindowObj.instanceMainTaskProcessList.reloadData(),portletUtility.UpdateRefreshVersion(),DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},e,function(){DialogUtility.Frame_CloseDialog(window)},this)}},DeleteInstanceAction={acInterface:{},_Prop:WorkFlowAction.EmptyProp,Instance:function(e,t,n,i,l){return WorkFlowAction.Instance.call(this,e,t,n,i,l)},ButtonClickEvent:function(e){DialogUtility.Confirm(window,"暂不支持该操作?",function(){},this)}},RecallAction={acInterface:{recallMySendTask:"/Rest/Workflow/RunTime/Client/InstanceRuntime/RecallMySendTask"},_Prop:WorkFlowAction.EmptyProp,Instance:function(e,t,n,i,l){return WorkFlowAction.Instance.call(this,e,t,n,i,l)},ButtonClickEvent:function(e){DialogUtility.Confirm(window,"确认执行撤回操作?",function(){DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"系统处理中,请稍候!"),AjaxUtility.Post(this.acInterface.recallMySendTask,{extaskId:this._Prop.currentTaskId},function(e){DialogUtility.CloseDialog(DialogUtility.DialogLoadingId),e.success&&this.RefreshParentListThenClose(e.message)},this)},this)},RefreshParentListThenClose:WorkFlowAction.RefreshParentListThenClose},SendAction={acInterface:{resolveNextPossibleFlowNode:"/Rest/Workflow/RunTime/Client/InstanceRuntime/ResolveNextPossibleFlowNode",completeTask:"/Rest/Workflow/RunTime/Client/InstanceRuntime/CompleteTask"},_Prop:WorkFlowAction.EmptyProp,newOpinionList:[],inputOpinionText:null,Instance:function(e,t,n,i,l){return WorkFlowAction.Instance.call(this,e,t,n,i,l)},ButtonClickEvent:function(){var e=ValidateRulesRuntime.ValidateSubmitEnable();ValidateRulesRuntime.AlertValidateErrors(e)&&("true"==this._Prop.actionShowOpinionDialog?DialogUtility.Prompt(window,{title:"系统提示",height:300,width:400},DialogUtility.DialogPromptId,"请输入处理意见1",function(e){var t=this.TryGetOpinionBindToControlInstance(this._Prop);null!=t&&("function"==typeof t.SetNewValue?(t.SetNewValue(e),this.inputOpinionText=e,this.BeginSelectReceiver(this,this._Prop)):DialogUtility.AlertText("意见关联对象为实现SetNewValue方法!!"))},this):this.BeginSelectReceiver(this,this._Prop))},TryGetOpinionBindToControlInstance:function(e){var t,n=e.actionOpinionBindToElemId,i=e.actionOpinionBindToField;return n&&(t=$("#"+n)),t&&0<t.length?HTMLControl.GetControlInstanceByElem(t):(t=$("[fieldname='"+i+"']"))&&0<t.length?HTMLControl.GetControlInstanceByElem(t):null},BeginSelectReceiver:function(e,t){DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"");var n=this.BuildSendToServerData(this._Prop,null);n.success&&AjaxUtility.Post(this.acInterface.resolveNextPossibleFlowNode,n.data,function(e){DialogUtility.CloseDialog(DialogUtility.DialogLoadingId),console.log(e),e.data.nextTaskIsEndEvent?this.SelectReceiverCompleted(e.data.bpmnTaskList,[]):e.data.currentTaskIsMultiInstance&&e.data.currentTaskMultiCompletedInstances+1<e.data.currentTaskMultiCountEngInstances?this.SelectReceiverCompleted(e.data.bpmnTaskList,[]):UserTaskReceiverDialogUtility.ShowDialog(this,e.data.bpmnTaskList,this.SelectReceiverCompleted)},this)},SelectReceiverCompleted:function(n,i){DialogUtility.Confirm(window,"确认执行发送?",function(){var e=FlowRuntimeVarBuilder.BuilderSelectedReceiverToInstanceVar(n,i);null!=this.inputOpinionText&&this.newOpinionList.push(this.BuildNewOpinion(this.inputOpinionText));var t=this.BuildSendToServerData(this._Prop,{selectedReceiverVars:encodeURIComponent(JsonUtility.JsonToString(e)),newOpinionListString:encodeURIComponent(JsonUtility.JsonToString(this.newOpinionList))});t.success&&(DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"系统处理中,请稍候!"),AjaxUtility.Post(this.acInterface.completeTask,t.data,function(e){DialogUtility.CloseDialog(DialogUtility.DialogLoadingId),e.success?this.RefreshParentListThenClose(e.message):DialogUtility.AlertError(window,DialogUtility.DialogAlertErrorId,{},e.data.message)},this))},this)},BuildSendToServerData:function(e,t){var n=e.formRuntimeInst.SerializationFormData(),i={success:!0,data:{isStartInstanceStatus:e.isStartInstanceStatus,actionCode:e.actionObj.actionCode,flowInstanceRuntimePOCacheKey:e.flowInstanceRuntimePOCacheKey,formRecordComplexPOString:encodeURIComponent(JsonUtility.JsonToString(n)),currentNodeKey:e.currentNodeKey,currentNodeName:e.currentNodeName,recordId:e.recordId,modelId:e.modelId,modelReKey:e.modelReKey,currentTaskId:e.currentTaskId,instanceId:e.instanceId,newOpinionListString:""}};if(t)for(var l in t)i.data[l]=t[l];return i},BuildNewOpinion:function(e){return{opinionText:e,opinionClientCode:StringUtility.Timestamp()}},RefreshParentListThenClose:WorkFlowAction.RefreshParentListThenClose},UserTaskReceiverDialogUtility={ShowDialog:function(e,t,n){userTaskReceiverDialogOuterVue||($(document.body).append("<div id='userTaskReceiverDialogOuter'><user-task-receiver-dialog ref='userTaskReceiverDialog'></user-task-receiver-dialog></div>"),userTaskReceiverDialogOuterVue=new Vue({el:"#userTaskReceiverDialogOuter",data:{acInterface:{getRuntimeModelWithStart:"/Rest/Workflow/RunTime/Client/ModelRuntime/GetRuntimeModelWithStart"}},mounted:function(){},methods:{}})),userTaskReceiverDialogOuterVue.$refs.userTaskReceiverDialog.beginSelectReceiver(e,t,n)},CloseDialog:function(){DialogUtility.CloseDialogElem(userTaskReceiverDialogOuterVue.$refs.userTaskReceiverDialog.$refs.userTaskReceiverDialogWrap),userTaskReceiverDialogOuterVue=null,$("#userTaskReceiverDialogOuter").remove(),DialogUtility.RemoveDialogRemainingElem("userTaskReceiverDialogInner")}};Vue.component("user-task-receiver-dialog",{data:function(){return{acInterface:{},nextFlowNodeEntities:[],receiverTree:{treeSetting:{view:{dblClickExpand:!1,showLine:!0,fontCss:{color:"black","font-weight":"normal"}},check:{enable:!1,nocheckInherit:!1,radioType:"all"},async:{enable:!0,contentType:"application/x-www-form-urlencoded",url:BaseUtility.BuildAction("/Rest/Workflow/RunTime/Client/ReceiverRuntime/GetAsyncReceivers"),autoParam:["id","typeName","name"]},data:{key:{name:"name",children:"runtimeReceiveUsers"},simpleData:{enable:!0,idKey:"id",pIdKey:"parentId",rootPId:null}},callback:{onClick:function(e,t,n){},onDblClick:function(e,t,n){var i=this.getZTreeObj(t)._host,l=this.getZTreeObj(t).flowNodeEntity,o=this.getZTreeObj(t).receiveType;i.addReceiverToSelected(n,l,o)},beforeAsync:function(e,t){console.log(e)}}},treeObjMap:{}},selectedReceiver:{columnsConfig:[{title:"已选用户",key:"name",width:188,align:"center"},{title:"操作",slot:"action",width:70,align:"center"}],receiverData:[]}}},mounted:function(){},filters:{filterReceiverData:function(e,t,n){return e.filter(function(e){return e.flowNodeEntity.id==t.id&&e.receiveType==n})}},methods:{beginSelectReceiver:function(e,t,n){var i=this,l=this.$refs.userTaskReceiverDialogWrap;DialogUtility.DialogElemObj(l,{modal:!0,width:650,height:600,title:"选择接收人员",resizable:!1,buttons:{"确认":function(){i.validateCompleteEnable().success&&n.call(e,i.nextFlowNodeEntities,i.selectedReceiver.receiverData)},"取消":function(){UserTaskReceiverDialogUtility.CloseDialog()}},open:function(e,t){$(".ui-dialog-titlebar-close",$(this).parent()).hide()}}),this.nextFlowNodeEntities=t,window.setTimeout(this.initTree,500)},getRootOrganMainReceiveObjects:function(){return[{value:null,text:null,id:"0",parentId:null,outerId:null,code:"0000",attr1:null,attr2:null,attr3:null,attr4:null,nodeTypeName:null,icon:null,nocheck:!1,isParent:"true",open:!1,name:"组织机构管理",typeName:"Organs",desc:null,status:"启用",filter:"",orderNum:22,runtimeReceiveUsers:null,group:!0,custName:!1}]},initTree:function(){for(var e=0;e<this.nextFlowNodeEntities.length;e++){var t=this.nextFlowNodeEntities[e];if(t.extensionElements&&t.extensionElements.jb4dcMainReceiveObjects&&t.extensionElements.jb4dcMainReceiveObjects.runtimeReceiveGroups){var n=this.buildUlTreeId(t,"main");this.receiverTree.treeObjMap[n]=$.fn.zTree.init($("#"+n),this.receiverTree.treeSetting,t.extensionElements.jb4dcMainReceiveObjects.runtimeReceiveGroups),(this.receiverTree.treeObjMap[n]._host=this).receiverTree.treeObjMap[n].flowNodeEntity=t,this.receiverTree.treeObjMap[n].receiveType="main"}else if(!t.extensionElements||!t.extensionElements.jb4dcMainReceiveObjects||!t.extensionElements.jb4dcMainReceiveObjects.jb4dcReceiveObjectList){var i=this.buildUlTreeId(t,"main");this.receiverTree.treeObjMap[i]=$.fn.zTree.init($("#"+i),this.receiverTree.treeSetting,this.getRootOrganMainReceiveObjects()),(this.receiverTree.treeObjMap[i]._host=this).receiverTree.treeObjMap[i].flowNodeEntity=t,this.receiverTree.treeObjMap[i].receiveType="main"}if(t.extensionElements&&t.extensionElements.jb4dcCCReceiveObjects&&t.extensionElements.jb4dcCCReceiveObjects.runtimeReceiveGroups){var l=this.buildUlTreeId(t,"cc");this.receiverTree.treeObjMap[l]=$.fn.zTree.init($("#"+l),this.receiverTree.treeSetting,t.extensionElements.jb4dcCCReceiveObjects.runtimeReceiveGroups),(this.receiverTree.treeObjMap[l]._host=this).receiverTree.treeObjMap[l].flowNodeEntity=t,this.receiverTree.treeObjMap[l].receiveType="cc"}}},buildUlTreeId:function(e,t){return"ulTree_"+t+"_"+e.id},addTreeSelectedReceiverToSelected:function(e,t){var n=this.buildUlTreeId(e,t),i=this.receiverTree.treeObjMap[n];if(i){var l=i.getSelectedNodes();l&&0<l.length&&this.addReceiverToSelected(l[0],e,t)}},addReceiverToSelected:function(e,t,n){var i=this.isMultiInstanceTask(t),l=t.id+"_"+n+"_"+e.id;if("SingleUser"==e.typeName)if(e.innerSingleId=l,e.flowNodeEntity=t,"cc"!=(e.receiveType=n)&&!i||ArrayUtility.Exist(this.selectedReceiver.receiverData,function(e){return e.innerSingleId==l})){if("main"==n&&!i){for(var o=0;o<this.selectedReceiver.receiverData.length;o++)this.selectedReceiver.receiverData[o].flowNodeEntity.id==t.id&&this.selectedReceiver.receiverData[o].receiveType==n&&ArrayUtility.Delete(this.selectedReceiver.receiverData,o);this.selectedReceiver.receiverData.push(e)}}else this.selectedReceiver.receiverData.push(e);else if(i&&("Users"==e.typeName||"Role"==e.typeName||"Organs"==e.typeName)&&null!=e.runtimeReceiveUsers&&0<e.runtimeReceiveUsers.length)for(var a=0;a<e.runtimeReceiveUsers.length;a++){var s=e.runtimeReceiveUsers[a];"SingleUser"==s.typeName&&this.addReceiverToSelected(s,t,n)}},clearSelectedReceiverToSelected:function(e,t){for(var n=this.selectedReceiver.receiverData.length-1;0<=n;n--){var i=this.selectedReceiver.receiverData[n];i.flowNodeEntity.id==e.id&&i.receiveType==t&&ArrayUtility.Delete(this.selectedReceiver.receiverData,n)}},deleteSelectedReceiver:function(e,t){for(var n=0;n<this.selectedReceiver.receiverData.length;n++)this.selectedReceiver.receiverData[n].innerSingleId==t.innerSingleId&&ArrayUtility.Delete(this.selectedReceiver.receiverData,n)},isMultiInstanceTask:function(e){return e.multiInstanceTask},buildTabLabel:function(e){return e.name+" ["+(this.isMultiInstanceTask(e)?"多人":"单人")+"]"},validateCompleteEnable:function(){for(var n=this,e=[],t=!0,i=function(t){"com.jb4dc.workflow.po.bpmn.process.BpmnUserTask"==n.nextFlowNodeEntities[t].taskTypeName&&(ArrayUtility.Exist(n.selectedReceiver.receiverData,function(e){return e.flowNodeEntity.id==n.nextFlowNodeEntities[t].id&&"main"==e.receiveType})||e.push({taskName:n.nextFlowNodeEntities[t].name,flowNodeEntity:n.nextFlowNodeEntities[t],message:"环节["+n.nextFlowNodeEntities[t].name+"]至少需要设置一个接收用户!"}))},l=0;l<this.nextFlowNodeEntities.length;l++)i(l);if(0<e.length){var o=[];for(l=0;l<e.length;l++)o.push(e[l].message);DialogUtility.AlertText(o.join("<br />"),this),t=!1}return{success:t}}},template:'<div id="userTaskReceiverDialogInner" ref="userTaskReceiverDialogWrap" style="display: none">\n                <tabs name="userTaskReceiverDialogTabs">\n                    <tab-pane :label="buildTabLabel(flowNodeEntity)" tab="userTaskReceiverDialogTabs" v-for="flowNodeEntity in nextFlowNodeEntities" :key="flowNodeEntity.id">\n                        <collapse accordion value="mainReceiver">\n                            <panel name="mainReceiver">\n                                主送人员\n                                <div slot="content">\n                                    <div class="user-task-receiver-dialog-outer-wrap">\n                                        <div class="selectEnableUserList">\n                                            <ul :id="buildUlTreeId(flowNodeEntity,\'main\')" class="ztree" style="width: 200px"></ul>\n                                        </div>\n                                        <div class="selectOpButtonContainer">\n                                            <div class="single-op-button" title="添加人员" @click="addTreeSelectedReceiverToSelected(flowNodeEntity,\'main\')"><Icon type="md-arrow-round-forward" /></div>\n                                            <div class="single-op-button" title="清空已选人员" @click="clearSelectedReceiverToSelected(flowNodeEntity,\'main\')"><Icon type="md-backspace" /></div>\n                                        </div>\n                                        <div class="selectedUserList">\n                                            <i-table height="327" width="260" stripe :columns="selectedReceiver.columnsConfig" :data="selectedReceiver.receiverData | filterReceiverData(flowNodeEntity, \'main\')"\n                                                 class="iv-list-table" size="small">\n                                                 <template slot-scope="{ row, index }" slot="action">\n                                                    <div class="list-font-icon-button-class" @click="deleteSelectedReceiver(index,row)">\n                                                        <Icon type="md-close" />\n                                                    </div>\n                                                </template>     \n                                            </i-table>\n                                        </div>\n                                    </div>\n                                </div>\n                            </panel>\n                            <panel name="ccReceiver">\n                                抄送人员\n                                <div slot="content">\n                                    <div class="user-task-receiver-dialog-outer-wrap">\n                                        <div class="selectEnableUserList">\n                                            <ul :id="buildUlTreeId(flowNodeEntity,\'cc\')" class="ztree" style="width: 200px"></ul>\n                                        </div>\n                                        <div class="selectOpButtonContainer">\n                                            <div class="single-op-button" title="添加人员" @click="addReceiverToSelected(flowNodeEntity,\'cc\')"><Icon type="md-arrow-round-forward" /></div>\n                                            <div class="single-op-button" title="清空已选人员"><Icon type="md-backspace" /></div>\n                                        </div>\n                                        <div class="selectedUserList">\n                                            <i-table height="327" width="260" stripe :columns="selectedReceiver.columnsConfig" :data="selectedReceiver.receiverData | filterReceiverData(flowNodeEntity, \'cc\')"\n                                                 class="iv-list-table" size="small">\n                                                 <template slot-scope="{ row, index }" slot="action">\n                                                    <div class="list-font-icon-button-class" @click="deleteSelectedReceiver(index,row)">\n                                                        <Icon type="md-close" />\n                                                    </div>\n                                                </template>     \n                                            </i-table>\n                                        </div>\n                                    </div>\n                                </div>\n                            </panel>\n                        </collapse>\n                    </tab-pane>\n                </tabs>\n            </div>'});var DocumentContentUploadConvertToPDFPlugin={onchangeFile:function(e){$("#doc-selected-file").html($(e).val())},uploadAndConvertToPDF:function(e,t,n){if($("#sourceFile").val()){var i=new FormData;i.append("file",document.getElementById("sourceFile").files[0]);var l=new XMLHttpRequest;l.open("POST",BaseUtility.BuildAction("/Rest/Workflow/RunTime/Client/DocumentFileRuntime/UploadFileAndConvertToPDF?instanceId="+t+"&businessKey="+n)),l.onload=function(){if(console.log(l),200===l.status){var e=JsonUtility.StringToJson(l.response);DocumentContentUploadConvertToPDFPlugin.loadPDFFileToViewer(e.data.fileId),DialogUtility.CloseByElemId(DialogUtility.DialogLoadingId)}else DialogUtility.AlertText("执行出错!"+l.responseText),DialogUtility.CloseByElemId(DialogUtility.DialogLoadingId)},l.upload.onprogress=function(e){if(e.lengthComputable){DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"");var t=Math.floor(e.loaded/e.total*100);$("#upload-process").html(t+"%")}},l.send(i)}else DialogUtility.AlertText("请选择要上传的文件!",this)},tryLoadHistoryDocument:function(e){AjaxUtility.Get("/Rest/Workflow/RunTime/Client/DocumentFileRuntime/TryGetLastOnlineDocument",{instanceId:e.InstanceId},function(e){e.success&&e.data&&this.loadPDFFileToViewer(e.data.fileId)},this)},loadPDFFileToViewer:function(e){var t=BaseUtility.GetRootPath()+"/Rest/Workflow/RunTime/Client/DocumentFileRuntime/DownLoadPdfDocumentByFileId?fileId="+e;$("#pdfViewer").attr("src","/Js/External/PDFJS-2.9.359-dist/web/viewer.html?file="+encodeURIComponent(t))},GetHtmlElem:function(e){var t=e.InstanceId,n=e.RecordId;return this.tryLoadHistoryDocument(e),'<div class="document-outer-wrap">\n                    <div class="document-buttons-outer">\n                        <div class="document-buttons-inner">\n                            <button type="button" class="upload-and-convert-button" disabled>下载PDF文件</button>\n                            <button type="button" class="upload-and-convert-button" disabled>下载原始文件</button>\n                            <button type="button" class="upload-and-convert-button" onclick="DocumentContentUploadConvertToPDFPlugin.uploadAndConvertToPDF(this,\''.concat(t,"','").concat(n,'\')">上传并转换为pdf</button>\n                            <div class="file-upload">选择文件\n                               <input\n                                   id="sourceFile"\n                                   type="file"\n                                   name="inputFile" accept=".doc,.docx,.pdf" onchange="DocumentContentUploadConvertToPDFPlugin.onchangeFile(this)" />\n                            </div>\n                            <div class="selected-file-message">已选文件:<span id="doc-selected-file"></span></div>\n                            <div class="upload-process" id="upload-process"></div>\n                        </div>\n                    </div>\n                    <div class="document-content">\n                        <iframe id="pdfViewer" src="" style="width: 100%;height: 100%;border: 0px"></iframe>\n                    </div>\n                </div>')}},FlowFilesListSinglePlugin={_prop:{},_flowInstanceRuntimePO:null,_currentNode:null,_authoritiesFileAuthority:null,_authoritiesOnlySendBackCanEdit:"false",GetHtmlElem:function(e){return FlowFilesListSinglePlugin._prop=e,FlowFilesListSinglePlugin._flowInstanceRuntimePO=e.FlowInstanceRuntimePO,FlowFilesListSinglePlugin._currentNode=ArrayUtility.Where(FlowFilesListSinglePlugin._flowInstanceRuntimePO.bpmnDefinitions.bpmnProcess.userTaskList,function(e){return e.id==FlowFilesListSinglePlugin._flowInstanceRuntimePO.currentNodeKey}),0==FlowFilesListSinglePlugin._currentNode.length?FlowFilesListSinglePlugin._currentNode=FlowFilesListSinglePlugin._flowInstanceRuntimePO.bpmnDefinitions.bpmnProcess.startEvent:FlowFilesListSinglePlugin._currentNode=FlowFilesListSinglePlugin._currentNode[0],FlowFilesListSinglePlugin._currentNode.extensionElements?FlowFilesListSinglePlugin._authoritiesFileAuthority=JsonUtility.StringToJson(FlowFilesListSinglePlugin._currentNode.extensionElements.jb4dcAuthorities.authoritiesFileAuthority):FlowFilesListSinglePlugin._authoritiesFileAuthority={addFile:"true"},'<div id="FlowFilesListPluginContainer">\n                </div>'},acInterface:{getFileListData:"/Rest/Workflow/RunTime/Client/InstanceFileRuntime/GetAttachmentFileListData",uploadFile:"/Rest/Workflow/RunTime/Client/InstanceFileRuntime/UploadFile",downloadFile:"/Rest/Builder/RunTime/FileRuntime/DownLoadFileByFileId",deleteFile:"/Rest/Builder/RunTime/FileRuntime/DeleteFileByFileId"},Renderer:function(){this.BuildUploadContainer(),this.BuildFileList()},ToViewStatus:function(e,t,n,i){$("#"+this._prop.uploadWarpId).hide(),$("#"+this._prop.elemId).find(".delete-button-elem").hide(),$("#"+this._prop.elemId).find(".move-up-button-elem").hide(),$("#"+this._prop.elemId).find(".move-down-button-elem").hide()},GetThisRecordId:function(){var e="";return formRuntimeInst&&formRuntimeInst.GetWebFormRTParas()&&formRuntimeInst.GetWebFormRTParas().RecordId?e=formRuntimeInst.GetWebFormRTParas().RecordId:DialogUtility.AlertText("查找不到绑定的记录ID"),e},GetThisRecordType:function(){return this._prop.objType},GetUploadEndPointRequest:function(){return{endpoint:BaseUtility.GetRootPath()+this.acInterface.uploadFile,params:{fileType:"Attachment",instanceId:this._prop.FlowInstanceRuntimePO.instanceEntity.instId,businessKey:this._prop.RecordId}}},CreateDefaultTemplate:function(e){$(window.document.body).append('<script type="text/template" id="'+e+'">\n        <div class="qq-uploader-selector qq-uploader qq-gallery" qq-drop-area-text="拖放文件到这里进行上传。" style="min-height: 78px;">\n            <div class="qq-total-progress-bar-container-selector qq-total-progress-bar-container">\n                <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar"></div>\n            </div>\n            <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>\n                <span class="qq-upload-drop-area-text-selector"></span>\n            </div>\n            <div class="qq-upload-button-selector qq-upload-button" style="float: right">\n                <div>选择文件</div>\n            </div>\n            <span class="qq-drop-processing-selector qq-drop-processing">\n                <span>Processing dropped files...</span>\n                <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>\n            </span>\n            <ul class="qq-upload-list-selector qq-upload-list" role="region" aria-live="polite" aria-relevant="additions removals" style="display: none">\n                <li>\n                    <span role="status" class="qq-upload-status-text-selector qq-upload-status-text"></span>\n                    <div class="qq-progress-bar-container-selector qq-progress-bar-container">\n                        <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="qq-progress-bar-selector qq-progress-bar"></div>\n                    </div>\n                    <span class="qq-upload-spinner-selector qq-upload-spinner"></span>\n                    <div class="qq-thumbnail-wrapper">\n                        <img class="qq-thumbnail-selector" qq-max-size="120" qq-server-scale>\n                    </div>\n                    <button type="button" class="qq-upload-cancel-selector qq-upload-cancel">X</button>\n                    <button type="button" class="qq-upload-retry-selector qq-upload-retry">\n                        <span class="qq-btn qq-retry-icon" aria-label="Retry"></span>\n                        Retry\n                    </button>\n\n                    <div class="qq-file-info">\n                        <div class="qq-file-name">\n                            <span class="qq-upload-file-selector qq-upload-file"></span>\n                            <span class="qq-edit-filename-icon-selector qq-btn qq-edit-filename-icon" aria-label="Edit filename"></span>\n                        </div>\n                        <input class="qq-edit-filename-selector qq-edit-filename" tabindex="0" type="text">\n                        <span class="qq-upload-size-selector qq-upload-size"></span>\n                        <button type="button" class="qq-btn qq-upload-delete-selector qq-upload-delete">\n                            <span class="qq-btn qq-delete-icon" aria-label="Delete"></span>\n                        </button>\n                        <button type="button" class="qq-btn qq-upload-pause-selector qq-upload-pause">\n                            <span class="qq-btn qq-pause-icon" aria-label="Pause"></span>\n                        </button>\n                        <button type="button" class="qq-btn qq-upload-continue-selector qq-upload-continue">\n                            <span class="qq-btn qq-continue-icon" aria-label="Continue"></span>\n                        </button>\n                    </div>\n                </li>\n            </ul>\n\n            <dialog class="qq-alert-dialog-selector">\n                <div class="qq-dialog-message-selector"></div>\n                <div class="qq-dialog-buttons">\n                    <button type="button" class="qq-cancel-button-selector">Close</button>\n                </div>\n            </dialog>\n\n            <dialog class="qq-confirm-dialog-selector">\n                <div class="qq-dialog-message-selector"></div>\n                <div class="qq-dialog-buttons">\n                    <button type="button" class="qq-cancel-button-selector">No</button>\n                    <button type="button" class="qq-ok-button-selector">Yes</button>\n                </div>\n            </dialog>\n\n            <dialog class="qq-prompt-dialog-selector">\n                <div class="qq-dialog-message-selector"></div>\n                <input type="text">\n                <div class="qq-dialog-buttons">\n                    <button type="button" class="qq-cancel-button-selector">Cancel</button>\n                    <button type="button" class="qq-ok-button-selector">Ok</button>\n                </div>\n            </dialog>\n        </div>\n    <\/script>')},BuildUploadContainer:function(){if("true"==this._authoritiesFileAuthority.addFile){var e=$("#FlowFilesListPluginContainer"),t="uploadWarp_"+StringUtility.Timestamp();this._prop.uploadWarpId=t;var n=$("<div id='"+t+"'></div>");e.append(n);var i="qq-template_"+this._prop.elemId;this.CreateDefaultTemplate(i);var l=this;new qq.FineUploader({element:n[0],template:i,multiple:!1,request:this.GetUploadEndPointRequest(),callbacks:{onComplete:function(e,t,n,i){n.success?l.BuildFileList():DialogUtility.AlertText(n.message)}}})}},BuildFileList:function(){var e=$("#FlowFilesListPluginContainer"),t="flow_file_plugin_upload_file_list_warp";$("#"+t).remove();var n=$("<div class='upload_file_list_wrap' id='"+t+"'><table class='file_list_table'><thead><tr><th>文件名称</th><th style='width: 140px'>上传时间</th><th style='width: 140px'>上传人</th><th style='width: 140px'>文件大小</th><th style='width: 140px'>操作</th></tr></thead><tbody></tbody></table></div>"),i=n.find("tbody"),l=this._prop.FlowInstanceRuntimePO.instanceEntity.instId;AjaxUtility.Post(this.acInterface.getFileListData,{instanceId:l},function(e){if(e.success)for(var t=0;t<e.data.length;t++){var n=e.data[t];i.append(this.BuildFileInfoTableRow(e,n))}},this),$(e.append(n))},BuildFileInfoTableRow:function(e,t){var n=StringUtility.EncodeHtml(t.fileName),i=DateUtility.DateFormatByTimeStamp(t.fileCreateTime,"yyyy-MM-dd"),l=HardDiskUtility.ByteConvert(t.fileSize),o=StringUtility.EncodeHtml(t.fileCreator),a=$("<tr><td>".concat(n,'</td><td style="text-align: center">').concat(i,'</td><td style="text-align: center">').concat(o,'</td><td style="text-align: center">').concat(l,'</td><td style="text-align: center"></td></tr>'));return this.BuildFileInfoTableRowInnerButtons(e,t,a),a},BuildFileInfoTableRowInnerButtons:function(e,t,n){!this._prop.downloadEnable&&!this._prop.deleteEnable&&this._prop.previewEnable&&this._prop.moveOrderEnable;var i=n.find("td:last"),l=this;if(this._prop.deleteEnable){var o=$("<div class='file-list-inner-button delete-button-elem' title='点击删除'></div>");o.click(function(){DialogUtility.Confirm(window,"确认删除附件【"+t.fileName+"】吗?",function(){AjaxUtility.Post(l.acInterface.deleteFile,{fileId:t.fileId},function(e){e.success&&o.parent().parent().remove()},l)})}),i.append(o)}this._prop.moveOrderEnable;var a=$("<div class='file-list-inner-button move-up-button-elem' title='点击上移'></div>");a.click(function(){DialogUtility.AlertText("暂不支持!")});var s=$("<div class='file-list-inner-button move-down-button-elem' title='点击下移'></div>");if(s.click(function(){DialogUtility.AlertText("暂不支持!")}),i.append(a),i.append(s),this._prop.downloadEnable){var r=$("<div class='file-list-inner-button download-button-elem' title='点击下载'></div>");r.click(function(){var e=BaseUtility.GetRootPath()+l.acInterface.downloadFile+"?fileId="+t.fileId;window.open(e)}),i.append(r)}this._prop.previewEnable;var c=$("<div class='file-list-inner-button preview-button-elem' title='点击预览'></div>");c.click(function(){DialogUtility.AlertText("暂不支持!")}),i.append(c)},TestFilePreviewEnable:function(e){return!0}},InstanceExTaskListPlugin={_flowInstanceRuntimePO:null,_historyExecutionTaskEntityList:null,_currentExTask:null,GetHtmlElem:function(e){return this._flowInstanceRuntimePO=e.FlowInstanceRuntimePO,this._historyExecutionTaskEntityList=e.FlowInstanceRuntimePO.historyExecutionTaskEntityList,this._currentExTask=e.FlowInstanceRuntimePO.executionTaskEntity,this._historyExecutionTaskEntityList?this.Renderer():""},ViewDetail:function(t){var e=ArrayUtility.WhereSingle(this._historyExecutionTaskEntityList,function(e){return e.extaskId==t});DialogUtility.AlertJsonCode(e)},ConvertStatusToCNName:function(e){return"Processing"==e?"办理中":"End"==e?"已办理":"Cancel"==e?"被撤回":"CancelEnd"==e?"办理&#10522;&#10230;撤回":"未知"},Renderer:function(){for(var e="<div class='instance-ex-task-list-plugin'>\n                            <table class='ex-task-table'>\n                                <thead>\n                                    <tr><th>环节名称</th><th>发送人</th><th>发送时间</th><th>查看时间</th><th>接收人/处理人</th><th>处理时间</th><th>执行动作</th><th>状态</th><th style=\"width: 200px\">操作</th></tr>\n                                </thead>\n                                <tbody>",t=0;t<this._historyExecutionTaskEntityList.length;t++){var n=this._historyExecutionTaskEntityList[t],i=StringUtility.NullToES(n.extaskId),l=StringUtility.NullToES(n.extaskCurNodeName),o=StringUtility.NullToES(n.extaskSenderName),a=StringUtility.NullToES(n.extaskStartTime),s=StringUtility.NullToES(n.extaskViewTime),r=StringUtility.NullToES(n.extaskReceiverName),c=StringUtility.NullToES(n.extaskHandlerId),d=StringUtility.NullToES(n.extaskReceiverId);StringUtility.IsNullOrEmpty(c)||d==c||(r=StringUtility.NullToES(n.extaskReceiverName)+"/"+StringUtility.NullToES(n.extaskHandlerName));StringUtility.NullToES(n.extaskHandlerName);var u=StringUtility.NullToES(n.extaskEndTime),p=StringUtility.NullToES(n.extaskHandleActionName),m=this.ConvertStatusToCNName(StringUtility.NullToES(n.extaskStatus)),v="n-task-tr";this._currentExTask.extaskId==i&&(v="my-this-task-tr"),e+='<tr class="'.concat(v,'">\n                            <td>').concat(l,"</td><td>").concat(o,"</td><td>").concat(a,"</td>\n                            <td>").concat(s,"</td><td>").concat(r,"</td><td>").concat(u,"</td>\n                            <td>").concat(p,"</td><td>").concat(m,"</td><td><a onclick=\"InstanceExTaskListPlugin.ViewDetail('").concat(i,"')\">详情</a></td></tr>")}return e+="</tbody></table></div>"}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjdGlvbnNSdW50aW1lT2JqZWN0LmpzIiwiRGlhbG9nL1VzZXJUYXNrUmVjZWl2ZXJEaWFsb2cuanMiLCJGbG93UnVudGltZVBhZ2VPYmplY3QuanMiLCJGbG93UnVudGltZVZhckJ1aWxkZXIuanMiLCJXb3JrRmxvd0FjdGlvbi5qcyIsIkFjdGlvbnMvRGVsZXRlSW5zdGFuY2VBY3Rpb24uanMiLCJBY3Rpb25zL1JlY2FsbEFjdGlvbi5qcyIsIkFjdGlvbnMvU2VuZEFjdGlvbi5qcyIsIlBsdWdpbnMvRG9jdW1lbnRDb250ZW50VXBsb2FkQ29udmVydFRvUERGUGx1Z2luLmpzIiwiUGx1Z2lucy9GbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLmpzIiwiUGx1Z2lucy9JbnN0YW5jZUV4VGFza0xpc3RQbHVnaW4uanMiXSwibmFtZXMiOlsidXNlclRhc2tSZWNlaXZlckRpYWxvZ091dGVyVnVlIiwiQWN0aW9uc1J1bnRpbWVPYmplY3QiLCJDcmVhdGVBTExBY3Rpb25CdXR0b24iLCJpc1N0YXJ0SW5zdGFuY2VTdGF0dXMiLCJmb3JtUnVudGltZUluc3QiLCJwYWdlSG9zdEluc3RhbmNlIiwicGFnZVJlYWR5SW5uZXJQYXJhcyIsImpiNGRjQWN0aW9ucyIsImpiNGRjQWN0aW9uTGlzdCIsImJ1dHRvbkVsZW0iLCJpIiwibGVuZ3RoIiwiYWN0aW9uT2JqIiwianVlbFJ1blJlc3VsdFBPIiwiYm9vbGVhblJlc3VsdCIsImFjdGlvblR5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJTZW5kQWN0aW9uIiwiSW5zdGFuY2UiLCJSZWNhbGxBY3Rpb24iLCJEZWxldGVJbnN0YW5jZUFjdGlvbiIsIiQiLCJhcHBlbmQiLCJlbGVtIiwiR2V0QWN0aW9uT2JqIiwiYWN0aW9uQXV0b1NlbmQiLCJhY3Rpb25DQ1JlY2VpdmVPYmplY3RzIiwiYWN0aW9uQ2FsbEFwaXMiLCJhY3Rpb25DYWxsQ29tcGxldGUiLCJhY3Rpb25DYWxsSnNNZXRob2QiLCJhY3Rpb25DYXB0aW9uIiwiYWN0aW9uQ29kZSIsImFjdGlvbkNvbmZpcm0iLCJhY3Rpb25EaXNwbGF5Q29uZGl0aW9uRWRpdFRleHQiLCJhY3Rpb25EaXNwbGF5Q29uZGl0aW9uRWRpdFZhbHVlIiwiYWN0aW9uRXhlY3V0ZVZhcmlhYmxlcyIsImFjdGlvbkhUTUxDbGFzcyIsImFjdGlvbkhUTUxJZCIsImFjdGlvbk1haW5SZWNlaXZlT2JqZWN0cyIsImFjdGlvblJ1blNxbHMiLCJhY3Rpb25TZW5kTWVzc2FnZUlkIiwiYWN0aW9uU2VuZFNpZ25hbElkIiwiYWN0aW9uU2hvd09waW5pb25EaWFsb2ciLCJhY3Rpb25VcGRhdGVGaWVsZHMiLCJhY3Rpb25WYWxpZGF0ZSIsImFjdGlvbk9waW5pb25CaW5kVG9FbGVtSWQiLCJhY3Rpb25PcGluaW9uQmluZFRvRmllbGQiLCJtZXNzYWdlIiwic3RyaW5nUmVzdWx0Iiwic3VjY2VzcyIsImFjdGlvbkRpc2FibGUiLCJhY3Rpb25SZW1hcmsiLCJGbG93UnVudGltZVBhZ2VPYmplY3QiLCJfd2ViRm9ybVJUUGFyYXMiLCJfZm9ybVJ1bnRpbWVJbnN0IiwiRk9STV9SVU5USU1FX0NBVEVHT1JZX0ZMT1ciLCJfZmxvd0luc3RhbmNlUnVudGltZVBPIiwiX2lzQ3JlYXRlZE1vZGVsZXJWaWV3IiwiYnVpbGRQYWdlUmVhZHlJbm5lclBhcmFzIiwicmVjb3JkSWQiLCJmbG93SW5zdGFuY2VSdW50aW1lUE8iLCJmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSIsImZvcm1JZCIsImpiNGRjRm9ybUlkIiwiY3VycmVudE5vZGVLZXkiLCJjdXJyZW50Tm9kZU5hbWUiLCJtb2RlbElkIiwibW9kZWxJbnRlZ3JhdGVkRW50aXR5IiwibW9kZWxSZUtleSIsImN1cnJlbnRUYXNrSWQiLCJleGVjdXRpb25UYXNrRW50aXR5IiwiZXh0YXNrSWQiLCJwYWdlUmVhZHlGb3JTdGFydFN0YXR1cyIsInRoaXMiLCJGb3JtUnVudGltZSIsIlN0cmluZ1V0aWxpdHkiLCJHdWlkIiwiSW5pdGlhbGl6YXRpb24iLCJJbnN0YW5jZUlkIiwiaW5zdGFuY2VFbnRpdHkiLCJpbnN0SWQiLCJSZW5kZXJlclRvSWQiLCJGb3JtSWQiLCJSZWNvcmRJZCIsIkJ1dHRvbklkIiwiT3BlcmF0aW9uVHlwZSIsIkJhc2VVdGlsaXR5IiwiR2V0QWRkT3BlcmF0aW9uTmFtZSIsIklzUHJldmlldyIsIlJlbmRlcmVyQ2hhaW5Db21wbGV0ZWRGdW5jIiwiZm9ybVJlbmRlcmVyQ2hhaW5Db21wbGV0ZWRGdW5jIiwiTGlzdEZvcm1CdXR0b25FbGVtSWQiLCJXZWJGb3JtUlRQYXJhcyIsIkZvcm1SdW50aW1lQ2F0ZWdvcnkiLCJQcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jIiwicHJlSGFuZGxlRm9ybUh0bWxSdW50aW1lRnVuYyIsIkZsb3dJbnN0YW5jZVJ1bnRpbWVQTyIsIkZsb3dNb2RlbFJ1bnRpbWVQT0NhY2hlS2V5IiwiSXNTdGFydEluc3RhbmNlU3RhdHVzIiwiQ3VycmVudE5vZGVLZXkiLCJDdXJyZW50Tm9kZU5hbWUiLCJNb2RlbElkIiwiTW9kZWxSZUtleSIsIkN1cnJlbnRUYXNrSWQiLCJyZW5kZXJlckFjdGlvbkJ1dHRvbnMiLCJwYWdlUmVhZHlGb3JQcm9jZXNzU3RhdHVzIiwiaW5zdFJ1QnVzaW5lc3NLZXkiLCJHZXRVcmxPUFBhcmFWYWx1ZSIsInJlbmRlcmVyRmxvd01vZGVsZXJGb3JUYWJPbkFjdGl2aXR5IiwiZXZlbnQiLCJ1aSIsIkNyZWF0ZU1vZGVsZXJWaWV3IiwicmVuZGVyZXJGbG93RmlsZUNvbnRhaW5lciIsIkZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4iLCJSZW5kZXJlciIsInNlbmRlckNvbmZpZyIsInNvdXJjZVJ1bnRpbWVIdG1sIiwicHJvcENvbmZpZyIsImZsb3dQYWdlQ29udGFpbmVyIiwiY2hpbGRyZW4iLCJtb2RlbE5hbWUiLCJ0YWJDb250YWluZXIiLCJqYjRkY0NvbnRlbnREb2N1bWVudFBsdWdpbiIsIkRvY3VtZW50Q29udGVudFVwbG9hZENvbnZlcnRUb1BERlBsdWdpbiIsIkdldEh0bWxFbGVtIiwiSW5zdGFuY2VFeFRhc2tMaXN0UGx1Z2luIiwiaHRtbCIsImNoYW5nZVRhc2tUb1ZpZXciLCJjb25zb2xlIiwibG9nIiwiQWpheFV0aWxpdHkiLCJQb3N0IiwicmVzdWx0IiwiRmxvd1J1bnRpbWVWYXJCdWlsZGVyIiwiQnVpbGRlclNlbGVjdGVkUmVjZWl2ZXJUb0luc3RhbmNlVmFyIiwibmV4dEZsb3dOb2RlRW50aXRpZXMiLCJzZWxlY3RlZFJlY2VpdmVyRGF0YSIsInJlc3VsdERhdGEiLCJyZWNlaXZlciIsInB1c2giLCJuZXh0Tm9kZUlkIiwiZmxvd05vZGVFbnRpdHkiLCJpZCIsInJlY2VpdmVySWQiLCJyZWNlaXZlck5hbWUiLCJuYW1lIiwicmVjZWl2ZXJUeXBlTmFtZSIsInR5cGVOYW1lIiwicmVjZWl2ZVR5cGUiLCJXb3JrRmxvd0FjdGlvbiIsIkVtcHR5UHJvcCIsInNlbmRlciIsImluc3RhbmNlSWQiLCJodG1sSWQiLCJhdHRyIiwiYWRkQ2xhc3MiLCJfUHJvcCIsIkJ1aWxkUHJvcCIsImJpbmQiLCJkYXRhIiwiQnV0dG9uQ2xpY2tFdmVudCIsIlJlZnJlc2hQYXJlbnRMaXN0VGhlbkNsb3NlIiwid2luZG93IiwiT3BlbmVyV2luZG93T2JqIiwiaW5zdGFuY2VNYWluVGFza1Byb2Nlc3NMaXN0IiwicmVsb2FkRGF0YSIsInBvcnRsZXRVdGlsaXR5IiwiVXBkYXRlUmVmcmVzaFZlcnNpb24iLCJEaWFsb2dVdGlsaXR5IiwiQWxlcnQiLCJEaWFsb2dBbGVydElkIiwiRnJhbWVfQ2xvc2VEaWFsb2ciLCJhY0ludGVyZmFjZSIsImNhbGwiLCJDb25maXJtIiwicmVjYWxsTXlTZW5kVGFzayIsIkFsZXJ0TG9hZGluZyIsIkRpYWxvZ0xvYWRpbmdJZCIsIkNsb3NlRGlhbG9nIiwicmVzb2x2ZU5leHRQb3NzaWJsZUZsb3dOb2RlIiwiY29tcGxldGVUYXNrIiwibmV3T3Bpbmlvbkxpc3QiLCJpbnB1dE9waW5pb25UZXh0IiwidmFsaWRhdGVSZXN1bHQiLCJWYWxpZGF0ZVJ1bGVzUnVudGltZSIsIlZhbGlkYXRlU3VibWl0RW5hYmxlIiwiQWxlcnRWYWxpZGF0ZUVycm9ycyIsIlByb21wdCIsInRpdGxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJEaWFsb2dQcm9tcHRJZCIsImlucHV0VGV4dCIsIm9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UiLCJUcnlHZXRPcGluaW9uQmluZFRvQ29udHJvbEluc3RhbmNlIiwiU2V0TmV3VmFsdWUiLCJCZWdpblNlbGVjdFJlY2VpdmVyIiwiQWxlcnRUZXh0IiwiX3Byb3AiLCJjb250cm9sRWxlbSIsIkhUTUxDb250cm9sIiwiR2V0Q29udHJvbEluc3RhbmNlQnlFbGVtIiwiX3RoaXMiLCJzZW5kRGF0YSIsIkJ1aWxkU2VuZFRvU2VydmVyRGF0YSIsIm5leHRUYXNrSXNFbmRFdmVudCIsIlNlbGVjdFJlY2VpdmVyQ29tcGxldGVkIiwiYnBtblRhc2tMaXN0IiwiY3VycmVudFRhc2tJc011bHRpSW5zdGFuY2UiLCJjdXJyZW50VGFza011bHRpQ29tcGxldGVkSW5zdGFuY2VzIiwiY3VycmVudFRhc2tNdWx0aUNvdW50RW5nSW5zdGFuY2VzIiwiVXNlclRhc2tSZWNlaXZlckRpYWxvZ1V0aWxpdHkiLCJTaG93RGlhbG9nIiwibmV4dFRhc2tFbnRpdHlMaXN0Iiwic2VsZWN0ZWRSZWNlaXZlclZhcnMiLCJCdWlsZE5ld09waW5pb24iLCJlbmNvZGVVUklDb21wb25lbnQiLCJKc29uVXRpbGl0eSIsIkpzb25Ub1N0cmluZyIsIm5ld09waW5pb25MaXN0U3RyaW5nIiwiQWxlcnRFcnJvciIsIkRpYWxvZ0FsZXJ0RXJyb3JJZCIsImFwcGVuZFNlbmRNYXAiLCJmb3JtRGF0YUNvbXBsZXhQTyIsIlNlcmlhbGl6YXRpb25Gb3JtRGF0YSIsImZvcm1SZWNvcmRDb21wbGV4UE9TdHJpbmciLCJrZXkiLCJvcGluaW9uVGV4dCIsIm9waW5pb25DbGllbnRDb2RlIiwiVGltZXN0YW1wIiwic2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWRGdW5jIiwiZG9jdW1lbnQiLCJib2R5IiwiVnVlIiwiZWwiLCJnZXRSdW50aW1lTW9kZWxXaXRoU3RhcnQiLCJtb3VudGVkIiwibWV0aG9kcyIsIiRyZWZzIiwidXNlclRhc2tSZWNlaXZlckRpYWxvZyIsImJlZ2luU2VsZWN0UmVjZWl2ZXIiLCJDbG9zZURpYWxvZ0VsZW0iLCJ1c2VyVGFza1JlY2VpdmVyRGlhbG9nV3JhcCIsInJlbW92ZSIsIlJlbW92ZURpYWxvZ1JlbWFpbmluZ0VsZW0iLCJjb21wb25lbnQiLCJyZWNlaXZlclRyZWUiLCJ0cmVlU2V0dGluZyIsInZpZXciLCJkYmxDbGlja0V4cGFuZCIsInNob3dMaW5lIiwiZm9udENzcyIsImNvbG9yIiwiZm9udC13ZWlnaHQiLCJjaGVjayIsImVuYWJsZSIsIm5vY2hlY2tJbmhlcml0IiwicmFkaW9UeXBlIiwiYXN5bmMiLCJjb250ZW50VHlwZSIsInVybCIsIkJ1aWxkQWN0aW9uIiwiYXV0b1BhcmFtIiwic2ltcGxlRGF0YSIsImlkS2V5IiwicElkS2V5Iiwicm9vdFBJZCIsImNhbGxiYWNrIiwib25DbGljayIsInRyZWVJZCIsInRyZWVOb2RlIiwib25EYmxDbGljayIsImdldFpUcmVlT2JqIiwiX2hvc3QiLCJhZGRSZWNlaXZlclRvU2VsZWN0ZWQiLCJiZWZvcmVBc3luYyIsInRyZWVPYmpNYXAiLCJzZWxlY3RlZFJlY2VpdmVyIiwiY29sdW1uc0NvbmZpZyIsImFsaWduIiwic2xvdCIsInJlY2VpdmVyRGF0YSIsImZpbHRlcnMiLCJmaWx0ZXJSZWNlaXZlckRhdGEiLCJmaWx0ZXIiLCJEaWFsb2dFbGVtT2JqIiwibW9kYWwiLCJyZXNpemFibGUiLCJidXR0b25zIiwi56Gu6K6kIiwidmFsaWRhdGVDb21wbGV0ZUVuYWJsZSIsIuWPlua2iCIsIm9wZW4iLCJwYXJlbnQiLCJoaWRlIiwic2V0VGltZW91dCIsImluaXRUcmVlIiwiZ2V0Um9vdE9yZ2FuTWFpblJlY2VpdmVPYmplY3RzIiwidmFsdWUiLCJ0ZXh0IiwicGFyZW50SWQiLCJvdXRlcklkIiwiY29kZSIsImF0dHIxIiwiYXR0cjIiLCJhdHRyMyIsImF0dHI0Iiwibm9kZVR5cGVOYW1lIiwiaWNvbiIsIm5vY2hlY2siLCJpc1BhcmVudCIsImRlc2MiLCJzdGF0dXMiLCJvcmRlck51bSIsInJ1bnRpbWVSZWNlaXZlVXNlcnMiLCJncm91cCIsImN1c3ROYW1lIiwiZXh0ZW5zaW9uRWxlbWVudHMiLCJqYjRkY01haW5SZWNlaXZlT2JqZWN0cyIsInJ1bnRpbWVSZWNlaXZlR3JvdXBzIiwidHJlZU9iaktleSIsImJ1aWxkVWxUcmVlSWQiLCJmbiIsInpUcmVlIiwiaW5pdCIsImpiNGRjUmVjZWl2ZU9iamVjdExpc3QiLCJfdHJlZU9iaktleSIsImpiNGRjQ0NSZWNlaXZlT2JqZWN0cyIsIl90cmVlT2JqS2V5MiIsImFkZFRyZWVTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZCIsInRyZWVLZXkiLCJ0cmVlT2JqZWN0Iiwic2VsZWN0Tm9kZXMiLCJnZXRTZWxlY3RlZE5vZGVzIiwic2VsZWN0Tm9kZSIsImlzTXVsdGlJbnN0YW5jZVRhc2siLCJpbm5lclNpbmdsZUlkIiwiQXJyYXlVdGlsaXR5IiwiRXhpc3QiLCJpdGVtIiwiRGVsZXRlIiwiX2kiLCJjaGlsZE5vZGUiLCJjbGVhclNlbGVjdGVkUmVjZWl2ZXJUb1NlbGVjdGVkIiwiZGVsZXRlU2VsZWN0ZWRSZWNlaXZlciIsImluZGV4Iiwicm93IiwibXVsdGlJbnN0YW5jZVRhc2siLCJidWlsZFRhYkxhYmVsIiwiX3RoaXMyIiwiZXJyb3JNZXNzYWdlcyIsIl9sb29wIiwidGFza1R5cGVOYW1lIiwidGFza05hbWUiLCJlcnJvclRleHRBcnkiLCJqb2luIiwidGVtcGxhdGUiLCJvbmNoYW5nZUZpbGUiLCJ2YWwiLCJ1cGxvYWRBbmRDb252ZXJ0VG9QREYiLCJidXNpbmVzc0tleSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJnZXRFbGVtZW50QnlJZCIsImZpbGVzIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbmxvYWQiLCJTdHJpbmdUb0pzb24iLCJyZXNwb25zZSIsImxvYWRQREZGaWxlVG9WaWV3ZXIiLCJmaWxlSWQiLCJDbG9zZUJ5RWxlbUlkIiwicmVzcG9uc2VUZXh0IiwidXBsb2FkIiwib25wcm9ncmVzcyIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50IiwiTWF0aCIsImZsb29yIiwibG9hZGVkIiwidG90YWwiLCJzZW5kIiwidHJ5TG9hZEhpc3RvcnlEb2N1bWVudCIsIkdldCIsImZpbGVVcmwiLCJHZXRSb290UGF0aCIsImNvbmNhdCIsIl9jdXJyZW50Tm9kZSIsIl9hdXRob3JpdGllc0ZpbGVBdXRob3JpdHkiLCJfYXV0aG9yaXRpZXNPbmx5U2VuZEJhY2tDYW5FZGl0IiwiV2hlcmUiLCJicG1uRGVmaW5pdGlvbnMiLCJicG1uUHJvY2VzcyIsInVzZXJUYXNrTGlzdCIsInN0YXJ0RXZlbnQiLCJqYjRkY0F1dGhvcml0aWVzIiwiYXV0aG9yaXRpZXNGaWxlQXV0aG9yaXR5IiwiYWRkRmlsZSIsImdldEZpbGVMaXN0RGF0YSIsInVwbG9hZEZpbGUiLCJkb3dubG9hZEZpbGUiLCJkZWxldGVGaWxlIiwiQnVpbGRVcGxvYWRDb250YWluZXIiLCJCdWlsZEZpbGVMaXN0IiwiVG9WaWV3U3RhdHVzIiwiJGVsZW0iLCJmaWVsZFBPIiwicmVsYXRpb25Gb3JtUmVjb3JkQ29tcGxleFBvIiwiX3JlbmRlcmVyRGF0YUNoYWluUGFyYXMiLCJ1cGxvYWRXYXJwSWQiLCJlbGVtSWQiLCJmaW5kIiwiR2V0VGhpc1JlY29yZElkIiwib2JqSWQiLCJHZXRXZWJGb3JtUlRQYXJhcyIsIkdldFRoaXNSZWNvcmRUeXBlIiwib2JqVHlwZSIsIkdldFVwbG9hZEVuZFBvaW50UmVxdWVzdCIsImVuZHBvaW50IiwicGFyYW1zIiwiZmlsZVR5cGUiLCJDcmVhdGVEZWZhdWx0VGVtcGxhdGUiLCJ0ZW1wbGF0ZUlkIiwiJHNpbmdsZUNvbnRyb2xFbGVtIiwiJHVwbG9hZFdhcnAiLCJxcSIsIkZpbmVVcGxvYWRlciIsImVsZW1lbnQiLCJtdWx0aXBsZSIsInJlcXVlc3QiLCJjYWxsYmFja3MiLCJvbkNvbXBsZXRlIiwicmVzcG9uc2VKU09OIiwidXBsb2FkX2ZpbGVfbGlzdF93cmFwX2lkIiwiJGRpdldhcnAiLCIkdGJvZHkiLCJmaWxlSW5mbyIsIkJ1aWxkRmlsZUluZm9UYWJsZVJvdyIsImZpbGVOYW1lIiwiRW5jb2RlSHRtbCIsImZpbGVDcmVhdGVUaW1lIiwiRGF0ZVV0aWxpdHkiLCJEYXRlRm9ybWF0QnlUaW1lU3RhbXAiLCJmaWxlU2l6ZSIsIkhhcmREaXNrVXRpbGl0eSIsIkJ5dGVDb252ZXJ0IiwiZmlsZUNyZWF0b3JOYW1lIiwiZmlsZUNyZWF0b3IiLCIkdHJPYmoiLCJCdWlsZEZpbGVJbmZvVGFibGVSb3dJbm5lckJ1dHRvbnMiLCIkdHIiLCJkb3dubG9hZEVuYWJsZSIsImRlbGV0ZUVuYWJsZSIsInByZXZpZXdFbmFibGUiLCJtb3ZlT3JkZXJFbmFibGUiLCIkdHJMYXN0VGQiLCIkZGVsZXRlRWxlbSIsImNsaWNrIiwiJG1vdmVVcEVsZW0iLCIkbW92ZURvd25FbGVtIiwiJGRvd25sb2FkRWxlbSIsIiRwcmV2aWV3RWxlbSIsIlRlc3RGaWxlUHJldmlld0VuYWJsZSIsIl9oaXN0b3J5RXhlY3V0aW9uVGFza0VudGl0eUxpc3QiLCJfY3VycmVudEV4VGFzayIsImhpc3RvcnlFeGVjdXRpb25UYXNrRW50aXR5TGlzdCIsIlZpZXdEZXRhaWwiLCJleFRhc2tJZCIsImV4VGFzayIsIldoZXJlU2luZ2xlIiwiQWxlcnRKc29uQ29kZSIsIkNvbnZlcnRTdGF0dXNUb0NOTmFtZSIsImh0bWxUYWJsZSIsIk51bGxUb0VTIiwiZXh0YXNrQ3VyTm9kZU5hbWUiLCJleHRhc2tTZW5kZXJOYW1lIiwiZXh0YXNrU3RhcnRUaW1lIiwiZXh0YXNrVmlld1RpbWUiLCJyaE5hbWUiLCJleHRhc2tSZWNlaXZlck5hbWUiLCJleHRhc2tIYW5kbGVySWQiLCJleHRhc2tSZWNlaXZlcklkIiwiSXNOdWxsT3JFbXB0eSIsImV4dGFza0hhbmRsZXJOYW1lIiwiZXh0YXNrRW5kVGltZSIsImV4dGFza0hhbmRsZUFjdGlv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K1ksU0FBQUwsRUFBQWlCLHdCQUNBQyxFQUFBOVosS0FBQStZLHNCQUFBN1ksY0FBQStZLFNBQUFMLEVBQUFrQixlQUNBQyxFQUFBLFlBRUEvWixLQUFBd1ksZUFBQTFZLFVBQUFBLElBQ0FpYSxFQUFBLG1CQUdBZixHQUFBLGNBQUF0RixPQUFBcUcsRUFBQSx3Q0FBQXJHLE9BQUF3RixFQUFBLGFBQUF4RixPQUFBeUYsRUFBQSxhQUFBekYsT0FBQTBGLEVBQUEsMkNBQUExRixPQUFBMkYsRUFBQSxhQUFBM0YsT0FBQTRGLEVBQUEsYUFBQTVGLE9BQUFrRyxFQUFBLDJDQUFBbEcsT0FBQW1HLEVBQUEsYUFBQW5HLE9BQUFvRyxFQUFBLCtEQUFBcEcsT0FBQTVULEVBQUEseUJBSUEsT0FEQWtaLEdBQUEiLCJmaWxlIjoiV29ya0Zsb3dSdW50aW1lRnVsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgQWN0aW9uc1J1bnRpbWVPYmplY3QgPSB7XG4gIENyZWF0ZUFMTEFjdGlvbkJ1dHRvbjogZnVuY3Rpb24gQ3JlYXRlQUxMQWN0aW9uQnV0dG9uKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzKSB7XG4gICAgaWYgKHBhZ2VSZWFkeUlubmVyUGFyYXMuamI0ZGNBY3Rpb25zICYmIHBhZ2VSZWFkeUlubmVyUGFyYXMuamI0ZGNBY3Rpb25zLmpiNGRjQWN0aW9uTGlzdCkge1xuICAgICAgdmFyIGJ1dHRvbkVsZW07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZVJlYWR5SW5uZXJQYXJhcy5qYjRkY0FjdGlvbnMuamI0ZGNBY3Rpb25MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhY3Rpb25PYmogPSBwYWdlUmVhZHlJbm5lclBhcmFzLmpiNGRjQWN0aW9ucy5qYjRkY0FjdGlvbkxpc3RbaV07XG5cbiAgICAgICAgaWYgKGFjdGlvbk9iai5qdWVsUnVuUmVzdWx0UE8uYm9vbGVhblJlc3VsdCkge1xuICAgICAgICAgIGlmIChhY3Rpb25PYmouYWN0aW9uVHlwZSA9PSBcInNlbmRcIikge1xuICAgICAgICAgICAgdmFyIHNlbmRBY3Rpb25PYmplY3QgPSBPYmplY3QuY3JlYXRlKFNlbmRBY3Rpb24pO1xuICAgICAgICAgICAgYnV0dG9uRWxlbSA9IHNlbmRBY3Rpb25PYmplY3QuSW5zdGFuY2UoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGFjdGlvbk9iaik7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb25PYmouYWN0aW9uVHlwZSA9PSBcInJlY2FsbFwiKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tBY3Rpb25PYmplY3QgPSBPYmplY3QuY3JlYXRlKFJlY2FsbEFjdGlvbik7XG4gICAgICAgICAgICBidXR0b25FbGVtID0gY2FsbGJhY2tBY3Rpb25PYmplY3QuSW5zdGFuY2UoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGFjdGlvbk9iaik7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb25PYmouYWN0aW9uVHlwZSA9PSBcImRlbGV0ZUluc3RhbmNlXCIpIHtcbiAgICAgICAgICAgIHZhciBkZWxldGVJbnN0YW5jZUFjdGlvbk9iamVjdCA9IE9iamVjdC5jcmVhdGUoRGVsZXRlSW5zdGFuY2VBY3Rpb24pO1xuICAgICAgICAgICAgYnV0dG9uRWxlbSA9IGRlbGV0ZUluc3RhbmNlQWN0aW9uT2JqZWN0Lkluc3RhbmNlKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzLCBhY3Rpb25PYmopO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICQoXCIjZmxvd1dvcmtBY3Rpb25CdXR0b25XcmFwT3V0ZXJcIikuYXBwZW5kKGJ1dHRvbkVsZW0uZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIEdldEFjdGlvbk9iajogZnVuY3Rpb24gR2V0QWN0aW9uT2JqKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb25BdXRvU2VuZDogXCJmYWxzZVwiLFxuICAgICAgYWN0aW9uQ0NSZWNlaXZlT2JqZWN0czogXCJbXVwiLFxuICAgICAgYWN0aW9uQ2FsbEFwaXM6IFwiW11cIixcbiAgICAgIGFjdGlvbkNhbGxDb21wbGV0ZTogXCJ0cnVlXCIsXG4gICAgICBhY3Rpb25DYWxsSnNNZXRob2Q6IG51bGwsXG4gICAgICBhY3Rpb25DYXB0aW9uOiBcIuiNieeov1wiLFxuICAgICAgYWN0aW9uQ29kZTogXCJhY3Rpb25fNTE2MDA5Nzc1XCIsXG4gICAgICBhY3Rpb25Db25maXJtOiBcImZhbHNlXCIsXG4gICAgICBhY3Rpb25EaXNwbGF5Q29uZGl0aW9uRWRpdFRleHQ6IG51bGwsXG4gICAgICBhY3Rpb25EaXNwbGF5Q29uZGl0aW9uRWRpdFZhbHVlOiBudWxsLFxuICAgICAgYWN0aW9uRXhlY3V0ZVZhcmlhYmxlczogXCJbXVwiLFxuICAgICAgYWN0aW9uSFRNTENsYXNzOiBudWxsLFxuICAgICAgYWN0aW9uSFRNTElkOiBudWxsLFxuICAgICAgYWN0aW9uTWFpblJlY2VpdmVPYmplY3RzOiBcIltdXCIsXG4gICAgICBhY3Rpb25SdW5TcWxzOiBcIltdXCIsXG4gICAgICBhY3Rpb25TZW5kTWVzc2FnZUlkOiBudWxsLFxuICAgICAgYWN0aW9uU2VuZFNpZ25hbElkOiBudWxsLFxuICAgICAgYWN0aW9uU2hvd09waW5pb25EaWFsb2c6IFwiZmFsc2VcIixcbiAgICAgIGFjdGlvblR5cGU6IFwic2VuZFwiLFxuICAgICAgYWN0aW9uVXBkYXRlRmllbGRzOiBcIltdXCIsXG4gICAgICBhY3Rpb25WYWxpZGF0ZTogXCLml6BcIixcbiAgICAgIGFjdGlvbk9waW5pb25CaW5kVG9FbGVtSWQ6IG51bGwsXG4gICAgICBhY3Rpb25PcGluaW9uQmluZFRvRmllbGQ6IG51bGwsXG4gICAgICBqdWVsUnVuUmVzdWx0UE86IHtcbiAgICAgICAgYm9vbGVhblJlc3VsdDogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgc3RyaW5nUmVzdWx0OiBcIlwiLFxuICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICB9LFxuICAgICAgYWN0aW9uRGlzYWJsZTogXCJlbmFibGVcIixcbiAgICAgIGFjdGlvblJlbWFyazogXCJcIlxuICAgIH07XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1c2VyVGFza1JlY2VpdmVyRGlhbG9nT3V0ZXJWdWU7XG52YXIgVXNlclRhc2tSZWNlaXZlckRpYWxvZ1V0aWxpdHkgPSB7XG4gIFNob3dEaWFsb2c6IGZ1bmN0aW9uIFNob3dEaWFsb2coc2VuZGVyLCBuZXh0Rmxvd05vZGVFbnRpdGllcywgc2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWRGdW5jKSB7XG4gICAgaWYgKCF1c2VyVGFza1JlY2VpdmVyRGlhbG9nT3V0ZXJWdWUpIHtcbiAgICAgICQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKFwiPGRpdiBpZD0ndXNlclRhc2tSZWNlaXZlckRpYWxvZ091dGVyJz48dXNlci10YXNrLXJlY2VpdmVyLWRpYWxvZyByZWY9J3VzZXJUYXNrUmVjZWl2ZXJEaWFsb2cnPjwvdXNlci10YXNrLXJlY2VpdmVyLWRpYWxvZz48L2Rpdj5cIik7XG4gICAgICB1c2VyVGFza1JlY2VpdmVyRGlhbG9nT3V0ZXJWdWUgPSBuZXcgVnVlKHtcbiAgICAgICAgZWw6IFwiI3VzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYWNJbnRlcmZhY2U6IHtcbiAgICAgICAgICAgIGdldFJ1bnRpbWVNb2RlbFdpdGhTdGFydDogXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9Nb2RlbFJ1bnRpbWUvR2V0UnVudGltZU1vZGVsV2l0aFN0YXJ0XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSxcbiAgICAgICAgbWV0aG9kczoge31cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZS4kcmVmcy51c2VyVGFza1JlY2VpdmVyRGlhbG9nLmJlZ2luU2VsZWN0UmVjZWl2ZXIoc2VuZGVyLCBuZXh0Rmxvd05vZGVFbnRpdGllcywgc2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWRGdW5jKTtcbiAgfSxcbiAgQ2xvc2VEaWFsb2c6IGZ1bmN0aW9uIENsb3NlRGlhbG9nKCkge1xuICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2dFbGVtKHVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZS4kcmVmcy51c2VyVGFza1JlY2VpdmVyRGlhbG9nLiRyZWZzLnVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dXcmFwKTtcbiAgICB1c2VyVGFza1JlY2VpdmVyRGlhbG9nT3V0ZXJWdWUgPSBudWxsO1xuICAgICQoXCIjdXNlclRhc2tSZWNlaXZlckRpYWxvZ091dGVyXCIpLnJlbW92ZSgpO1xuICAgIERpYWxvZ1V0aWxpdHkuUmVtb3ZlRGlhbG9nUmVtYWluaW5nRWxlbShcInVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dJbm5lclwiKTtcbiAgfVxufTtcblZ1ZS5jb21wb25lbnQoXCJ1c2VyLXRhc2stcmVjZWl2ZXItZGlhbG9nXCIsIHtcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWNJbnRlcmZhY2U6IHt9LFxuICAgICAgbmV4dEZsb3dOb2RlRW50aXRpZXM6IFtdLFxuICAgICAgcmVjZWl2ZXJUcmVlOiB7XG4gICAgICAgIHRyZWVTZXR0aW5nOiB7XG4gICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgZGJsQ2xpY2tFeHBhbmQ6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd0xpbmU6IHRydWUsXG4gICAgICAgICAgICBmb250Q3NzOiB7XG4gICAgICAgICAgICAgICdjb2xvcic6ICdibGFjaycsXG4gICAgICAgICAgICAgICdmb250LXdlaWdodCc6ICdub3JtYWwnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGVjazoge1xuICAgICAgICAgICAgZW5hYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIG5vY2hlY2tJbmhlcml0OiBmYWxzZSxcbiAgICAgICAgICAgIHJhZGlvVHlwZTogXCJhbGxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmM6IHtcbiAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgICAgICAgICAgdXJsOiBCYXNlVXRpbGl0eS5CdWlsZEFjdGlvbihcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L1JlY2VpdmVyUnVudGltZS9HZXRBc3luY1JlY2VpdmVyc1wiKSxcbiAgICAgICAgICAgIGF1dG9QYXJhbTogW1wiaWRcIiwgXCJ0eXBlTmFtZVwiLCBcIm5hbWVcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGtleToge1xuICAgICAgICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFwicnVudGltZVJlY2VpdmVVc2Vyc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2ltcGxlRGF0YToge1xuICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGlkS2V5OiBcImlkXCIsXG4gICAgICAgICAgICAgIHBJZEtleTogXCJwYXJlbnRJZFwiLFxuICAgICAgICAgICAgICByb290UElkOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYWxsYmFjazoge1xuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCwgdHJlZUlkLCB0cmVlTm9kZSkge30sXG4gICAgICAgICAgICBvbkRibENsaWNrOiBmdW5jdGlvbiBvbkRibENsaWNrKGV2ZW50LCB0cmVlSWQsIHRyZWVOb2RlKSB7XG4gICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXMuZ2V0WlRyZWVPYmoodHJlZUlkKS5faG9zdDtcblxuICAgICAgICAgICAgICB2YXIgZmxvd05vZGVFbnRpdHkgPSB0aGlzLmdldFpUcmVlT2JqKHRyZWVJZCkuZmxvd05vZGVFbnRpdHk7XG4gICAgICAgICAgICAgIHZhciByZWNlaXZlVHlwZSA9IHRoaXMuZ2V0WlRyZWVPYmoodHJlZUlkKS5yZWNlaXZlVHlwZTtcblxuICAgICAgICAgICAgICBfdGhpcy5hZGRSZWNlaXZlclRvU2VsZWN0ZWQodHJlZU5vZGUsIGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmVmb3JlQXN5bmM6IGZ1bmN0aW9uIGJlZm9yZUFzeW5jKHRyZWVJZCwgdHJlZU5vZGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2codHJlZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRyZWVPYmpNYXA6IHt9XG4gICAgICB9LFxuICAgICAgc2VsZWN0ZWRSZWNlaXZlcjoge1xuICAgICAgICBjb2x1bW5zQ29uZmlnOiBbe1xuICAgICAgICAgIHRpdGxlOiAn5bey6YCJ55So5oi3JyxcbiAgICAgICAgICBrZXk6ICduYW1lJyxcbiAgICAgICAgICB3aWR0aDogMTg4LFxuICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0aXRsZTogJ+aTjeS9nCcsXG4gICAgICAgICAgc2xvdDogJ2FjdGlvbicsXG4gICAgICAgICAgd2lkdGg6IDcwLFxuICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiXG4gICAgICAgIH1dLFxuICAgICAgICByZWNlaXZlckRhdGE6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LFxuICBmaWx0ZXJzOiB7XG4gICAgZmlsdGVyUmVjZWl2ZXJEYXRhOiBmdW5jdGlvbiBmaWx0ZXJSZWNlaXZlckRhdGEocmVjZWl2ZXJEYXRhLCBmbG93Tm9kZUVudGl0eSwgcmVjZWl2ZVR5cGUpIHtcbiAgICAgIHJldHVybiByZWNlaXZlckRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICByZXR1cm4gcmVjZWl2ZXIuZmxvd05vZGVFbnRpdHkuaWQgPT0gZmxvd05vZGVFbnRpdHkuaWQgJiYgcmVjZWl2ZXIucmVjZWl2ZVR5cGUgPT0gcmVjZWl2ZVR5cGU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBiZWdpblNlbGVjdFJlY2VpdmVyOiBmdW5jdGlvbiBiZWdpblNlbGVjdFJlY2VpdmVyKHNlbmRlciwgbmV4dEZsb3dOb2RlRW50aXRpZXMsIHNlbGVjdFJlY2VpdmVyQ29tcGxldGVkRnVuYykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGVsZW0gPSB0aGlzLiRyZWZzLnVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dXcmFwO1xuICAgICAgRGlhbG9nVXRpbGl0eS5EaWFsb2dFbGVtT2JqKGVsZW0sIHtcbiAgICAgICAgbW9kYWw6IHRydWUsXG4gICAgICAgIHdpZHRoOiA2NTAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICB0aXRsZTogXCLpgInmi6nmjqXmlLbkurrlkZhcIixcbiAgICAgICAgcmVzaXphYmxlOiBmYWxzZSxcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgIFwi56Gu6K6kXCI6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudmFsaWRhdGVDb21wbGV0ZUVuYWJsZSgpLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgc2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWRGdW5jLmNhbGwoc2VuZGVyLCBfdGhpcy5uZXh0Rmxvd05vZGVFbnRpdGllcywgX3RoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCLlj5bmtohcIjogZnVuY3Rpb24gXygpIHtcbiAgICAgICAgICAgIFVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dVdGlsaXR5LkNsb3NlRGlhbG9nKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGV2ZW50LCB1aSkge1xuICAgICAgICAgICQoXCIudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlXCIsICQodGhpcykucGFyZW50KCkpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm5leHRGbG93Tm9kZUVudGl0aWVzID0gbmV4dEZsb3dOb2RlRW50aXRpZXM7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmluaXRUcmVlLCA1MDApO1xuICAgIH0sXG4gICAgZ2V0Um9vdE9yZ2FuTWFpblJlY2VpdmVPYmplY3RzOiBmdW5jdGlvbiBnZXRSb290T3JnYW5NYWluUmVjZWl2ZU9iamVjdHMoKSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgXCJ2YWx1ZVwiOiBudWxsLFxuICAgICAgICBcInRleHRcIjogbnVsbCxcbiAgICAgICAgXCJpZFwiOiBcIjBcIixcbiAgICAgICAgXCJwYXJlbnRJZFwiOiBudWxsLFxuICAgICAgICBcIm91dGVySWRcIjogbnVsbCxcbiAgICAgICAgXCJjb2RlXCI6IFwiMDAwMFwiLFxuICAgICAgICBcImF0dHIxXCI6IG51bGwsXG4gICAgICAgIFwiYXR0cjJcIjogbnVsbCxcbiAgICAgICAgXCJhdHRyM1wiOiBudWxsLFxuICAgICAgICBcImF0dHI0XCI6IG51bGwsXG4gICAgICAgIFwibm9kZVR5cGVOYW1lXCI6IG51bGwsXG4gICAgICAgIFwiaWNvblwiOiBudWxsLFxuICAgICAgICBcIm5vY2hlY2tcIjogZmFsc2UsXG4gICAgICAgIFwiaXNQYXJlbnRcIjogXCJ0cnVlXCIsXG4gICAgICAgIFwib3BlblwiOiBmYWxzZSxcbiAgICAgICAgXCJuYW1lXCI6IFwi57uE57uH5py65p6E566h55CGXCIsXG4gICAgICAgIFwidHlwZU5hbWVcIjogXCJPcmdhbnNcIixcbiAgICAgICAgXCJkZXNjXCI6IG51bGwsXG4gICAgICAgIFwic3RhdHVzXCI6IFwi5ZCv55SoXCIsXG4gICAgICAgIFwiZmlsdGVyXCI6IFwiXCIsXG4gICAgICAgIFwib3JkZXJOdW1cIjogMjIsXG4gICAgICAgIFwicnVudGltZVJlY2VpdmVVc2Vyc1wiOiBudWxsLFxuICAgICAgICBcImdyb3VwXCI6IHRydWUsXG4gICAgICAgIFwiY3VzdE5hbWVcIjogZmFsc2VcbiAgICAgIH1dO1xuICAgIH0sXG4gICAgaW5pdFRyZWU6IGZ1bmN0aW9uIGluaXRUcmVlKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5leHRGbG93Tm9kZUVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmbG93Tm9kZUVudGl0eSA9IHRoaXMubmV4dEZsb3dOb2RlRW50aXRpZXNbaV07XG5cbiAgICAgICAgaWYgKGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzICYmIGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzLmpiNGRjTWFpblJlY2VpdmVPYmplY3RzICYmIGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzLmpiNGRjTWFpblJlY2VpdmVPYmplY3RzLnJ1bnRpbWVSZWNlaXZlR3JvdXBzKSB7XG4gICAgICAgICAgdmFyIHRyZWVPYmpLZXkgPSB0aGlzLmJ1aWxkVWxUcmVlSWQoZmxvd05vZGVFbnRpdHksIFwibWFpblwiKTtcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW3RyZWVPYmpLZXldID0gJC5mbi56VHJlZS5pbml0KCQoXCIjXCIgKyB0cmVlT2JqS2V5KSwgdGhpcy5yZWNlaXZlclRyZWUudHJlZVNldHRpbmcsIGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzLmpiNGRjTWFpblJlY2VpdmVPYmplY3RzLnJ1bnRpbWVSZWNlaXZlR3JvdXBzKTtcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW3RyZWVPYmpLZXldLl9ob3N0ID0gdGhpcztcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW3RyZWVPYmpLZXldLmZsb3dOb2RlRW50aXR5ID0gZmxvd05vZGVFbnRpdHk7XG4gICAgICAgICAgdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFt0cmVlT2JqS2V5XS5yZWNlaXZlVHlwZSA9IFwibWFpblwiO1xuICAgICAgICB9IGVsc2UgaWYgKCFmbG93Tm9kZUVudGl0eS5leHRlbnNpb25FbGVtZW50cyB8fCAhZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNNYWluUmVjZWl2ZU9iamVjdHMgfHwgIWZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzLmpiNGRjTWFpblJlY2VpdmVPYmplY3RzLmpiNGRjUmVjZWl2ZU9iamVjdExpc3QpIHtcbiAgICAgICAgICB2YXIgX3RyZWVPYmpLZXkgPSB0aGlzLmJ1aWxkVWxUcmVlSWQoZmxvd05vZGVFbnRpdHksIFwibWFpblwiKTtcblxuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbX3RyZWVPYmpLZXldID0gJC5mbi56VHJlZS5pbml0KCQoXCIjXCIgKyBfdHJlZU9iaktleSksIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVTZXR0aW5nLCB0aGlzLmdldFJvb3RPcmdhbk1haW5SZWNlaXZlT2JqZWN0cygpKTtcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW190cmVlT2JqS2V5XS5faG9zdCA9IHRoaXM7XG4gICAgICAgICAgdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFtfdHJlZU9iaktleV0uZmxvd05vZGVFbnRpdHkgPSBmbG93Tm9kZUVudGl0eTtcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW190cmVlT2JqS2V5XS5yZWNlaXZlVHlwZSA9IFwibWFpblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzICYmIGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzLmpiNGRjQ0NSZWNlaXZlT2JqZWN0cyAmJiBmbG93Tm9kZUVudGl0eS5leHRlbnNpb25FbGVtZW50cy5qYjRkY0NDUmVjZWl2ZU9iamVjdHMucnVudGltZVJlY2VpdmVHcm91cHMpIHtcbiAgICAgICAgICB2YXIgX3RyZWVPYmpLZXkyID0gdGhpcy5idWlsZFVsVHJlZUlkKGZsb3dOb2RlRW50aXR5LCBcImNjXCIpO1xuXG4gICAgICAgICAgdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFtfdHJlZU9iaktleTJdID0gJC5mbi56VHJlZS5pbml0KCQoXCIjXCIgKyBfdHJlZU9iaktleTIpLCB0aGlzLnJlY2VpdmVyVHJlZS50cmVlU2V0dGluZywgZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNDQ1JlY2VpdmVPYmplY3RzLnJ1bnRpbWVSZWNlaXZlR3JvdXBzKTtcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW190cmVlT2JqS2V5Ml0uX2hvc3QgPSB0aGlzO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbX3RyZWVPYmpLZXkyXS5mbG93Tm9kZUVudGl0eSA9IGZsb3dOb2RlRW50aXR5O1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbX3RyZWVPYmpLZXkyXS5yZWNlaXZlVHlwZSA9IFwiY2NcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYnVpbGRVbFRyZWVJZDogZnVuY3Rpb24gYnVpbGRVbFRyZWVJZChmbG93Tm9kZUVudGl0eSwgcmVjZWl2ZVR5cGUpIHtcbiAgICAgIHJldHVybiAndWxUcmVlXycgKyByZWNlaXZlVHlwZSArIFwiX1wiICsgZmxvd05vZGVFbnRpdHkuaWQ7XG4gICAgfSxcbiAgICBhZGRUcmVlU2VsZWN0ZWRSZWNlaXZlclRvU2VsZWN0ZWQ6IGZ1bmN0aW9uIGFkZFRyZWVTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZChmbG93Tm9kZUVudGl0eSwgcmVjZWl2ZVR5cGUpIHtcbiAgICAgIHZhciB0cmVlS2V5ID0gdGhpcy5idWlsZFVsVHJlZUlkKGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSk7XG4gICAgICB2YXIgdHJlZU9iamVjdCA9IHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbdHJlZUtleV07XG5cbiAgICAgIGlmICh0cmVlT2JqZWN0KSB7XG4gICAgICAgIHZhciBzZWxlY3ROb2RlcyA9IHRyZWVPYmplY3QuZ2V0U2VsZWN0ZWROb2RlcygpO1xuXG4gICAgICAgIGlmIChzZWxlY3ROb2RlcyAmJiBzZWxlY3ROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5hZGRSZWNlaXZlclRvU2VsZWN0ZWQoc2VsZWN0Tm9kZXNbMF0sIGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGFkZFJlY2VpdmVyVG9TZWxlY3RlZDogZnVuY3Rpb24gYWRkUmVjZWl2ZXJUb1NlbGVjdGVkKHNlbGVjdE5vZGUsIGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSkge1xuICAgICAgdmFyIGlzTXVsdGlJbnN0YW5jZVRhc2sgPSB0aGlzLmlzTXVsdGlJbnN0YW5jZVRhc2soZmxvd05vZGVFbnRpdHkpO1xuICAgICAgdmFyIGlubmVyU2luZ2xlSWQgPSBmbG93Tm9kZUVudGl0eS5pZCArIFwiX1wiICsgcmVjZWl2ZVR5cGUgKyBcIl9cIiArIHNlbGVjdE5vZGUuaWQ7XG5cbiAgICAgIGlmIChzZWxlY3ROb2RlLnR5cGVOYW1lID09IFwiU2luZ2xlVXNlclwiKSB7XG4gICAgICAgIHNlbGVjdE5vZGUuaW5uZXJTaW5nbGVJZCA9IGlubmVyU2luZ2xlSWQ7XG4gICAgICAgIHNlbGVjdE5vZGUuZmxvd05vZGVFbnRpdHkgPSBmbG93Tm9kZUVudGl0eTtcbiAgICAgICAgc2VsZWN0Tm9kZS5yZWNlaXZlVHlwZSA9IHJlY2VpdmVUeXBlO1xuXG4gICAgICAgIGlmICgocmVjZWl2ZVR5cGUgPT0gXCJjY1wiIHx8IGlzTXVsdGlJbnN0YW5jZVRhc2spICYmICFBcnJheVV0aWxpdHkuRXhpc3QodGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5pbm5lclNpbmdsZUlkID09IGlubmVyU2luZ2xlSWQ7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YS5wdXNoKHNlbGVjdE5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVUeXBlID09IFwibWFpblwiICYmICFpc011bHRpSW5zdGFuY2VUYXNrKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YVtpXS5mbG93Tm9kZUVudGl0eS5pZCA9PSBmbG93Tm9kZUVudGl0eS5pZCAmJiB0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhW2ldLnJlY2VpdmVUeXBlID09IHJlY2VpdmVUeXBlKSB7XG4gICAgICAgICAgICAgIEFycmF5VXRpbGl0eS5EZWxldGUodGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YS5wdXNoKHNlbGVjdE5vZGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzTXVsdGlJbnN0YW5jZVRhc2sgJiYgKHNlbGVjdE5vZGUudHlwZU5hbWUgPT0gXCJVc2Vyc1wiIHx8IHNlbGVjdE5vZGUudHlwZU5hbWUgPT0gXCJSb2xlXCIgfHwgc2VsZWN0Tm9kZS50eXBlTmFtZSA9PSBcIk9yZ2Fuc1wiKSkge1xuICAgICAgICBpZiAoc2VsZWN0Tm9kZS5ydW50aW1lUmVjZWl2ZVVzZXJzICE9IG51bGwgJiYgc2VsZWN0Tm9kZS5ydW50aW1lUmVjZWl2ZVVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgc2VsZWN0Tm9kZS5ydW50aW1lUmVjZWl2ZVVzZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IHNlbGVjdE5vZGUucnVudGltZVJlY2VpdmVVc2Vyc1tfaV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGUudHlwZU5hbWUgPT0gXCJTaW5nbGVVc2VyXCIpIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGRSZWNlaXZlclRvU2VsZWN0ZWQoY2hpbGROb2RlLCBmbG93Tm9kZUVudGl0eSwgcmVjZWl2ZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXJTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZDogZnVuY3Rpb24gY2xlYXJTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZChmbG93Tm9kZUVudGl0eSwgcmVjZWl2ZVR5cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciByZWNlaXZlciA9IHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGFbaV07XG5cbiAgICAgICAgaWYgKHJlY2VpdmVyLmZsb3dOb2RlRW50aXR5LmlkID09IGZsb3dOb2RlRW50aXR5LmlkICYmIHJlY2VpdmVyLnJlY2VpdmVUeXBlID09IHJlY2VpdmVUeXBlKSB7XG4gICAgICAgICAgQXJyYXlVdGlsaXR5LkRlbGV0ZSh0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLCBpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlU2VsZWN0ZWRSZWNlaXZlcjogZnVuY3Rpb24gZGVsZXRlU2VsZWN0ZWRSZWNlaXZlcihpbmRleCwgcm93KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGFbaV0uaW5uZXJTaW5nbGVJZCA9PSByb3cuaW5uZXJTaW5nbGVJZCkge1xuICAgICAgICAgIEFycmF5VXRpbGl0eS5EZWxldGUodGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGlzTXVsdGlJbnN0YW5jZVRhc2s6IGZ1bmN0aW9uIGlzTXVsdGlJbnN0YW5jZVRhc2soZmxvd05vZGVFbnRpdHkpIHtcbiAgICAgIHJldHVybiBmbG93Tm9kZUVudGl0eS5tdWx0aUluc3RhbmNlVGFzaztcbiAgICB9LFxuICAgIGJ1aWxkVGFiTGFiZWw6IGZ1bmN0aW9uIGJ1aWxkVGFiTGFiZWwoZmxvd05vZGVFbnRpdHkpIHtcbiAgICAgIHJldHVybiBmbG93Tm9kZUVudGl0eS5uYW1lICsgXCIgW1wiICsgKHRoaXMuaXNNdWx0aUluc3RhbmNlVGFzayhmbG93Tm9kZUVudGl0eSkgPyBcIuWkmuS6ulwiIDogXCLljZXkurpcIikgKyBcIl1cIjtcbiAgICB9LFxuICAgIHZhbGlkYXRlQ29tcGxldGVFbmFibGU6IGZ1bmN0aW9uIHZhbGlkYXRlQ29tcGxldGVFbmFibGUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGVycm9yTWVzc2FnZXMgPSBbXTtcbiAgICAgIHZhciBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICBpZiAoX3RoaXMyLm5leHRGbG93Tm9kZUVudGl0aWVzW2ldLnRhc2tUeXBlTmFtZSA9PSBcImNvbS5qYjRkYy53b3JrZmxvdy5wby5icG1uLnByb2Nlc3MuQnBtblVzZXJUYXNrXCIpIHtcbiAgICAgICAgICBpZiAoIUFycmF5VXRpbGl0eS5FeGlzdChfdGhpczIuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5mbG93Tm9kZUVudGl0eS5pZCA9PSBfdGhpczIubmV4dEZsb3dOb2RlRW50aXRpZXNbaV0uaWQgJiYgaXRlbS5yZWNlaXZlVHlwZSA9PSBcIm1haW5cIjtcbiAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgdGFza05hbWU6IF90aGlzMi5uZXh0Rmxvd05vZGVFbnRpdGllc1tpXS5uYW1lLFxuICAgICAgICAgICAgICBmbG93Tm9kZUVudGl0eTogX3RoaXMyLm5leHRGbG93Tm9kZUVudGl0aWVzW2ldLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBcIueOr+iKgltcIiArIF90aGlzMi5uZXh0Rmxvd05vZGVFbnRpdGllc1tpXS5uYW1lICsgXCJd6Iez5bCR6ZyA6KaB6K6+572u5LiA5Liq5o6l5pS255So5oi3IVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uZXh0Rmxvd05vZGVFbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVycm9yTWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgZXJyb3JUZXh0QXJ5ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvck1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZXJyb3JUZXh0QXJ5LnB1c2goZXJyb3JNZXNzYWdlc1tpXS5tZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KGVycm9yVGV4dEFyeS5qb2luKFwiPGJyIC8+XCIpLCB0aGlzKTtcbiAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBzdWNjZXNzXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgdGVtcGxhdGU6IFwiPGRpdiBpZD1cXFwidXNlclRhc2tSZWNlaXZlckRpYWxvZ0lubmVyXFxcIiByZWY9XFxcInVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dXcmFwXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+XFxuICAgICAgICAgICAgICAgIDx0YWJzIG5hbWU9XFxcInVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dUYWJzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDx0YWItcGFuZSA6bGFiZWw9XFxcImJ1aWxkVGFiTGFiZWwoZmxvd05vZGVFbnRpdHkpXFxcIiB0YWI9XFxcInVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dUYWJzXFxcIiB2LWZvcj1cXFwiZmxvd05vZGVFbnRpdHkgaW4gbmV4dEZsb3dOb2RlRW50aXRpZXNcXFwiIDprZXk9XFxcImZsb3dOb2RlRW50aXR5LmlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29sbGFwc2UgYWNjb3JkaW9uIHZhbHVlPVxcXCJtYWluUmVjZWl2ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFuZWwgbmFtZT1cXFwibWFpblJlY2VpdmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcdTRFM0JcXHU5MDAxXFx1NEVCQVxcdTU0NThcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc2xvdD1cXFwiY29udGVudFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidXNlci10YXNrLXJlY2VpdmVyLWRpYWxvZy1vdXRlci13cmFwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VsZWN0RW5hYmxlVXNlckxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIDppZD1cXFwiYnVpbGRVbFRyZWVJZChmbG93Tm9kZUVudGl0eSwnbWFpbicpXFxcIiBjbGFzcz1cXFwienRyZWVcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMjAwcHhcXFwiPjwvdWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RPcEJ1dHRvbkNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaW5nbGUtb3AtYnV0dG9uXFxcIiB0aXRsZT1cXFwiXFx1NkRGQlxcdTUyQTBcXHU0RUJBXFx1NTQ1OFxcXCIgQGNsaWNrPVxcXCJhZGRUcmVlU2VsZWN0ZWRSZWNlaXZlclRvU2VsZWN0ZWQoZmxvd05vZGVFbnRpdHksJ21haW4nKVxcXCI+PEljb24gdHlwZT1cXFwibWQtYXJyb3ctcm91bmQtZm9yd2FyZFxcXCIgLz48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNpbmdsZS1vcC1idXR0b25cXFwiIHRpdGxlPVxcXCJcXHU2RTA1XFx1N0E3QVxcdTVERjJcXHU5MDA5XFx1NEVCQVxcdTU0NThcXFwiIEBjbGljaz1cXFwiY2xlYXJTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZChmbG93Tm9kZUVudGl0eSwnbWFpbicpXFxcIj48SWNvbiB0eXBlPVxcXCJtZC1iYWNrc3BhY2VcXFwiIC8+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RlZFVzZXJMaXN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLXRhYmxlIGhlaWdodD1cXFwiMzI3XFxcIiB3aWR0aD1cXFwiMjYwXFxcIiBzdHJpcGUgOmNvbHVtbnM9XFxcInNlbGVjdGVkUmVjZWl2ZXIuY29sdW1uc0NvbmZpZ1xcXCIgOmRhdGE9XFxcInNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhIHwgZmlsdGVyUmVjZWl2ZXJEYXRhKGZsb3dOb2RlRW50aXR5LCAnbWFpbicpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiaXYtbGlzdC10YWJsZVxcXCIgc2l6ZT1cXFwic21hbGxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgc2xvdC1zY29wZT1cXFwieyByb3csIGluZGV4IH1cXFwiIHNsb3Q9XFxcImFjdGlvblxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxpc3QtZm9udC1pY29uLWJ1dHRvbi1jbGFzc1xcXCIgQGNsaWNrPVxcXCJkZWxldGVTZWxlY3RlZFJlY2VpdmVyKGluZGV4LHJvdylcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cXFwibWQtY2xvc2VcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+ICAgICBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaS10YWJsZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYW5lbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhbmVsIG5hbWU9XFxcImNjUmVjZWl2ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFx1NjI4NFxcdTkwMDFcXHU0RUJBXFx1NTQ1OFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzbG90PVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ1c2VyLXRhc2stcmVjZWl2ZXItZGlhbG9nLW91dGVyLXdyYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RFbmFibGVVc2VyTGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgOmlkPVxcXCJidWlsZFVsVHJlZUlkKGZsb3dOb2RlRW50aXR5LCdjYycpXFxcIiBjbGFzcz1cXFwienRyZWVcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMjAwcHhcXFwiPjwvdWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RPcEJ1dHRvbkNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaW5nbGUtb3AtYnV0dG9uXFxcIiB0aXRsZT1cXFwiXFx1NkRGQlxcdTUyQTBcXHU0RUJBXFx1NTQ1OFxcXCIgQGNsaWNrPVxcXCJhZGRSZWNlaXZlclRvU2VsZWN0ZWQoZmxvd05vZGVFbnRpdHksJ2NjJylcXFwiPjxJY29uIHR5cGU9XFxcIm1kLWFycm93LXJvdW5kLWZvcndhcmRcXFwiIC8+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaW5nbGUtb3AtYnV0dG9uXFxcIiB0aXRsZT1cXFwiXFx1NkUwNVxcdTdBN0FcXHU1REYyXFx1OTAwOVxcdTRFQkFcXHU1NDU4XFxcIj48SWNvbiB0eXBlPVxcXCJtZC1iYWNrc3BhY2VcXFwiIC8+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RlZFVzZXJMaXN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLXRhYmxlIGhlaWdodD1cXFwiMzI3XFxcIiB3aWR0aD1cXFwiMjYwXFxcIiBzdHJpcGUgOmNvbHVtbnM9XFxcInNlbGVjdGVkUmVjZWl2ZXIuY29sdW1uc0NvbmZpZ1xcXCIgOmRhdGE9XFxcInNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhIHwgZmlsdGVyUmVjZWl2ZXJEYXRhKGZsb3dOb2RlRW50aXR5LCAnY2MnKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcIml2LWxpc3QtdGFibGVcXFwiIHNpemU9XFxcInNtYWxsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHNsb3Qtc2NvcGU9XFxcInsgcm93LCBpbmRleCB9XFxcIiBzbG90PVxcXCJhY3Rpb25cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaXN0LWZvbnQtaWNvbi1idXR0b24tY2xhc3NcXFwiIEBjbGljaz1cXFwiZGVsZXRlU2VsZWN0ZWRSZWNlaXZlcihpbmRleCxyb3cpXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHR5cGU9XFxcIm1kLWNsb3NlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPiAgICAgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ktdGFibGU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGFuZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2xsYXBzZT5cXG4gICAgICAgICAgICAgICAgICAgIDwvdGFiLXBhbmU+XFxuICAgICAgICAgICAgICAgIDwvdGFicz5cXG4gICAgICAgICAgICA8L2Rpdj5cIlxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBGbG93UnVudGltZVBhZ2VPYmplY3QgPSB7XG4gIF93ZWJGb3JtUlRQYXJhczogbnVsbCxcbiAgX2Zvcm1SdW50aW1lSW5zdDogbnVsbCxcbiAgRk9STV9SVU5USU1FX0NBVEVHT1JZX0ZMT1c6IFwiSXNEZXBlbmRlbmNlRmxvd1wiLFxuICBfZmxvd0luc3RhbmNlUnVudGltZVBPOiBudWxsLFxuICBfaXNDcmVhdGVkTW9kZWxlclZpZXc6IGZhbHNlLFxuICBidWlsZFBhZ2VSZWFkeUlubmVyUGFyYXM6IGZ1bmN0aW9uIGJ1aWxkUGFnZVJlYWR5SW5uZXJQYXJhcyhpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIHJlY29yZElkLCBmbG93SW5zdGFuY2VSdW50aW1lUE8sIGZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlY29yZElkOiByZWNvcmRJZCxcbiAgICAgIGZvcm1JZDogZmxvd0luc3RhbmNlUnVudGltZVBPLmpiNGRjRm9ybUlkLFxuICAgICAgY3VycmVudE5vZGVLZXk6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5jdXJyZW50Tm9kZUtleSxcbiAgICAgIGN1cnJlbnROb2RlTmFtZTogZmxvd0luc3RhbmNlUnVudGltZVBPLmN1cnJlbnROb2RlTmFtZSxcbiAgICAgIG1vZGVsSWQ6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5tb2RlbEludGVncmF0ZWRFbnRpdHkubW9kZWxJZCxcbiAgICAgIG1vZGVsUmVLZXk6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5tb2RlbEludGVncmF0ZWRFbnRpdHkubW9kZWxSZUtleSxcbiAgICAgIGN1cnJlbnRUYXNrSWQ6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5leGVjdXRpb25UYXNrRW50aXR5ID8gZmxvd0luc3RhbmNlUnVudGltZVBPLmV4ZWN1dGlvblRhc2tFbnRpdHkuZXh0YXNrSWQgOiBcIlwiLFxuICAgICAgZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXk6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5LFxuICAgICAgZmxvd0luc3RhbmNlUnVudGltZVBPOiBmbG93SW5zdGFuY2VSdW50aW1lUE8sXG4gICAgICBpc1N0YXJ0SW5zdGFuY2VTdGF0dXM6IGlzU3RhcnRJbnN0YW5jZVN0YXR1cyxcbiAgICAgIGpiNGRjQWN0aW9uczogZmxvd0luc3RhbmNlUnVudGltZVBPLmpiNGRjQWN0aW9uc1xuICAgIH07XG4gIH0sXG4gIHBhZ2VSZWFkeUZvclN0YXJ0U3RhdHVzOiBmdW5jdGlvbiBwYWdlUmVhZHlGb3JTdGFydFN0YXR1cyhpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTywgZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXksIHBhZ2VIb3N0SW5zdGFuY2UpIHtcbiAgICB0aGlzLl9mb3JtUnVudGltZUluc3QgPSBPYmplY3QuY3JlYXRlKEZvcm1SdW50aW1lKTtcbiAgICBGbG93UnVudGltZVBhZ2VPYmplY3QuX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTyA9IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTztcbiAgICB2YXIgcmVjb3JkSWQgPSBTdHJpbmdVdGlsaXR5Lkd1aWQoKTtcbiAgICB2YXIgcGFnZVJlYWR5SW5uZXJQYXJhcyA9IHRoaXMuYnVpbGRQYWdlUmVhZHlJbm5lclBhcmFzKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgcmVjb3JkSWQsIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTywgZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXkpO1xuXG4gICAgdGhpcy5fZm9ybVJ1bnRpbWVJbnN0LkluaXRpYWxpemF0aW9uKHtcbiAgICAgIFwiSW5zdGFuY2VJZFwiOiBmbG93SW5zdGFuY2VSdW50aW1lUE8uaW5zdGFuY2VFbnRpdHkuaW5zdElkLFxuICAgICAgXCJSZW5kZXJlclRvSWRcIjogXCJodG1sRGVzaWduUnVudGltZVdyYXBcIixcbiAgICAgIFwiRm9ybUlkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuZm9ybUlkLFxuICAgICAgXCJSZWNvcmRJZFwiOiByZWNvcmRJZCxcbiAgICAgIFwiQnV0dG9uSWRcIjogXCJcIixcbiAgICAgIFwiT3BlcmF0aW9uVHlwZVwiOiBCYXNlVXRpbGl0eS5HZXRBZGRPcGVyYXRpb25OYW1lKCksXG4gICAgICBcIklzUHJldmlld1wiOiBmYWxzZSxcbiAgICAgIFwiUmVuZGVyZXJDaGFpbkNvbXBsZXRlZEZ1bmNcIjogRmxvd1J1bnRpbWVQYWdlT2JqZWN0LmZvcm1SZW5kZXJlckNoYWluQ29tcGxldGVkRnVuYyxcbiAgICAgIFwiTGlzdEZvcm1CdXR0b25FbGVtSWRcIjogXCJcIixcbiAgICAgIFwiV2ViRm9ybVJUUGFyYXNcIjoge30sXG4gICAgICBcIkZvcm1SdW50aW1lQ2F0ZWdvcnlcIjogRmxvd1J1bnRpbWVQYWdlT2JqZWN0LkZPUk1fUlVOVElNRV9DQVRFR09SWV9GTE9XLFxuICAgICAgXCJQcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jXCI6IHRoaXMucHJlSGFuZGxlRm9ybUh0bWxSdW50aW1lRnVuYyxcbiAgICAgIFwiRmxvd0luc3RhbmNlUnVudGltZVBPXCI6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTyxcbiAgICAgIFwiRmxvd01vZGVsUnVudGltZVBPQ2FjaGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSxcbiAgICAgIFwiSXNTdGFydEluc3RhbmNlU3RhdHVzXCI6IGlzU3RhcnRJbnN0YW5jZVN0YXR1cyxcbiAgICAgIFwiQ3VycmVudE5vZGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZUtleSxcbiAgICAgIFwiQ3VycmVudE5vZGVOYW1lXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudE5vZGVOYW1lLFxuICAgICAgXCJNb2RlbElkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxJZCxcbiAgICAgIFwiTW9kZWxSZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLm1vZGVsUmVLZXksXG4gICAgICBcIkN1cnJlbnRUYXNrSWRcIjogXCJcIlxuICAgIH0pO1xuXG4gICAgdGhpcy5yZW5kZXJlckFjdGlvbkJ1dHRvbnMoaXNTdGFydEluc3RhbmNlU3RhdHVzLCB0aGlzLl9mb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMpO1xuICAgIHJldHVybiB0aGlzLl9mb3JtUnVudGltZUluc3Q7XG4gIH0sXG4gIHBhZ2VSZWFkeUZvclByb2Nlc3NTdGF0dXM6IGZ1bmN0aW9uIHBhZ2VSZWFkeUZvclByb2Nlc3NTdGF0dXMoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmbG93SW5zdGFuY2VSdW50aW1lUE8sIGZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5LCBwYWdlSG9zdEluc3RhbmNlKSB7XG4gICAgdGhpcy5fZm9ybVJ1bnRpbWVJbnN0ID0gT2JqZWN0LmNyZWF0ZShGb3JtUnVudGltZSk7XG4gICAgRmxvd1J1bnRpbWVQYWdlT2JqZWN0Ll9mbG93SW5zdGFuY2VSdW50aW1lUE8gPSBmbG93SW5zdGFuY2VSdW50aW1lUE87XG4gICAgdmFyIHJlY29yZElkID0gZmxvd0luc3RhbmNlUnVudGltZVBPLmluc3RhbmNlRW50aXR5Lmluc3RSdUJ1c2luZXNzS2V5O1xuICAgIHZhciBwYWdlUmVhZHlJbm5lclBhcmFzID0gdGhpcy5idWlsZFBhZ2VSZWFkeUlubmVyUGFyYXMoaXNTdGFydEluc3RhbmNlU3RhdHVzLCByZWNvcmRJZCwgZmxvd0luc3RhbmNlUnVudGltZVBPLCBmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSk7XG5cbiAgICB0aGlzLl9mb3JtUnVudGltZUluc3QuSW5pdGlhbGl6YXRpb24oe1xuICAgICAgXCJJbnN0YW5jZUlkXCI6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5pbnN0YW5jZUVudGl0eS5pbnN0SWQsXG4gICAgICBcIlJlbmRlcmVyVG9JZFwiOiBcImh0bWxEZXNpZ25SdW50aW1lV3JhcFwiLFxuICAgICAgXCJGb3JtSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mb3JtSWQsXG4gICAgICBcIlJlY29yZElkXCI6IHJlY29yZElkLFxuICAgICAgXCJCdXR0b25JZFwiOiBcIlwiLFxuICAgICAgXCJPcGVyYXRpb25UeXBlXCI6IEJhc2VVdGlsaXR5LkdldFVybE9QUGFyYVZhbHVlKCksXG4gICAgICBcIklzUHJldmlld1wiOiBmYWxzZSxcbiAgICAgIFwiUmVuZGVyZXJDaGFpbkNvbXBsZXRlZEZ1bmNcIjogRmxvd1J1bnRpbWVQYWdlT2JqZWN0LmZvcm1SZW5kZXJlckNoYWluQ29tcGxldGVkRnVuYyxcbiAgICAgIFwiTGlzdEZvcm1CdXR0b25FbGVtSWRcIjogXCJcIixcbiAgICAgIFwiV2ViRm9ybVJUUGFyYXNcIjoge30sXG4gICAgICBcIkZvcm1SdW50aW1lQ2F0ZWdvcnlcIjogRmxvd1J1bnRpbWVQYWdlT2JqZWN0LkZPUk1fUlVOVElNRV9DQVRFR09SWV9GTE9XLFxuICAgICAgXCJQcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jXCI6IHRoaXMucHJlSGFuZGxlRm9ybUh0bWxSdW50aW1lRnVuYyxcbiAgICAgIFwiRmxvd0luc3RhbmNlUnVudGltZVBPXCI6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTyxcbiAgICAgIFwiRmxvd01vZGVsUnVudGltZVBPQ2FjaGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSxcbiAgICAgIFwiSXNTdGFydEluc3RhbmNlU3RhdHVzXCI6IGlzU3RhcnRJbnN0YW5jZVN0YXR1cyxcbiAgICAgIFwiQ3VycmVudE5vZGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZUtleSxcbiAgICAgIFwiQ3VycmVudE5vZGVOYW1lXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudE5vZGVOYW1lLFxuICAgICAgXCJNb2RlbElkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxJZCxcbiAgICAgIFwiTW9kZWxSZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLm1vZGVsUmVLZXksXG4gICAgICBcIkN1cnJlbnRUYXNrSWRcIjogXCJcIlxuICAgIH0pO1xuXG4gICAgdGhpcy5yZW5kZXJlckFjdGlvbkJ1dHRvbnMoaXNTdGFydEluc3RhbmNlU3RhdHVzLCB0aGlzLl9mb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMpO1xuICAgIHJldHVybiB0aGlzLl9mb3JtUnVudGltZUluc3Q7XG4gIH0sXG4gIHJlbmRlcmVyQWN0aW9uQnV0dG9uczogZnVuY3Rpb24gcmVuZGVyZXJBY3Rpb25CdXR0b25zKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzKSB7XG4gICAgQWN0aW9uc1J1bnRpbWVPYmplY3QuQ3JlYXRlQUxMQWN0aW9uQnV0dG9uKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzKTtcbiAgfSxcbiAgcmVuZGVyZXJGbG93TW9kZWxlckZvclRhYk9uQWN0aXZpdHk6IGZ1bmN0aW9uIHJlbmRlcmVyRmxvd01vZGVsZXJGb3JUYWJPbkFjdGl2aXR5KGV2ZW50LCB1aSkge1xuICAgIGlmICghRmxvd1J1bnRpbWVQYWdlT2JqZWN0Ll9pc0NyZWF0ZWRNb2RlbGVyVmlldykge1xuICAgICAgQ3JlYXRlTW9kZWxlclZpZXcoRmxvd1J1bnRpbWVQYWdlT2JqZWN0Ll9mbG93SW5zdGFuY2VSdW50aW1lUE8pO1xuICAgICAgRmxvd1J1bnRpbWVQYWdlT2JqZWN0Ll9pc0NyZWF0ZWRNb2RlbGVyVmlldyA9IHRydWU7XG4gICAgfVxuICB9LFxuICByZW5kZXJlckZsb3dGaWxlQ29udGFpbmVyOiBmdW5jdGlvbiByZW5kZXJlckZsb3dGaWxlQ29udGFpbmVyKGZsb3dJbnN0YW5jZVJ1bnRpbWVQTykge1xuICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uUmVuZGVyZXIoKTtcbiAgfSxcbiAgZm9ybVJlbmRlcmVyQ2hhaW5Db21wbGV0ZWRGdW5jOiBmdW5jdGlvbiBmb3JtUmVuZGVyZXJDaGFpbkNvbXBsZXRlZEZ1bmMoc2VuZGVyQ29uZmlnKSB7XG4gICAgdmFyIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTyA9IHNlbmRlckNvbmZpZy5mbG93SW5zdGFuY2VSdW50aW1lUE87XG4gICAgRmxvd1J1bnRpbWVQYWdlT2JqZWN0LnJlbmRlcmVyRmxvd0ZpbGVDb250YWluZXIoZmxvd0luc3RhbmNlUnVudGltZVBPKTtcbiAgfSxcbiAgcHJlSGFuZGxlRm9ybUh0bWxSdW50aW1lRnVuYzogZnVuY3Rpb24gcHJlSGFuZGxlRm9ybUh0bWxSdW50aW1lRnVuYyhzb3VyY2VSdW50aW1lSHRtbCwgZm9ybVJ1bnRpbWVJbnN0LCBwcm9wQ29uZmlnKSB7XG4gICAgdmFyIGZsb3dQYWdlQ29udGFpbmVyID0gJChcIjxkaXY+XCIgKyBzb3VyY2VSdW50aW1lSHRtbCArIFwiPGRpdj5cIik7XG4gICAgdmFyIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTyA9IHByb3BDb25maWcuRmxvd0luc3RhbmNlUnVudGltZVBPO1xuXG4gICAgaWYgKGZsb3dQYWdlQ29udGFpbmVyLmNoaWxkcmVuKFwiW3NpbmdsZW5hbWU9J1dGRENUX1RhYkNvbnRhaW5lciddXCIpLmxlbmd0aCA9PSAwKSB7XG4gICAgICBmbG93UGFnZUNvbnRhaW5lciA9ICQoXCI8ZGl2PjxkaXYgY2xhc3M9XFxcIndmZGN0LXRhYnMtb3V0ZXItd3JhcC1ydW50aW1lIGh0bWwtZGVzaWduLXRoZW1lLWRlZmF1bHQtcm9vdC1lbGVtLWNsYXNzXFxcIiBjb250cm9sX2NhdGVnb3J5PVxcXCJDb250YWluZXJDb250cm9sXFxcIiBkZXNjPVxcXCJcXFwiIGdyb3VwbmFtZT1cXFwiXFxcIiBpZD1cXFwidGFic193cmFwXzUxODYyNzYxNlxcXCIgaXNfamJ1aWxkNGRjX2RhdGE9XFxcImZhbHNlXFxcIiBqYnVpbGQ0ZGNfY3VzdG9tPVxcXCJ0cnVlXFxcIiBuYW1lPVxcXCJ0YWJzX3dyYXBfNTE4NjI3NjE2XFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIiBzZXJpYWxpemU9XFxcImZhbHNlXFxcIiBzaG93X3JlbW92ZV9idXR0b249XFxcImZhbHNlXFxcIiBzaW5nbGVuYW1lPVxcXCJXRkRDVF9UYWJDb250YWluZXJcXFwiIHN0YXR1cz1cXFwiZW5hYmxlXFxcIiBzdHlsZT1cXFwiXFxcIiBjbGllbnRfcmVzb2x2ZT1cXFwiV0ZEQ1RfVGFiQ29udGFpbmVyXFxcIj48ZGl2PlwiKTtcbiAgICAgIGZsb3dQYWdlQ29udGFpbmVyLmNoaWxkcmVuKFwiW3NpbmdsZW5hbWU9J1dGRENUX1RhYkNvbnRhaW5lciddXCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1sYWJlbCB3ZmRjdC10YWJzLWxhYmVsLXJ1bnRpbWVcXFwiIHRhYl9pZD1cXFwidGFiX2NvbnRlbnRfZmxvd19mb3JtXzk5OVxcXCI+XCIgKyBmbG93SW5zdGFuY2VSdW50aW1lUE8ubW9kZWxOYW1lICsgXCI8L2Rpdj5cIik7XG4gICAgICBmbG93UGFnZUNvbnRhaW5lci5jaGlsZHJlbihcIltzaW5nbGVuYW1lPSdXRkRDVF9UYWJDb250YWluZXInXVwiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtY29udGVudCB3ZmRjdC10YWJzLWNvbnRlbnQtcnVudGltZVxcXCIgaWQ9XFxcInRhYl9jb250ZW50X2Zsb3dfZm9ybV85OTlcXFwiPlwiICsgc291cmNlUnVudGltZUh0bWwgKyBcIjwvZGl2PlwiKTtcbiAgICB9XG5cbiAgICB2YXIgdGFiQ29udGFpbmVyID0gZmxvd1BhZ2VDb250YWluZXIuY2hpbGRyZW4oXCJbc2luZ2xlbmFtZT0nV0ZEQ1RfVGFiQ29udGFpbmVyJ11cIik7XG5cbiAgICBpZiAoZmxvd0luc3RhbmNlUnVudGltZVBPLmpiNGRjQ29udGVudERvY3VtZW50UGx1Z2luID09IFwidXBsb2FkQ29udmVydFRvUERGUGx1Z2luXCIpIHtcbiAgICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtbGFiZWwgd2ZkY3QtdGFicy1sYWJlbC1ydW50aW1lXFxcIiB0YWJfaWQ9XFxcInRhYl9jb250ZW50X3VwbG9hZENvbnZlcnRUb1BERlBsdWdpbl85OTlcXFwiPuato+aWhzwvZGl2PlwiKTtcbiAgICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtY29udGVudCB3ZmRjdC10YWJzLWNvbnRlbnQtcnVudGltZVxcXCIgaWQ9XFxcInRhYl9jb250ZW50X3VwbG9hZENvbnZlcnRUb1BERlBsdWdpbl85OTlcXFwiPlwiICsgRG9jdW1lbnRDb250ZW50VXBsb2FkQ29udmVydFRvUERGUGx1Z2luLkdldEh0bWxFbGVtKHByb3BDb25maWcpICsgXCI8L2Rpdj5cIik7XG4gICAgfSBlbHNlIGlmIChmbG93SW5zdGFuY2VSdW50aW1lUE8uamI0ZGNDb250ZW50RG9jdW1lbnRQbHVnaW4gPT0gXCJ3cHNPbmxpbmVEb2N1bWVudFBsdWdpblwiKSB7XG4gICAgICB0YWJDb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwid3lzaXd5Zy13ZmRjdC10YWJzLWxhYmVsIHdmZGN0LXRhYnMtbGFiZWwtcnVudGltZVxcXCIgdGFiX2lkPVxcXCJ0YWJfY29udGVudF93cHNPbmxpbmVEb2N1bWVudFBsdWdpbl85OTlcXFwiPuato+aWhzwvZGl2PlwiKTtcbiAgICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtY29udGVudCB3ZmRjdC10YWJzLWNvbnRlbnQtcnVudGltZVxcXCIgaWQ9XFxcInRhYl9jb250ZW50X3dwc09ubGluZURvY3VtZW50UGx1Z2luXzk5OVxcXCI+5pyq5a6e546wPC9kaXY+XCIpO1xuICAgIH1cblxuICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtbGFiZWwgd2ZkY3QtdGFicy1sYWJlbC1ydW50aW1lXFxcIiB0YWJfaWQ9XFxcInRhYl9jb250ZW50X2Zsb3dfZmlsZXNfOTk5XFxcIj7pmYTku7Y8L2Rpdj5cIik7XG4gICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1jb250ZW50IHdmZGN0LXRhYnMtY29udGVudC1ydW50aW1lXFxcIiBpZD1cXFwidGFiX2NvbnRlbnRfZmxvd19maWxlc185OTlcXFwiPlwiICsgRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5HZXRIdG1sRWxlbShwcm9wQ29uZmlnKSArIFwiPC9kaXY+XCIpO1xuICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtbGFiZWwgd2ZkY3QtdGFicy1sYWJlbC1ydW50aW1lXFxcIiB0YWJfaWQ9XFxcInRhYl9jb250ZW50X2Zsb3dfbW9kZWxlcl85OTlcXFwiPua1geeoi+WbvjwvZGl2PlwiKTtcbiAgICB0YWJDb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwid3lzaXd5Zy13ZmRjdC10YWJzLWNvbnRlbnQgd2ZkY3QtdGFicy1jb250ZW50LXJ1bnRpbWVcXFwiIGlkPVxcXCJ0YWJfY29udGVudF9mbG93X21vZGVsZXJfOTk5XFxcIiBzdHlsZT0naGVpZ2h0OiBjYWxjKDEwMCUgLSA1MHB4KTsnIG9uQWN0aXZpdHk9XFxcIkZsb3dSdW50aW1lUGFnZU9iamVjdC5yZW5kZXJlckZsb3dNb2RlbGVyRm9yVGFiT25BY3Rpdml0eVxcXCI+PGRpdiBpZD1cXFwiZmxvdy1jYW52YXNcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6MTAwJTtcXFwiPjwvZGl2PjwvZGl2PlwiKTtcbiAgICB0YWJDb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwid3lzaXd5Zy13ZmRjdC10YWJzLWxhYmVsIHdmZGN0LXRhYnMtbGFiZWwtcnVudGltZVxcXCIgdGFiX2lkPVxcXCJ0YWJfY29udGVudF9mbG93X3Rhc2tfOTk5XFxcIj7mtYHovazkv6Hmga88L2Rpdj5cIik7XG4gICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1jb250ZW50IHdmZGN0LXRhYnMtY29udGVudC1ydW50aW1lXFxcIiBpZD1cXFwidGFiX2NvbnRlbnRfZmxvd190YXNrXzk5OVxcXCI+XCIgKyBJbnN0YW5jZUV4VGFza0xpc3RQbHVnaW4uR2V0SHRtbEVsZW0ocHJvcENvbmZpZykgKyBcIjwvZGl2PlwiKTtcbiAgICB2YXIgbmV3UnVudGltZUh0bWwgPSBmbG93UGFnZUNvbnRhaW5lci5odG1sKCk7XG4gICAgcmV0dXJuIG5ld1J1bnRpbWVIdG1sO1xuICB9LFxuICBjaGFuZ2VUYXNrVG9WaWV3OiBmdW5jdGlvbiBjaGFuZ2VUYXNrVG9WaWV3KGV4ZWN1dGlvblRhc2tFbnRpdHkpIHtcbiAgICBjb25zb2xlLmxvZyhcIjExMTExMTExMTExMTExMTExMTFcIik7XG4gICAgQWpheFV0aWxpdHkuUG9zdChcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L0luc3RhbmNlUnVudGltZS9DaGFuZ2VUYXNrVG9WaWV3XCIsIHtcbiAgICAgIGV4dGFza0lkOiBleGVjdXRpb25UYXNrRW50aXR5LmV4dGFza0lkXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge30sIHRoaXMpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRmxvd1J1bnRpbWVWYXJCdWlsZGVyID0ge1xuICBCdWlsZGVyU2VsZWN0ZWRSZWNlaXZlclRvSW5zdGFuY2VWYXI6IGZ1bmN0aW9uIEJ1aWxkZXJTZWxlY3RlZFJlY2VpdmVyVG9JbnN0YW5jZVZhcihuZXh0Rmxvd05vZGVFbnRpdGllcywgc2VsZWN0ZWRSZWNlaXZlckRhdGEpIHtcbiAgICB2YXIgcmVzdWx0RGF0YSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZFJlY2VpdmVyRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlY2VpdmVyID0gc2VsZWN0ZWRSZWNlaXZlckRhdGFbaV07XG4gICAgICByZXN1bHREYXRhLnB1c2goe1xuICAgICAgICBuZXh0Tm9kZUlkOiByZWNlaXZlci5mbG93Tm9kZUVudGl0eS5pZCxcbiAgICAgICAgcmVjZWl2ZXJJZDogcmVjZWl2ZXIuaWQsXG4gICAgICAgIHJlY2VpdmVyTmFtZTogcmVjZWl2ZXIubmFtZSxcbiAgICAgICAgcmVjZWl2ZXJUeXBlTmFtZTogcmVjZWl2ZXIudHlwZU5hbWUsXG4gICAgICAgIHJlY2VpdmVUeXBlOiByZWNlaXZlci5yZWNlaXZlVHlwZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdERhdGE7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBXb3JrRmxvd0FjdGlvbiA9IHtcbiAgRW1wdHlQcm9wOiB7XG4gICAgXCJzZW5kZXJcIjogbnVsbCxcbiAgICBcImZsb3dJbnN0YW5jZVJ1bnRpbWVQT1wiOiBudWxsLFxuICAgIFwiZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXlcIjogbnVsbCxcbiAgICBcImpiNGRjQWN0aW9uc1wiOiBudWxsLFxuICAgIFwiZm9ybVJ1bnRpbWVJbnN0XCI6IG51bGwsXG4gICAgXCJhY3Rpb25PYmpcIjogbnVsbCxcbiAgICBcImlzU3RhcnRJbnN0YW5jZVN0YXR1c1wiOiBudWxsLFxuICAgIFwicGFnZUhvc3RJbnN0YW5jZVwiOiBudWxsLFxuICAgIFwiY3VycmVudE5vZGVLZXlcIjogbnVsbCxcbiAgICBcImN1cnJlbnROb2RlTmFtZVwiOiBudWxsLFxuICAgIFwicmVjb3JkSWRcIjogbnVsbCxcbiAgICBcIm1vZGVsSWRcIjogbnVsbCxcbiAgICBcIm1vZGVsUmVLZXlcIjogbnVsbCxcbiAgICBcImN1cnJlbnRUYXNrSWRcIjogbnVsbCxcbiAgICBcImluc3RhbmNlSWRcIjogbnVsbCxcbiAgICBcImFjdGlvblNob3dPcGluaW9uRGlhbG9nXCI6IG51bGwsXG4gICAgXCJhY3Rpb25PcGluaW9uQmluZFRvRmllbGRcIjogbnVsbCxcbiAgICBcImFjdGlvbk9waW5pb25CaW5kVG9FbGVtSWRcIjogbnVsbCxcbiAgICBcImh0bWxJZFwiOiBudWxsXG4gIH0sXG4gIEluc3RhbmNlOiBmdW5jdGlvbiBJbnN0YW5jZShpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcywgYWN0aW9uT2JqKSB7XG4gICAgdmFyIGh0bWxJZCA9IGFjdGlvbk9iai5hY3Rpb25IVE1MSWQgPyBhY3Rpb25PYmouYWN0aW9uSFRNTElkIDogYWN0aW9uT2JqLmFjdGlvbkNvZGU7XG4gICAgdmFyIGVsZW0gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm9wZXJhdGlvbi1idXR0b24gb3BlcmF0aW9uLWJ1dHRvbi1wcmltYXJ5XCIgaWQ9XCInICsgaHRtbElkICsgJ1wiPjxzcGFuPicgKyBhY3Rpb25PYmouYWN0aW9uQ2FwdGlvbiArICc8L3NwYW4+PC9idXR0b24+Jyk7XG5cbiAgICBpZiAoYWN0aW9uT2JqLmFjdGlvbkRpc2FibGUgPT0gXCJkaXNhYmxlXCIpIHtcbiAgICAgIGVsZW0uYXR0cihcImRpc2FibGVcIiwgXCJkaXNhYmxlXCIpO1xuICAgICAgZWxlbS5hZGRDbGFzcyhcIm9wZXJhdGlvbi1idXR0b24tcHJpbWFyeS1kaXNhYmxlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fUHJvcCA9IFdvcmtGbG93QWN0aW9uLkJ1aWxkUHJvcCh0aGlzLCBwYWdlUmVhZHlJbm5lclBhcmFzLCBmb3JtUnVudGltZUluc3QsIGFjdGlvbk9iaiwgaXNTdGFydEluc3RhbmNlU3RhdHVzLCBwYWdlSG9zdEluc3RhbmNlLCBodG1sSWQpO1xuICAgICAgZWxlbS5iaW5kKFwiY2xpY2tcIiwgdGhpcy5fUHJvcCwgZnVuY3Rpb24gKHNlbmRlcikge1xuICAgICAgICBjb25zb2xlLmxvZyhzZW5kZXIuZGF0YSk7XG4gICAgICAgIHNlbmRlci5kYXRhLnNlbmRlci5CdXR0b25DbGlja0V2ZW50KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uT2JqLmFjdGlvblJlbWFyaykge1xuICAgICAgZWxlbS5hdHRyKFwidGl0bGVcIiwgYWN0aW9uT2JqLmFjdGlvblJlbWFyayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVsZW06IGVsZW1cbiAgICB9O1xuICB9LFxuICBCdWlsZFByb3A6IGZ1bmN0aW9uIEJ1aWxkUHJvcChzZW5kZXIsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGZvcm1SdW50aW1lSW5zdCwgYWN0aW9uT2JqLCBpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIHBhZ2VIb3N0SW5zdGFuY2UsIGh0bWxJZCkge1xuICAgIHJldHVybiB7XG4gICAgICBcInNlbmRlclwiOiBzZW5kZXIsXG4gICAgICBcImZsb3dJbnN0YW5jZVJ1bnRpbWVQT1wiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQTyxcbiAgICAgIFwiZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSxcbiAgICAgIFwiamI0ZGNBY3Rpb25zXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuamI0ZGNBY3Rpb25zLFxuICAgICAgXCJmb3JtUnVudGltZUluc3RcIjogZm9ybVJ1bnRpbWVJbnN0LFxuICAgICAgXCJhY3Rpb25PYmpcIjogYWN0aW9uT2JqLFxuICAgICAgXCJpc1N0YXJ0SW5zdGFuY2VTdGF0dXNcIjogaXNTdGFydEluc3RhbmNlU3RhdHVzLFxuICAgICAgXCJwYWdlSG9zdEluc3RhbmNlXCI6IHBhZ2VIb3N0SW5zdGFuY2UsXG4gICAgICBcImN1cnJlbnROb2RlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudE5vZGVLZXksXG4gICAgICBcImN1cnJlbnROb2RlTmFtZVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmN1cnJlbnROb2RlTmFtZSxcbiAgICAgIFwicmVjb3JkSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5yZWNvcmRJZCxcbiAgICAgIFwibW9kZWxJZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLm1vZGVsSWQsXG4gICAgICBcIm1vZGVsUmVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5tb2RlbFJlS2V5LFxuICAgICAgXCJjdXJyZW50VGFza0lkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudFRhc2tJZCxcbiAgICAgIFwiaW5zdGFuY2VJZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5pbnN0YW5jZUVudGl0eS5pbnN0SWQsXG4gICAgICBcImFjdGlvblNob3dPcGluaW9uRGlhbG9nXCI6IGFjdGlvbk9iai5hY3Rpb25TaG93T3BpbmlvbkRpYWxvZyxcbiAgICAgIFwiYWN0aW9uT3BpbmlvbkJpbmRUb0ZpZWxkXCI6IGFjdGlvbk9iai5hY3Rpb25PcGluaW9uQmluZFRvRmllbGQsXG4gICAgICBcImFjdGlvbk9waW5pb25CaW5kVG9FbGVtSWRcIjogYWN0aW9uT2JqLmFjdGlvbk9waW5pb25CaW5kVG9FbGVtSWQsXG4gICAgICBcImh0bWxJZFwiOiBodG1sSWRcbiAgICB9O1xuICB9LFxuICBSZWZyZXNoUGFyZW50TGlzdFRoZW5DbG9zZTogZnVuY3Rpb24gUmVmcmVzaFBhcmVudExpc3RUaGVuQ2xvc2UobWVzc2FnZSkge1xuICAgIGlmICh3aW5kb3cuT3BlbmVyV2luZG93T2JqICE9IG51bGwgJiYgd2luZG93Lk9wZW5lcldpbmRvd09iai5pbnN0YW5jZU1haW5UYXNrUHJvY2Vzc0xpc3QgIT0gbnVsbCkge1xuICAgICAgd2luZG93Lk9wZW5lcldpbmRvd09iai5pbnN0YW5jZU1haW5UYXNrUHJvY2Vzc0xpc3QucmVsb2FkRGF0YSgpO1xuICAgIH1cblxuICAgIHBvcnRsZXRVdGlsaXR5LlVwZGF0ZVJlZnJlc2hWZXJzaW9uKCk7XG4gICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIG1lc3NhZ2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuRnJhbWVfQ2xvc2VEaWFsb2cod2luZG93KTtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIERlbGV0ZUluc3RhbmNlQWN0aW9uID0ge1xuICBhY0ludGVyZmFjZToge30sXG4gIF9Qcm9wOiBXb3JrRmxvd0FjdGlvbi5FbXB0eVByb3AsXG4gIEluc3RhbmNlOiBmdW5jdGlvbiBJbnN0YW5jZShpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcywgYWN0aW9uT2JqKSB7XG4gICAgcmV0dXJuIFdvcmtGbG93QWN0aW9uLkluc3RhbmNlLmNhbGwodGhpcywgaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGFjdGlvbk9iaik7XG4gIH0sXG4gIEJ1dHRvbkNsaWNrRXZlbnQ6IGZ1bmN0aW9uIEJ1dHRvbkNsaWNrRXZlbnQoc2VuZGVyKSB7XG4gICAgRGlhbG9nVXRpbGl0eS5Db25maXJtKHdpbmRvdywgXCLmmoLkuI3mlK/mjIHor6Xmk43kvZw/XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFJlY2FsbEFjdGlvbiA9IHtcbiAgYWNJbnRlcmZhY2U6IHtcbiAgICByZWNhbGxNeVNlbmRUYXNrOiBcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L0luc3RhbmNlUnVudGltZS9SZWNhbGxNeVNlbmRUYXNrXCJcbiAgfSxcbiAgX1Byb3A6IFdvcmtGbG93QWN0aW9uLkVtcHR5UHJvcCxcbiAgSW5zdGFuY2U6IGZ1bmN0aW9uIEluc3RhbmNlKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzLCBhY3Rpb25PYmopIHtcbiAgICByZXR1cm4gV29ya0Zsb3dBY3Rpb24uSW5zdGFuY2UuY2FsbCh0aGlzLCBpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcywgYWN0aW9uT2JqKTtcbiAgfSxcbiAgQnV0dG9uQ2xpY2tFdmVudDogZnVuY3Rpb24gQnV0dG9uQ2xpY2tFdmVudChzZW5kZXIpIHtcbiAgICBEaWFsb2dVdGlsaXR5LkNvbmZpcm0od2luZG93LCBcIuehruiupOaJp+ihjOaSpOWbnuaTjeS9nD9cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydExvYWRpbmcod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0xvYWRpbmdJZCwge30sIFwi57O757uf5aSE55CG5LitLOivt+eojeWAmSFcIik7XG4gICAgICBBamF4VXRpbGl0eS5Qb3N0KHRoaXMuYWNJbnRlcmZhY2UucmVjYWxsTXlTZW5kVGFzaywge1xuICAgICAgICBleHRhc2tJZDogdGhpcy5fUHJvcC5jdXJyZW50VGFza0lkXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2coRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHRoaXMuUmVmcmVzaFBhcmVudExpc3RUaGVuQ2xvc2UocmVzdWx0Lm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB9LCB0aGlzKTtcbiAgfSxcbiAgUmVmcmVzaFBhcmVudExpc3RUaGVuQ2xvc2U6IFdvcmtGbG93QWN0aW9uLlJlZnJlc2hQYXJlbnRMaXN0VGhlbkNsb3NlXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgU2VuZEFjdGlvbiA9IHtcbiAgYWNJbnRlcmZhY2U6IHtcbiAgICByZXNvbHZlTmV4dFBvc3NpYmxlRmxvd05vZGU6IFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvSW5zdGFuY2VSdW50aW1lL1Jlc29sdmVOZXh0UG9zc2libGVGbG93Tm9kZVwiLFxuICAgIGNvbXBsZXRlVGFzazogXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9JbnN0YW5jZVJ1bnRpbWUvQ29tcGxldGVUYXNrXCJcbiAgfSxcbiAgX1Byb3A6IFdvcmtGbG93QWN0aW9uLkVtcHR5UHJvcCxcbiAgbmV3T3Bpbmlvbkxpc3Q6IFtdLFxuICBpbnB1dE9waW5pb25UZXh0OiBudWxsLFxuICBJbnN0YW5jZTogZnVuY3Rpb24gSW5zdGFuY2UoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGFjdGlvbk9iaikge1xuICAgIHJldHVybiBXb3JrRmxvd0FjdGlvbi5JbnN0YW5jZS5jYWxsKHRoaXMsIGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzLCBhY3Rpb25PYmopO1xuICB9LFxuICBCdXR0b25DbGlja0V2ZW50OiBmdW5jdGlvbiBCdXR0b25DbGlja0V2ZW50KCkge1xuICAgIHZhciB2YWxpZGF0ZVJlc3VsdCA9IFZhbGlkYXRlUnVsZXNSdW50aW1lLlZhbGlkYXRlU3VibWl0RW5hYmxlKCk7XG5cbiAgICBpZiAoVmFsaWRhdGVSdWxlc1J1bnRpbWUuQWxlcnRWYWxpZGF0ZUVycm9ycyh2YWxpZGF0ZVJlc3VsdCkpIHtcbiAgICAgIHZhciBhY3Rpb25TaG93T3BpbmlvbkRpYWxvZyA9IHRoaXMuX1Byb3AuYWN0aW9uU2hvd09waW5pb25EaWFsb2c7XG5cbiAgICAgIGlmIChhY3Rpb25TaG93T3BpbmlvbkRpYWxvZyA9PSBcInRydWVcIikge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LlByb21wdCh3aW5kb3csIHtcbiAgICAgICAgICB0aXRsZTogXCLns7vnu5/mj5DnpLpcIixcbiAgICAgICAgICBoZWlnaHQ6IDMwMCxcbiAgICAgICAgICB3aWR0aDogNDAwXG4gICAgICAgIH0sIERpYWxvZ1V0aWxpdHkuRGlhbG9nUHJvbXB0SWQsIFwi6K+36L6T5YWl5aSE55CG5oSP6KeBMVwiLCBmdW5jdGlvbiAoaW5wdXRUZXh0KSB7XG4gICAgICAgICAgdmFyIG9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UgPSB0aGlzLlRyeUdldE9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UodGhpcy5fUHJvcCk7XG5cbiAgICAgICAgICBpZiAob3BpbmlvbkJpbmRUb0NvbnRyb2xJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UuU2V0TmV3VmFsdWUgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIG9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UuU2V0TmV3VmFsdWUoaW5wdXRUZXh0KTtcbiAgICAgICAgICAgICAgdGhpcy5pbnB1dE9waW5pb25UZXh0ID0gaW5wdXRUZXh0O1xuICAgICAgICAgICAgICB0aGlzLkJlZ2luU2VsZWN0UmVjZWl2ZXIodGhpcywgdGhpcy5fUHJvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuaEj+ingeWFs+iBlOWvueixoeS4uuWunueOsFNldE5ld1ZhbHVl5pa55rOVISFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuQmVnaW5TZWxlY3RSZWNlaXZlcih0aGlzLCB0aGlzLl9Qcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFRyeUdldE9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2U6IGZ1bmN0aW9uIFRyeUdldE9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UoX3Byb3ApIHtcbiAgICB2YXIgYWN0aW9uT3BpbmlvbkJpbmRUb0VsZW1JZCA9IF9wcm9wLmFjdGlvbk9waW5pb25CaW5kVG9FbGVtSWQ7XG4gICAgdmFyIGFjdGlvbk9waW5pb25CaW5kVG9GaWVsZCA9IF9wcm9wLmFjdGlvbk9waW5pb25CaW5kVG9GaWVsZDtcbiAgICB2YXIgY29udHJvbEVsZW07XG5cbiAgICBpZiAoYWN0aW9uT3BpbmlvbkJpbmRUb0VsZW1JZCkge1xuICAgICAgY29udHJvbEVsZW0gPSAkKFwiI1wiICsgYWN0aW9uT3BpbmlvbkJpbmRUb0VsZW1JZCk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRyb2xFbGVtICYmIGNvbnRyb2xFbGVtLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBIVE1MQ29udHJvbC5HZXRDb250cm9sSW5zdGFuY2VCeUVsZW0oY29udHJvbEVsZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sRWxlbSA9ICQoXCJbZmllbGRuYW1lPSdcIiArIGFjdGlvbk9waW5pb25CaW5kVG9GaWVsZCArIFwiJ11cIik7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRyb2xFbGVtICYmIGNvbnRyb2xFbGVtLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBIVE1MQ29udHJvbC5HZXRDb250cm9sSW5zdGFuY2VCeUVsZW0oY29udHJvbEVsZW0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBCZWdpblNlbGVjdFJlY2VpdmVyOiBmdW5jdGlvbiBCZWdpblNlbGVjdFJlY2VpdmVyKF90aGlzLCBfcHJvcCkge1xuICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRMb2FkaW5nKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQsIHt9LCBcIlwiKTtcbiAgICB2YXIgc2VuZERhdGEgPSB0aGlzLkJ1aWxkU2VuZFRvU2VydmVyRGF0YSh0aGlzLl9Qcm9wLCBudWxsKTtcblxuICAgIGlmIChzZW5kRGF0YS5zdWNjZXNzKSB7XG4gICAgICBBamF4VXRpbGl0eS5Qb3N0KHRoaXMuYWNJbnRlcmZhY2UucmVzb2x2ZU5leHRQb3NzaWJsZUZsb3dOb2RlLCBzZW5kRGF0YS5kYXRhLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2coRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuZGF0YS5uZXh0VGFza0lzRW5kRXZlbnQpIHtcbiAgICAgICAgICB0aGlzLlNlbGVjdFJlY2VpdmVyQ29tcGxldGVkKHJlc3VsdC5kYXRhLmJwbW5UYXNrTGlzdCwgW10pO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5kYXRhLmN1cnJlbnRUYXNrSXNNdWx0aUluc3RhbmNlICYmIHJlc3VsdC5kYXRhLmN1cnJlbnRUYXNrTXVsdGlDb21wbGV0ZWRJbnN0YW5jZXMgKyAxIDwgcmVzdWx0LmRhdGEuY3VycmVudFRhc2tNdWx0aUNvdW50RW5nSW5zdGFuY2VzKSB7XG4gICAgICAgICAgdGhpcy5TZWxlY3RSZWNlaXZlckNvbXBsZXRlZChyZXN1bHQuZGF0YS5icG1uVGFza0xpc3QsIFtdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBVc2VyVGFza1JlY2VpdmVyRGlhbG9nVXRpbGl0eS5TaG93RGlhbG9nKHRoaXMsIHJlc3VsdC5kYXRhLmJwbW5UYXNrTGlzdCwgdGhpcy5TZWxlY3RSZWNlaXZlckNvbXBsZXRlZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgU2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWQ6IGZ1bmN0aW9uIFNlbGVjdFJlY2VpdmVyQ29tcGxldGVkKG5leHRUYXNrRW50aXR5TGlzdCwgc2VsZWN0ZWRSZWNlaXZlckRhdGEpIHtcbiAgICBEaWFsb2dVdGlsaXR5LkNvbmZpcm0od2luZG93LCBcIuehruiupOaJp+ihjOWPkemAgT9cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGVjdGVkUmVjZWl2ZXJWYXJzID0gRmxvd1J1bnRpbWVWYXJCdWlsZGVyLkJ1aWxkZXJTZWxlY3RlZFJlY2VpdmVyVG9JbnN0YW5jZVZhcihuZXh0VGFza0VudGl0eUxpc3QsIHNlbGVjdGVkUmVjZWl2ZXJEYXRhKTtcblxuICAgICAgaWYgKHRoaXMuaW5wdXRPcGluaW9uVGV4dCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMubmV3T3Bpbmlvbkxpc3QucHVzaCh0aGlzLkJ1aWxkTmV3T3Bpbmlvbih0aGlzLmlucHV0T3BpbmlvblRleHQpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbmREYXRhID0gdGhpcy5CdWlsZFNlbmRUb1NlcnZlckRhdGEodGhpcy5fUHJvcCwge1xuICAgICAgICBzZWxlY3RlZFJlY2VpdmVyVmFyczogZW5jb2RlVVJJQ29tcG9uZW50KEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZyhzZWxlY3RlZFJlY2VpdmVyVmFycykpLFxuICAgICAgICBuZXdPcGluaW9uTGlzdFN0cmluZzogZW5jb2RlVVJJQ29tcG9uZW50KEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZyh0aGlzLm5ld09waW5pb25MaXN0KSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2VuZERhdGEuc3VjY2Vzcykge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0TG9hZGluZyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nTG9hZGluZ0lkLCB7fSwgXCLns7vnu5/lpITnkIbkuK0s6K+356iN5YCZIVwiKTtcbiAgICAgICAgQWpheFV0aWxpdHkuUG9zdCh0aGlzLmFjSW50ZXJmYWNlLmNvbXBsZXRlVGFzaywgc2VuZERhdGEuZGF0YSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2coRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQpO1xuXG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLlJlZnJlc2hQYXJlbnRMaXN0VGhlbkNsb3NlKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydEVycm9yKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydEVycm9ySWQsIHt9LCByZXN1bHQuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuICBCdWlsZFNlbmRUb1NlcnZlckRhdGE6IGZ1bmN0aW9uIEJ1aWxkU2VuZFRvU2VydmVyRGF0YShfcHJvcCwgYXBwZW5kU2VuZE1hcCkge1xuICAgIHZhciBmb3JtRGF0YUNvbXBsZXhQTyA9IF9wcm9wLmZvcm1SdW50aW1lSW5zdC5TZXJpYWxpemF0aW9uRm9ybURhdGEoKTtcblxuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICBpc1N0YXJ0SW5zdGFuY2VTdGF0dXM6IF9wcm9wLmlzU3RhcnRJbnN0YW5jZVN0YXR1cyxcbiAgICAgICAgYWN0aW9uQ29kZTogX3Byb3AuYWN0aW9uT2JqLmFjdGlvbkNvZGUsXG4gICAgICAgIGZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5OiBfcHJvcC5mbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSxcbiAgICAgICAgXCJmb3JtUmVjb3JkQ29tcGxleFBPU3RyaW5nXCI6IGVuY29kZVVSSUNvbXBvbmVudChKc29uVXRpbGl0eS5Kc29uVG9TdHJpbmcoZm9ybURhdGFDb21wbGV4UE8pKSxcbiAgICAgICAgXCJjdXJyZW50Tm9kZUtleVwiOiBfcHJvcC5jdXJyZW50Tm9kZUtleSxcbiAgICAgICAgXCJjdXJyZW50Tm9kZU5hbWVcIjogX3Byb3AuY3VycmVudE5vZGVOYW1lLFxuICAgICAgICBcInJlY29yZElkXCI6IF9wcm9wLnJlY29yZElkLFxuICAgICAgICBcIm1vZGVsSWRcIjogX3Byb3AubW9kZWxJZCxcbiAgICAgICAgXCJtb2RlbFJlS2V5XCI6IF9wcm9wLm1vZGVsUmVLZXksXG4gICAgICAgIFwiY3VycmVudFRhc2tJZFwiOiBfcHJvcC5jdXJyZW50VGFza0lkLFxuICAgICAgICBcImluc3RhbmNlSWRcIjogX3Byb3AuaW5zdGFuY2VJZCxcbiAgICAgICAgXCJuZXdPcGluaW9uTGlzdFN0cmluZ1wiOiBcIlwiXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChhcHBlbmRTZW5kTWFwKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXBwZW5kU2VuZE1hcCkge1xuICAgICAgICByZXN1bHQuZGF0YVtrZXldID0gYXBwZW5kU2VuZE1hcFtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIEJ1aWxkTmV3T3BpbmlvbjogZnVuY3Rpb24gQnVpbGROZXdPcGluaW9uKG9waW5pb25UZXh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9waW5pb25UZXh0OiBvcGluaW9uVGV4dCxcbiAgICAgIG9waW5pb25DbGllbnRDb2RlOiBTdHJpbmdVdGlsaXR5LlRpbWVzdGFtcCgpXG4gICAgfTtcbiAgfSxcbiAgUmVmcmVzaFBhcmVudExpc3RUaGVuQ2xvc2U6IFdvcmtGbG93QWN0aW9uLlJlZnJlc2hQYXJlbnRMaXN0VGhlbkNsb3NlXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRG9jdW1lbnRDb250ZW50VXBsb2FkQ29udmVydFRvUERGUGx1Z2luID0ge1xuICBvbmNoYW5nZUZpbGU6IGZ1bmN0aW9uIG9uY2hhbmdlRmlsZShzZW5kZXIpIHtcbiAgICAkKFwiI2RvYy1zZWxlY3RlZC1maWxlXCIpLmh0bWwoJChzZW5kZXIpLnZhbCgpKTtcbiAgfSxcbiAgdXBsb2FkQW5kQ29udmVydFRvUERGOiBmdW5jdGlvbiB1cGxvYWRBbmRDb252ZXJ0VG9QREYoc2VuZGVyLCBpbnN0YW5jZUlkLCBidXNpbmVzc0tleSkge1xuICAgIGlmICghJChcIiNzb3VyY2VGaWxlXCIpLnZhbCgpKSB7XG4gICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuivt+mAieaLqeimgeS4iuS8oOeahOaWh+S7tiFcIiwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc291cmNlRmlsZScpLmZpbGVzWzBdKTtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdQT1NUJywgQmFzZVV0aWxpdHkuQnVpbGRBY3Rpb24oXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9Eb2N1bWVudEZpbGVSdW50aW1lL1VwbG9hZEZpbGVBbmRDb252ZXJ0VG9QREY/aW5zdGFuY2VJZD1cIiArIGluc3RhbmNlSWQgKyBcIiZidXNpbmVzc0tleT1cIiArIGJ1c2luZXNzS2V5KSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHhocik7XG5cbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24oeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICBEb2N1bWVudENvbnRlbnRVcGxvYWRDb252ZXJ0VG9QREZQbHVnaW4ubG9hZFBERkZpbGVUb1ZpZXdlcihyZXN1bHQuZGF0YS5maWxlSWQpO1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VCeUVsZW1JZChEaWFsb2dVdGlsaXR5LkRpYWxvZ0xvYWRpbmdJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydFRleHQoXCLmiafooYzlh7rplJkhXCIgKyB4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkNsb3NlQnlFbGVtSWQoRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0TG9hZGluZyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nTG9hZGluZ0lkLCB7fSwgXCJcIik7XG4gICAgICAgICAgdmFyIHBlcmNlbnQgPSBNYXRoLmZsb29yKGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsICogMTAwKTtcbiAgICAgICAgICAkKFwiI3VwbG9hZC1wcm9jZXNzXCIpLmh0bWwocGVyY2VudCArIFwiJVwiKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgeGhyLnNlbmQoZm9ybURhdGEpO1xuICAgIH1cbiAgfSxcbiAgdHJ5TG9hZEhpc3RvcnlEb2N1bWVudDogZnVuY3Rpb24gdHJ5TG9hZEhpc3RvcnlEb2N1bWVudChwcm9wQ29uZmlnKSB7XG4gICAgQWpheFV0aWxpdHkuR2V0KFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvRG9jdW1lbnRGaWxlUnVudGltZS9UcnlHZXRMYXN0T25saW5lRG9jdW1lbnRcIiwge1xuICAgICAgaW5zdGFuY2VJZDogcHJvcENvbmZpZy5JbnN0YW5jZUlkXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhKSB7XG4gICAgICAgIHRoaXMubG9hZFBERkZpbGVUb1ZpZXdlcihyZXN1bHQuZGF0YS5maWxlSWQpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuICBsb2FkUERGRmlsZVRvVmlld2VyOiBmdW5jdGlvbiBsb2FkUERGRmlsZVRvVmlld2VyKGZpbGVJZCkge1xuICAgIHZhciBmaWxlVXJsID0gQmFzZVV0aWxpdHkuR2V0Um9vdFBhdGgoKSArIFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvRG9jdW1lbnRGaWxlUnVudGltZS9Eb3duTG9hZFBkZkRvY3VtZW50QnlGaWxlSWQ/ZmlsZUlkPVwiICsgZmlsZUlkO1xuICAgICQoXCIjcGRmVmlld2VyXCIpLmF0dHIoXCJzcmNcIiwgXCIvSnMvRXh0ZXJuYWwvUERGSlMtMi45LjM1OS1kaXN0L3dlYi92aWV3ZXIuaHRtbD9maWxlPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpKTtcbiAgfSxcbiAgR2V0SHRtbEVsZW06IGZ1bmN0aW9uIEdldEh0bWxFbGVtKHByb3BDb25maWcpIHtcbiAgICB2YXIgaW5zdGFuY2VJZCA9IHByb3BDb25maWcuSW5zdGFuY2VJZDtcbiAgICB2YXIgYnVzaW5lc3NLZXkgPSBwcm9wQ29uZmlnLlJlY29yZElkO1xuICAgIHRoaXMudHJ5TG9hZEhpc3RvcnlEb2N1bWVudChwcm9wQ29uZmlnKTtcbiAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJkb2N1bWVudC1vdXRlci13cmFwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImRvY3VtZW50LWJ1dHRvbnMtb3V0ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImRvY3VtZW50LWJ1dHRvbnMtaW5uZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInVwbG9hZC1hbmQtY29udmVydC1idXR0b25cXFwiIGRpc2FibGVkPlxcdTRFMEJcXHU4RjdEUERGXFx1NjU4N1xcdTRFRjY8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJ1cGxvYWQtYW5kLWNvbnZlcnQtYnV0dG9uXFxcIiBkaXNhYmxlZD5cXHU0RTBCXFx1OEY3RFxcdTUzOUZcXHU1OUNCXFx1NjU4N1xcdTRFRjY8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJ1cGxvYWQtYW5kLWNvbnZlcnQtYnV0dG9uXFxcIiBvbmNsaWNrPVxcXCJEb2N1bWVudENvbnRlbnRVcGxvYWRDb252ZXJ0VG9QREZQbHVnaW4udXBsb2FkQW5kQ29udmVydFRvUERGKHRoaXMsJ1wiLmNvbmNhdChpbnN0YW5jZUlkLCBcIicsJ1wiKS5jb25jYXQoYnVzaW5lc3NLZXksIFwiJylcXFwiPlxcdTRFMEFcXHU0RjIwXFx1NUU3NlxcdThGNkNcXHU2MzYyXFx1NEUzQXBkZjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmaWxlLXVwbG9hZFxcXCI+XFx1OTAwOVxcdTYyRTlcXHU2NTg3XFx1NEVGNlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVxcXCJzb3VyY2VGaWxlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cXFwiZmlsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XFxcImlucHV0RmlsZVxcXCIgYWNjZXB0PVxcXCIuZG9jLC5kb2N4LC5wZGZcXFwiIG9uY2hhbmdlPVxcXCJEb2N1bWVudENvbnRlbnRVcGxvYWRDb252ZXJ0VG9QREZQbHVnaW4ub25jaGFuZ2VGaWxlKHRoaXMpXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VsZWN0ZWQtZmlsZS1tZXNzYWdlXFxcIj5cXHU1REYyXFx1OTAwOVxcdTY1ODdcXHU0RUY2OjxzcGFuIGlkPVxcXCJkb2Mtc2VsZWN0ZWQtZmlsZVxcXCI+PC9zcGFuPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtcHJvY2Vzc1xcXCIgaWQ9XFxcInVwbG9hZC1wcm9jZXNzXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZG9jdW1lbnQtY29udGVudFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlmcmFtZSBpZD1cXFwicGRmVmlld2VyXFxcIiBzcmM9XFxcIlxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlO2hlaWdodDogMTAwJTtib3JkZXI6IDBweFxcXCI+PC9pZnJhbWU+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbiA9IHtcbiAgX3Byb3A6IHt9LFxuICBfZmxvd0luc3RhbmNlUnVudGltZVBPOiBudWxsLFxuICBfY3VycmVudE5vZGU6IG51bGwsXG4gIF9hdXRob3JpdGllc0ZpbGVBdXRob3JpdHk6IG51bGwsXG4gIF9hdXRob3JpdGllc09ubHlTZW5kQmFja0NhbkVkaXQ6IFwiZmFsc2VcIixcbiAgR2V0SHRtbEVsZW06IGZ1bmN0aW9uIEdldEh0bWxFbGVtKHByb3BDb25maWcpIHtcbiAgICBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9wcm9wID0gcHJvcENvbmZpZztcbiAgICBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9mbG93SW5zdGFuY2VSdW50aW1lUE8gPSBwcm9wQ29uZmlnLkZsb3dJbnN0YW5jZVJ1bnRpbWVQTztcbiAgICBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9jdXJyZW50Tm9kZSA9IEFycmF5VXRpbGl0eS5XaGVyZShGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9mbG93SW5zdGFuY2VSdW50aW1lUE8uYnBtbkRlZmluaXRpb25zLmJwbW5Qcm9jZXNzLnVzZXJUYXNrTGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmlkID09IEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTy5jdXJyZW50Tm9kZUtleTtcbiAgICB9KTtcblxuICAgIGlmIChGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9jdXJyZW50Tm9kZS5sZW5ndGggPT0gMCkge1xuICAgICAgRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5fY3VycmVudE5vZGUgPSBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9mbG93SW5zdGFuY2VSdW50aW1lUE8uYnBtbkRlZmluaXRpb25zLmJwbW5Qcm9jZXNzLnN0YXJ0RXZlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2N1cnJlbnROb2RlID0gRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5fY3VycmVudE5vZGVbMF07XG4gICAgfVxuXG4gICAgaWYgKEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2N1cnJlbnROb2RlLmV4dGVuc2lvbkVsZW1lbnRzKSB7XG4gICAgICBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9hdXRob3JpdGllc0ZpbGVBdXRob3JpdHkgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24oRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5fY3VycmVudE5vZGUuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNBdXRob3JpdGllcy5hdXRob3JpdGllc0ZpbGVBdXRob3JpdHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9hdXRob3JpdGllc0ZpbGVBdXRob3JpdHkgPSB7XG4gICAgICAgIGFkZEZpbGU6IFwidHJ1ZVwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBcIjxkaXYgaWQ9XFxcIkZsb3dGaWxlc0xpc3RQbHVnaW5Db250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cIjtcbiAgfSxcbiAgYWNJbnRlcmZhY2U6IHtcbiAgICBnZXRGaWxlTGlzdERhdGE6IFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvSW5zdGFuY2VGaWxlUnVudGltZS9HZXRBdHRhY2htZW50RmlsZUxpc3REYXRhXCIsXG4gICAgdXBsb2FkRmlsZTogXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9JbnN0YW5jZUZpbGVSdW50aW1lL1VwbG9hZEZpbGVcIixcbiAgICBkb3dubG9hZEZpbGU6IFwiL1Jlc3QvQnVpbGRlci9SdW5UaW1lL0ZpbGVSdW50aW1lL0Rvd25Mb2FkRmlsZUJ5RmlsZUlkXCIsXG4gICAgZGVsZXRlRmlsZTogXCIvUmVzdC9CdWlsZGVyL1J1blRpbWUvRmlsZVJ1bnRpbWUvRGVsZXRlRmlsZUJ5RmlsZUlkXCJcbiAgfSxcbiAgUmVuZGVyZXI6IGZ1bmN0aW9uIFJlbmRlcmVyKCkge1xuICAgIHRoaXMuQnVpbGRVcGxvYWRDb250YWluZXIoKTtcbiAgICB0aGlzLkJ1aWxkRmlsZUxpc3QoKTtcbiAgfSxcbiAgVG9WaWV3U3RhdHVzOiBmdW5jdGlvbiBUb1ZpZXdTdGF0dXMoJGVsZW0sIGZpZWxkUE8sIHJlbGF0aW9uRm9ybVJlY29yZENvbXBsZXhQbywgX3JlbmRlcmVyRGF0YUNoYWluUGFyYXMpIHtcbiAgICAkKFwiI1wiICsgdGhpcy5fcHJvcC51cGxvYWRXYXJwSWQpLmhpZGUoKTtcbiAgICAkKFwiI1wiICsgdGhpcy5fcHJvcC5lbGVtSWQpLmZpbmQoXCIuZGVsZXRlLWJ1dHRvbi1lbGVtXCIpLmhpZGUoKTtcbiAgICAkKFwiI1wiICsgdGhpcy5fcHJvcC5lbGVtSWQpLmZpbmQoXCIubW92ZS11cC1idXR0b24tZWxlbVwiKS5oaWRlKCk7XG4gICAgJChcIiNcIiArIHRoaXMuX3Byb3AuZWxlbUlkKS5maW5kKFwiLm1vdmUtZG93bi1idXR0b24tZWxlbVwiKS5oaWRlKCk7XG4gIH0sXG4gIEdldFRoaXNSZWNvcmRJZDogZnVuY3Rpb24gR2V0VGhpc1JlY29yZElkKCkge1xuICAgIHZhciBvYmpJZCA9IFwiXCI7XG5cbiAgICBpZiAoZm9ybVJ1bnRpbWVJbnN0ICYmIGZvcm1SdW50aW1lSW5zdC5HZXRXZWJGb3JtUlRQYXJhcygpICYmIGZvcm1SdW50aW1lSW5zdC5HZXRXZWJGb3JtUlRQYXJhcygpLlJlY29yZElkKSB7XG4gICAgICBvYmpJZCA9IGZvcm1SdW50aW1lSW5zdC5HZXRXZWJGb3JtUlRQYXJhcygpLlJlY29yZElkO1xuICAgIH0gZWxzZSB7XG4gICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuafpeaJvuS4jeWIsOe7keWumueahOiusOW9lUlEXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBvYmpJZDtcbiAgfSxcbiAgR2V0VGhpc1JlY29yZFR5cGU6IGZ1bmN0aW9uIEdldFRoaXNSZWNvcmRUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9wLm9ialR5cGU7XG4gIH0sXG4gIEdldFVwbG9hZEVuZFBvaW50UmVxdWVzdDogZnVuY3Rpb24gR2V0VXBsb2FkRW5kUG9pbnRSZXF1ZXN0KCkge1xuICAgIHZhciBlbmRQb2ludCA9IEJhc2VVdGlsaXR5LkdldFJvb3RQYXRoKCkgKyB0aGlzLmFjSW50ZXJmYWNlLnVwbG9hZEZpbGU7XG4gICAgdmFyIHBhcmFzID0ge1xuICAgICAgZmlsZVR5cGU6IFwiQXR0YWNobWVudFwiLFxuICAgICAgaW5zdGFuY2VJZDogdGhpcy5fcHJvcC5GbG93SW5zdGFuY2VSdW50aW1lUE8uaW5zdGFuY2VFbnRpdHkuaW5zdElkLFxuICAgICAgYnVzaW5lc3NLZXk6IHRoaXMuX3Byb3AuUmVjb3JkSWRcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBlbmRwb2ludDogZW5kUG9pbnQsXG4gICAgICBwYXJhbXM6IHBhcmFzXG4gICAgfTtcbiAgfSxcbiAgQ3JlYXRlRGVmYXVsdFRlbXBsYXRlOiBmdW5jdGlvbiBDcmVhdGVEZWZhdWx0VGVtcGxhdGUodGVtcGxhdGVJZCkge1xuICAgICQod2luZG93LmRvY3VtZW50LmJvZHkpLmFwcGVuZChcIjxzY3JpcHQgdHlwZT1cXFwidGV4dC90ZW1wbGF0ZVxcXCIgaWQ9XFxcIlwiICsgdGVtcGxhdGVJZCArIFwiXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLXVwbG9hZGVyLXNlbGVjdG9yIHFxLXVwbG9hZGVyIHFxLWdhbGxlcnlcXFwiIHFxLWRyb3AtYXJlYS10ZXh0PVxcXCJcXHU2MkQ2XFx1NjUzRVxcdTY1ODdcXHU0RUY2XFx1NTIzMFxcdThGRDlcXHU5MUNDXFx1OEZEQlxcdTg4NENcXHU0RTBBXFx1NEYyMFxcdTMwMDJcXFwiIHN0eWxlPVxcXCJtaW4taGVpZ2h0OiA3OHB4O1xcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtdG90YWwtcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lci1zZWxlY3RvciBxcS10b3RhbC1wcm9ncmVzcy1iYXItY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwiMFxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwiMTAwXFxcIiBjbGFzcz1cXFwicXEtdG90YWwtcHJvZ3Jlc3MtYmFyLXNlbGVjdG9yIHFxLXByb2dyZXNzLWJhciBxcS10b3RhbC1wcm9ncmVzcy1iYXJcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLXVwbG9hZC1kcm9wLWFyZWEtc2VsZWN0b3IgcXEtdXBsb2FkLWRyb3AtYXJlYVxcXCIgcXEtaGlkZS1kcm9wem9uZT5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInFxLXVwbG9hZC1kcm9wLWFyZWEtdGV4dC1zZWxlY3RvclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLXVwbG9hZC1idXR0b24tc2VsZWN0b3IgcXEtdXBsb2FkLWJ1dHRvblxcXCIgc3R5bGU9XFxcImZsb2F0OiByaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXY+XFx1OTAwOVxcdTYyRTlcXHU2NTg3XFx1NEVGNjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS1kcm9wLXByb2Nlc3Npbmctc2VsZWN0b3IgcXEtZHJvcC1wcm9jZXNzaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4+UHJvY2Vzc2luZyBkcm9wcGVkIGZpbGVzLi4uPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtZHJvcC1wcm9jZXNzaW5nLXNwaW5uZXItc2VsZWN0b3IgcXEtZHJvcC1wcm9jZXNzaW5nLXNwaW5uZXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJxcS11cGxvYWQtbGlzdC1zZWxlY3RvciBxcS11cGxvYWQtbGlzdFxcXCIgcm9sZT1cXFwicmVnaW9uXFxcIiBhcmlhLWxpdmU9XFxcInBvbGl0ZVxcXCIgYXJpYS1yZWxldmFudD1cXFwiYWRkaXRpb25zIHJlbW92YWxzXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHJvbGU9XFxcInN0YXR1c1xcXCIgY2xhc3M9XFxcInFxLXVwbG9hZC1zdGF0dXMtdGV4dC1zZWxlY3RvciBxcS11cGxvYWQtc3RhdHVzLXRleHRcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLXByb2dyZXNzLWJhci1jb250YWluZXItc2VsZWN0b3IgcXEtcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwiMFxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwiMTAwXFxcIiBjbGFzcz1cXFwicXEtcHJvZ3Jlc3MtYmFyLXNlbGVjdG9yIHFxLXByb2dyZXNzLWJhclxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS11cGxvYWQtc3Bpbm5lci1zZWxlY3RvciBxcS11cGxvYWQtc3Bpbm5lclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtdGh1bWJuYWlsLXdyYXBwZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcInFxLXRodW1ibmFpbC1zZWxlY3RvclxcXCIgcXEtbWF4LXNpemU9XFxcIjEyMFxcXCIgcXEtc2VydmVyLXNjYWxlPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLXVwbG9hZC1jYW5jZWwtc2VsZWN0b3IgcXEtdXBsb2FkLWNhbmNlbFxcXCI+WDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJxcS11cGxvYWQtcmV0cnktc2VsZWN0b3IgcXEtdXBsb2FkLXJldHJ5XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtYnRuIHFxLXJldHJ5LWljb25cXFwiIGFyaWEtbGFiZWw9XFxcIlJldHJ5XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgUmV0cnlcXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZmlsZS1pbmZvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS1maWxlLW5hbWVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtdXBsb2FkLWZpbGUtc2VsZWN0b3IgcXEtdXBsb2FkLWZpbGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInFxLWVkaXQtZmlsZW5hbWUtaWNvbi1zZWxlY3RvciBxcS1idG4gcXEtZWRpdC1maWxlbmFtZS1pY29uXFxcIiBhcmlhLWxhYmVsPVxcXCJFZGl0IGZpbGVuYW1lXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJxcS1lZGl0LWZpbGVuYW1lLXNlbGVjdG9yIHFxLWVkaXQtZmlsZW5hbWVcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtdXBsb2FkLXNpemUtc2VsZWN0b3IgcXEtdXBsb2FkLXNpemVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLWJ0biBxcS11cGxvYWQtZGVsZXRlLXNlbGVjdG9yIHFxLXVwbG9hZC1kZWxldGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtYnRuIHFxLWRlbGV0ZS1pY29uXFxcIiBhcmlhLWxhYmVsPVxcXCJEZWxldGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLWJ0biBxcS11cGxvYWQtcGF1c2Utc2VsZWN0b3IgcXEtdXBsb2FkLXBhdXNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInFxLWJ0biBxcS1wYXVzZS1pY29uXFxcIiBhcmlhLWxhYmVsPVxcXCJQYXVzZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwicXEtYnRuIHFxLXVwbG9hZC1jb250aW51ZS1zZWxlY3RvciBxcS11cGxvYWQtY29udGludWVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtYnRuIHFxLWNvbnRpbnVlLWljb25cXFwiIGFyaWEtbGFiZWw9XFxcIkNvbnRpbnVlXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8L3VsPlxcblxcbiAgICAgICAgICAgIDxkaWFsb2cgY2xhc3M9XFxcInFxLWFsZXJ0LWRpYWxvZy1zZWxlY3RvclxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLWRpYWxvZy1tZXNzYWdlLXNlbGVjdG9yXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZGlhbG9nLWJ1dHRvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJxcS1jYW5jZWwtYnV0dG9uLXNlbGVjdG9yXFxcIj5DbG9zZTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2RpYWxvZz5cXG5cXG4gICAgICAgICAgICA8ZGlhbG9nIGNsYXNzPVxcXCJxcS1jb25maXJtLWRpYWxvZy1zZWxlY3RvclxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLWRpYWxvZy1tZXNzYWdlLXNlbGVjdG9yXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZGlhbG9nLWJ1dHRvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJxcS1jYW5jZWwtYnV0dG9uLXNlbGVjdG9yXFxcIj5ObzwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJxcS1vay1idXR0b24tc2VsZWN0b3JcXFwiPlllczwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2RpYWxvZz5cXG5cXG4gICAgICAgICAgICA8ZGlhbG9nIGNsYXNzPVxcXCJxcS1wcm9tcHQtZGlhbG9nLXNlbGVjdG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3JcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLWRpYWxvZy1idXR0b25zXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwicXEtY2FuY2VsLWJ1dHRvbi1zZWxlY3RvclxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLW9rLWJ1dHRvbi1zZWxlY3RvclxcXCI+T2s8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaWFsb2c+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9zY3JpcHQ+XCIpO1xuICB9LFxuICBCdWlsZFVwbG9hZENvbnRhaW5lcjogZnVuY3Rpb24gQnVpbGRVcGxvYWRDb250YWluZXIoKSB7XG4gICAgaWYgKHRoaXMuX2F1dGhvcml0aWVzRmlsZUF1dGhvcml0eS5hZGRGaWxlID09IFwidHJ1ZVwiKSB7XG4gICAgICB2YXIgJHNpbmdsZUNvbnRyb2xFbGVtID0gJChcIiNGbG93RmlsZXNMaXN0UGx1Z2luQ29udGFpbmVyXCIpO1xuICAgICAgdmFyIHVwbG9hZFdhcnBJZCA9ICd1cGxvYWRXYXJwXycgKyBTdHJpbmdVdGlsaXR5LlRpbWVzdGFtcCgpO1xuICAgICAgdGhpcy5fcHJvcC51cGxvYWRXYXJwSWQgPSB1cGxvYWRXYXJwSWQ7XG4gICAgICB2YXIgJHVwbG9hZFdhcnAgPSAkKFwiPGRpdiBpZD0nXCIgKyB1cGxvYWRXYXJwSWQgKyBcIic+PC9kaXY+XCIpO1xuICAgICAgJHNpbmdsZUNvbnRyb2xFbGVtLmFwcGVuZCgkdXBsb2FkV2FycCk7XG4gICAgICB2YXIgdGVtcGxhdGVJZCA9IFwicXEtdGVtcGxhdGVfXCIgKyB0aGlzLl9wcm9wLmVsZW1JZDtcbiAgICAgIHRoaXMuQ3JlYXRlRGVmYXVsdFRlbXBsYXRlKHRlbXBsYXRlSWQpO1xuXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZ2FsbGVyeVVwbG9hZGVyID0gbmV3IHFxLkZpbmVVcGxvYWRlcih7XG4gICAgICAgIGVsZW1lbnQ6ICR1cGxvYWRXYXJwWzBdLFxuICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVJZCxcbiAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICByZXF1ZXN0OiB0aGlzLkdldFVwbG9hZEVuZFBvaW50UmVxdWVzdCgpLFxuICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKGlkLCBuYW1lLCByZXNwb25zZUpTT04sIHhocikge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlSlNPTi5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIF90aGlzLkJ1aWxkRmlsZUxpc3QoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KHJlc3BvbnNlSlNPTi5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgQnVpbGRGaWxlTGlzdDogZnVuY3Rpb24gQnVpbGRGaWxlTGlzdCgpIHtcbiAgICB2YXIgJHNpbmdsZUNvbnRyb2xFbGVtID0gJChcIiNGbG93RmlsZXNMaXN0UGx1Z2luQ29udGFpbmVyXCIpO1xuICAgIHZhciB1cGxvYWRfZmlsZV9saXN0X3dyYXBfaWQgPSBcImZsb3dfZmlsZV9wbHVnaW5fdXBsb2FkX2ZpbGVfbGlzdF93YXJwXCI7XG4gICAgJChcIiNcIiArIHVwbG9hZF9maWxlX2xpc3Rfd3JhcF9pZCkucmVtb3ZlKCk7XG4gICAgdmFyICRkaXZXYXJwID0gJChcIjxkaXYgY2xhc3M9J3VwbG9hZF9maWxlX2xpc3Rfd3JhcCcgaWQ9J1wiICsgdXBsb2FkX2ZpbGVfbGlzdF93cmFwX2lkICsgXCInPjx0YWJsZSBjbGFzcz0nZmlsZV9saXN0X3RhYmxlJz48dGhlYWQ+PHRyPjx0aD7mlofku7blkI3np7A8L3RoPjx0aCBzdHlsZT0nd2lkdGg6IDE0MHB4Jz7kuIrkvKDml7bpl7Q8L3RoPjx0aCBzdHlsZT0nd2lkdGg6IDE0MHB4Jz7kuIrkvKDkuro8L3RoPjx0aCBzdHlsZT0nd2lkdGg6IDE0MHB4Jz7mlofku7blpKflsI88L3RoPjx0aCBzdHlsZT0nd2lkdGg6IDE0MHB4Jz7mk43kvZw8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PC90Ym9keT48L3RhYmxlPjwvZGl2PlwiKTtcbiAgICB2YXIgJHRib2R5ID0gJGRpdldhcnAuZmluZChcInRib2R5XCIpO1xuICAgIHZhciBpbnN0YW5jZUlkID0gdGhpcy5fcHJvcC5GbG93SW5zdGFuY2VSdW50aW1lUE8uaW5zdGFuY2VFbnRpdHkuaW5zdElkO1xuICAgIEFqYXhVdGlsaXR5LlBvc3QodGhpcy5hY0ludGVyZmFjZS5nZXRGaWxlTGlzdERhdGEsIHtcbiAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWRcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBmaWxlSW5mbyA9IHJlc3VsdC5kYXRhW2ldO1xuICAgICAgICAgICR0Ym9keS5hcHBlbmQodGhpcy5CdWlsZEZpbGVJbmZvVGFibGVSb3cocmVzdWx0LCBmaWxlSW5mbykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gICAgJCgkc2luZ2xlQ29udHJvbEVsZW0uYXBwZW5kKCRkaXZXYXJwKSk7XG4gIH0sXG4gIEJ1aWxkRmlsZUluZm9UYWJsZVJvdzogZnVuY3Rpb24gQnVpbGRGaWxlSW5mb1RhYmxlUm93KHJlc3BvbnNlSlNPTiwgZmlsZUluZm8pIHtcbiAgICB2YXIgZmlsZU5hbWUgPSBTdHJpbmdVdGlsaXR5LkVuY29kZUh0bWwoZmlsZUluZm8uZmlsZU5hbWUpO1xuICAgIHZhciBmaWxlQ3JlYXRlVGltZSA9IERhdGVVdGlsaXR5LkRhdGVGb3JtYXRCeVRpbWVTdGFtcChmaWxlSW5mby5maWxlQ3JlYXRlVGltZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgIHZhciBmaWxlU2l6ZSA9IEhhcmREaXNrVXRpbGl0eS5CeXRlQ29udmVydChmaWxlSW5mby5maWxlU2l6ZSk7XG4gICAgdmFyIGZpbGVDcmVhdG9yTmFtZSA9IFN0cmluZ1V0aWxpdHkuRW5jb2RlSHRtbChmaWxlSW5mby5maWxlQ3JlYXRvcik7XG4gICAgdmFyICR0ck9iaiA9ICQoXCI8dHI+PHRkPlwiLmNvbmNhdChmaWxlTmFtZSwgXCI8L3RkPjx0ZCBzdHlsZT1cXFwidGV4dC1hbGlnbjogY2VudGVyXFxcIj5cIikuY29uY2F0KGZpbGVDcmVhdGVUaW1lLCBcIjwvdGQ+PHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiBjZW50ZXJcXFwiPlwiKS5jb25jYXQoZmlsZUNyZWF0b3JOYW1lLCBcIjwvdGQ+PHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiBjZW50ZXJcXFwiPlwiKS5jb25jYXQoZmlsZVNpemUsIFwiPC90ZD48dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IGNlbnRlclxcXCI+PC90ZD48L3RyPlwiKSk7XG4gICAgdGhpcy5CdWlsZEZpbGVJbmZvVGFibGVSb3dJbm5lckJ1dHRvbnMocmVzcG9uc2VKU09OLCBmaWxlSW5mbywgJHRyT2JqKTtcbiAgICByZXR1cm4gJHRyT2JqO1xuICB9LFxuICBCdWlsZEZpbGVJbmZvVGFibGVSb3dJbm5lckJ1dHRvbnM6IGZ1bmN0aW9uIEJ1aWxkRmlsZUluZm9UYWJsZVJvd0lubmVyQnV0dG9ucyhyZXNwb25zZUpTT04sIGZpbGVJbmZvLCAkdHIpIHtcbiAgICBpZiAoIXRoaXMuX3Byb3AuZG93bmxvYWRFbmFibGUgJiYgIXRoaXMuX3Byb3AuZGVsZXRlRW5hYmxlICYmIHRoaXMuX3Byb3AucHJldmlld0VuYWJsZSAmJiB0aGlzLl9wcm9wLm1vdmVPcmRlckVuYWJsZSkge31cblxuICAgIHZhciAkdHJMYXN0VGQgPSAkdHIuZmluZChcInRkOmxhc3RcIik7XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuX3Byb3AuZGVsZXRlRW5hYmxlKSB7XG4gICAgICB2YXIgJGRlbGV0ZUVsZW0gPSAkKFwiPGRpdiBjbGFzcz0nZmlsZS1saXN0LWlubmVyLWJ1dHRvbiBkZWxldGUtYnV0dG9uLWVsZW0nIHRpdGxlPSfngrnlh7vliKDpmaQnPjwvZGl2PlwiKTtcbiAgICAgICRkZWxldGVFbGVtLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5Db25maXJtKHdpbmRvdywgXCLnoa7orqTliKDpmaTpmYTku7bjgJBcIiArIGZpbGVJbmZvLmZpbGVOYW1lICsgXCLjgJHlkJc/XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBBamF4VXRpbGl0eS5Qb3N0KF90aGlzLmFjSW50ZXJmYWNlLmRlbGV0ZUZpbGUsIHtcbiAgICAgICAgICAgIGZpbGVJZDogZmlsZUluZm8uZmlsZUlkXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICRkZWxldGVFbGVtLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgICR0ckxhc3RUZC5hcHBlbmQoJGRlbGV0ZUVsZW0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wcm9wLm1vdmVPcmRlckVuYWJsZSB8fCB0cnVlKSB7XG4gICAgICB2YXIgJG1vdmVVcEVsZW0gPSAkKFwiPGRpdiBjbGFzcz0nZmlsZS1saXN0LWlubmVyLWJ1dHRvbiBtb3ZlLXVwLWJ1dHRvbi1lbGVtJyB0aXRsZT0n54K55Ye75LiK56e7Jz48L2Rpdj5cIik7XG4gICAgICAkbW92ZVVwRWxlbS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi5pqC5LiN5pSv5oyBIVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFyICRtb3ZlRG93bkVsZW0gPSAkKFwiPGRpdiBjbGFzcz0nZmlsZS1saXN0LWlubmVyLWJ1dHRvbiBtb3ZlLWRvd24tYnV0dG9uLWVsZW0nIHRpdGxlPSfngrnlh7vkuIvnp7snPjwvZGl2PlwiKTtcbiAgICAgICRtb3ZlRG93bkVsZW0uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuaaguS4jeaUr+aMgSFcIik7XG4gICAgICB9KTtcbiAgICAgICR0ckxhc3RUZC5hcHBlbmQoJG1vdmVVcEVsZW0pO1xuICAgICAgJHRyTGFzdFRkLmFwcGVuZCgkbW92ZURvd25FbGVtKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcHJvcC5kb3dubG9hZEVuYWJsZSkge1xuICAgICAgdmFyICRkb3dubG9hZEVsZW0gPSAkKFwiPGRpdiBjbGFzcz0nZmlsZS1saXN0LWlubmVyLWJ1dHRvbiBkb3dubG9hZC1idXR0b24tZWxlbScgdGl0bGU9J+eCueWHu+S4i+i9vSc+PC9kaXY+XCIpO1xuICAgICAgJGRvd25sb2FkRWxlbS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1cmwgPSBCYXNlVXRpbGl0eS5HZXRSb290UGF0aCgpICsgX3RoaXMuYWNJbnRlcmZhY2UuZG93bmxvYWRGaWxlICsgXCI/ZmlsZUlkPVwiICsgZmlsZUluZm8uZmlsZUlkO1xuICAgICAgICB3aW5kb3cub3Blbih1cmwpO1xuICAgICAgfSk7XG4gICAgICAkdHJMYXN0VGQuYXBwZW5kKCRkb3dubG9hZEVsZW0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wcm9wLnByZXZpZXdFbmFibGUgfHwgdHJ1ZSkge1xuICAgICAgdmFyICRwcmV2aWV3RWxlbSA9ICQoXCI8ZGl2IGNsYXNzPSdmaWxlLWxpc3QtaW5uZXItYnV0dG9uIHByZXZpZXctYnV0dG9uLWVsZW0nIHRpdGxlPSfngrnlh7vpooTop4gnPjwvZGl2PlwiKTtcbiAgICAgICRwcmV2aWV3RWxlbS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi5pqC5LiN5pSv5oyBIVwiKTtcbiAgICAgIH0pO1xuICAgICAgJHRyTGFzdFRkLmFwcGVuZCgkcHJldmlld0VsZW0pO1xuICAgIH1cbiAgfSxcbiAgVGVzdEZpbGVQcmV2aWV3RW5hYmxlOiBmdW5jdGlvbiBUZXN0RmlsZVByZXZpZXdFbmFibGUoZmlsZUluZm8pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEluc3RhbmNlRXhUYXNrTGlzdFBsdWdpbiA9IHtcbiAgX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTzogbnVsbCxcbiAgX2hpc3RvcnlFeGVjdXRpb25UYXNrRW50aXR5TGlzdDogbnVsbCxcbiAgX2N1cnJlbnRFeFRhc2s6IG51bGwsXG4gIEdldEh0bWxFbGVtOiBmdW5jdGlvbiBHZXRIdG1sRWxlbShwcm9wQ29uZmlnKSB7XG4gICAgdGhpcy5fZmxvd0luc3RhbmNlUnVudGltZVBPID0gcHJvcENvbmZpZy5GbG93SW5zdGFuY2VSdW50aW1lUE87XG4gICAgdGhpcy5faGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0ID0gcHJvcENvbmZpZy5GbG93SW5zdGFuY2VSdW50aW1lUE8uaGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0O1xuICAgIHRoaXMuX2N1cnJlbnRFeFRhc2sgPSBwcm9wQ29uZmlnLkZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5leGVjdXRpb25UYXNrRW50aXR5O1xuXG4gICAgaWYgKHRoaXMuX2hpc3RvcnlFeGVjdXRpb25UYXNrRW50aXR5TGlzdCkge1xuICAgICAgcmV0dXJuIHRoaXMuUmVuZGVyZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcbiAgVmlld0RldGFpbDogZnVuY3Rpb24gVmlld0RldGFpbChleFRhc2tJZCkge1xuICAgIHZhciBleFRhc2sgPSBBcnJheVV0aWxpdHkuV2hlcmVTaW5nbGUodGhpcy5faGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uZXh0YXNrSWQgPT0gZXhUYXNrSWQ7XG4gICAgfSk7XG4gICAgRGlhbG9nVXRpbGl0eS5BbGVydEpzb25Db2RlKGV4VGFzayk7XG4gIH0sXG4gIENvbnZlcnRTdGF0dXNUb0NOTmFtZTogZnVuY3Rpb24gQ29udmVydFN0YXR1c1RvQ05OYW1lKHN0YXR1cykge1xuICAgIGlmIChzdGF0dXMgPT0gXCJQcm9jZXNzaW5nXCIpIHtcbiAgICAgIHJldHVybiBcIuWKnueQhuS4rVwiO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09IFwiRW5kXCIpIHtcbiAgICAgIHJldHVybiBcIuW3suWKnueQhlwiO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09IFwiQ2FuY2VsXCIpIHtcbiAgICAgIHJldHVybiBcIuiiq+aSpOWbnlwiO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09IFwiQ2FuY2VsRW5kXCIpIHtcbiAgICAgIHJldHVybiBcIuWKnueQhiYjMTA1MjI7JiMxMDIzMDvmkqTlm55cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCLmnKrnn6VcIjtcbiAgfSxcbiAgUmVuZGVyZXI6IGZ1bmN0aW9uIFJlbmRlcmVyKCkge1xuICAgIHZhciBodG1sVGFibGUgPSBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLWV4LXRhc2stbGlzdC1wbHVnaW4nPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9J2V4LXRhc2stdGFibGUnPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGg+XFx1NzNBRlxcdTgyODJcXHU1NDBEXFx1NzlGMDwvdGg+PHRoPlxcdTUzRDFcXHU5MDAxXFx1NEVCQTwvdGg+PHRoPlxcdTUzRDFcXHU5MDAxXFx1NjVGNlxcdTk1RjQ8L3RoPjx0aD5cXHU2N0U1XFx1NzcwQlxcdTY1RjZcXHU5NUY0PC90aD48dGg+XFx1NjNBNVxcdTY1MzZcXHU0RUJBL1xcdTU5MDRcXHU3NDA2XFx1NEVCQTwvdGg+PHRoPlxcdTU5MDRcXHU3NDA2XFx1NjVGNlxcdTk1RjQ8L3RoPjx0aD5cXHU2MjY3XFx1ODg0Q1xcdTUyQThcXHU0RjVDPC90aD48dGg+XFx1NzJCNlxcdTYwMDE8L3RoPjx0aCBzdHlsZT1cXFwid2lkdGg6IDIwMHB4XFxcIj5cXHU2NENEXFx1NEY1QzwvdGg+PC90cj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XCI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2hpc3RvcnlFeGVjdXRpb25UYXNrRW50aXR5TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGV4VGFzayA9IHRoaXMuX2hpc3RvcnlFeGVjdXRpb25UYXNrRW50aXR5TGlzdFtpXTtcbiAgICAgIHZhciBleHRhc2tJZCA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza0lkKTtcbiAgICAgIHZhciBleHRhc2tDdXJOb2RlTmFtZSA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza0N1ck5vZGVOYW1lKTtcbiAgICAgIHZhciBleHRhc2tTZW5kZXJOYW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrU2VuZGVyTmFtZSk7XG4gICAgICB2YXIgZXh0YXNrU3RhcnRUaW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrU3RhcnRUaW1lKTtcbiAgICAgIHZhciBleHRhc2tWaWV3VGltZSA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza1ZpZXdUaW1lKTtcbiAgICAgIHZhciByaE5hbWUgPSBTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tSZWNlaXZlck5hbWUpO1xuICAgICAgdmFyIGV4dGFza0hhbmRsZXJJZCA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza0hhbmRsZXJJZCk7XG4gICAgICB2YXIgZXh0YXNrUmVjZWl2ZXJJZCA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza1JlY2VpdmVySWQpO1xuXG4gICAgICBpZiAoIVN0cmluZ1V0aWxpdHkuSXNOdWxsT3JFbXB0eShleHRhc2tIYW5kbGVySWQpICYmIGV4dGFza1JlY2VpdmVySWQgIT0gZXh0YXNrSGFuZGxlcklkKSB7XG4gICAgICAgIHJoTmFtZSA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza1JlY2VpdmVyTmFtZSkgKyBcIi9cIiArIFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza0hhbmRsZXJOYW1lKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGV4dGFza0hhbmRsZXJOYW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrSGFuZGxlck5hbWUpO1xuICAgICAgdmFyIGV4dGFza0VuZFRpbWUgPSBTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tFbmRUaW1lKTtcbiAgICAgIHZhciBleHRhc2tIYW5kbGVBY3Rpb25OYW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrSGFuZGxlQWN0aW9uTmFtZSk7XG4gICAgICB2YXIgZXh0YXNrU3RhdHVzID0gdGhpcy5Db252ZXJ0U3RhdHVzVG9DTk5hbWUoU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrU3RhdHVzKSk7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gXCJuLXRhc2stdHJcIjtcblxuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRFeFRhc2suZXh0YXNrSWQgPT0gZXh0YXNrSWQpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gXCJteS10aGlzLXRhc2stdHJcIjtcbiAgICAgIH1cblxuICAgICAgaHRtbFRhYmxlICs9IFwiPHRyIGNsYXNzPVxcXCJcIi5jb25jYXQoY2xhc3NOYW1lLCBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cIikuY29uY2F0KGV4dGFza0N1ck5vZGVOYW1lLCBcIjwvdGQ+PHRkPlwiKS5jb25jYXQoZXh0YXNrU2VuZGVyTmFtZSwgXCI8L3RkPjx0ZD5cIikuY29uY2F0KGV4dGFza1N0YXJ0VGltZSwgXCI8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XCIpLmNvbmNhdChleHRhc2tWaWV3VGltZSwgXCI8L3RkPjx0ZD5cIikuY29uY2F0KHJoTmFtZSwgXCI8L3RkPjx0ZD5cIikuY29uY2F0KGV4dGFza0VuZFRpbWUsIFwiPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlwiKS5jb25jYXQoZXh0YXNrSGFuZGxlQWN0aW9uTmFtZSwgXCI8L3RkPjx0ZD5cIikuY29uY2F0KGV4dGFza1N0YXR1cywgXCI8L3RkPjx0ZD48YSBvbmNsaWNrPVxcXCJJbnN0YW5jZUV4VGFza0xpc3RQbHVnaW4uVmlld0RldGFpbCgnXCIpLmNvbmNhdChleHRhc2tJZCwgXCInKVxcXCI+XFx1OEJFNlxcdTYwQzU8L2E+PC90ZD48L3RyPlwiKTtcbiAgICB9XG5cbiAgICBodG1sVGFibGUgKz0gXCI8L3Rib2R5PjwvdGFibGU+PC9kaXY+XCI7XG4gICAgcmV0dXJuIGh0bWxUYWJsZTtcbiAgfVxufTsiXX0=
