"use strict";var PortletPageRuntimeDependGridStack={pagePO:null,widgetList:null,widgetInstanceCacheArray:[],dashboardView:null,panelMenu:null,counter:1,acInterface:{getTemplatePageWithSSOMenu:"/Rest/Portlet/RunTime/Client/TemplatePageRuntime/GetTemplatePageWithSSOMenu"},GetPagePOAndWidgetPOListThenRender:function(){AjaxUtility.Get(this.acInterface.getTemplatePageWithSSOMenu,{menuId:BaseUtility.GetUrlParaValue("menuId")},function(e){if(e.success){this.pagePO=e.data,this.widgetList=e.exKVData.Widgets;for(var t=0;t<this.widgetList.length;t++)this.widgetList[t].widgetProperties&&(this.widgetList[t].widgetProperties=JsonUtility.StringToJson(this.widgetList[t].widgetProperties));var i;if(this.pagePO.pageConfig=JsonUtility.StringToJson(this.pagePO.pageConfig),this.pagePO.pageProperties=JsonUtility.StringToJson(this.pagePO.pageProperties),this.pagePO.pageRefCssConfig=JsonUtility.StringToJson(this.pagePO.pageRefCssConfig),this.pagePO.pageRefJsConfig=JsonUtility.StringToJson(this.pagePO.pageRefJsConfig),this.pagePO.pageWidgetConfig?this.pagePO.pageWidgetConfig=JsonUtility.StringToJson(this.pagePO.pageWidgetConfig):this.pagePO.pageWidgetConfig=[],this.pagePO.pageRefJsConfig&&0<this.pagePO.pageRefJsConfig.length){for(var n="let _this=this;$LAB",a=0;a<this.pagePO.pageRefJsConfig.length;a++){var s=this.pagePO.pageRefJsConfig[a].refJsPath;s=StringUtility.FormatWithDefaultValue(s,null),n+=".script('"+(s=BaseUtility.AppendTimeStampUrl(s))+"')"}n+=".wait(function(){_this.RenderPage();});",i=Function(n)}else i=Function("this.RenderPage();");if(i.call(this),this.pagePO.pageRefCssConfig&&0<this.pagePO.pageRefCssConfig.length)for(var o=0;o<this.pagePO.pageRefCssConfig.length;o++){var r=this.pagePO.pageRefCssConfig[o].refCSSPath;r=StringUtility.FormatWithDefaultValue(r,null),LoadJsCssUtility(r)}}},this)},RenderPage:function(){console.log(this.pagePO),console.log(this.widgetList);this.BuildDashboardView();this.pagePO.pageWidgetConfig,portletUtility.InitRefreshStatus(),portletUtility.StartAutoRefreshControl(this.RefreshALLWidget,this)},RefreshALLWidget:function(e){console.log(e);try{for(var t=this.widgetInstanceCacheArray,i=0;i<t.length;i++){t[i].instance.Refresh(e)}}catch(e){throw e}},BuildDashboardView:function(){var n=this,e=this.pagePO;e.pageConfig=$.extend(!0,{},e.pageConfig,{disableDrag:!0,disableResize:!0}),this.dashboardView=GridStack.init(e.pageConfig),this.dashboardView.on("added",function(e,t){console.log(t);for(var i=0;i<t.length;i++)n.CreateWidget(t[i])});var t=e.pageWidgetConfig;this.dashboardView.load(t,!0)},CreateWidget:function(e){var t=this.pagePO,i=e.widgetId,n=e.widgetSingleId,a=ArrayUtility.WhereSingle(this.widgetList,function(e){return e.widgetId==i}),s=$(e.el).find(".grid-stack-item-content"),o=s.width(),r=s.height();$(e.el).find(".grid-stack-item-content").html("");try{var g=this.NewWidgetInstance(n,a,t,s,o,r);g?(this.counter++,s.append(g.CreateWidgetElem())):s.append("实例化Widget失败,请检查代码!")}catch(e){s.append("实例化Widget失败,请检查代码!"+e.toString())}},NewWidgetInstance:function NewWidgetInstance(widgetInstanceId,widgetPO,pagePO,$widgetContainer,widgetContainerWidth,widgetContainerHeight){try{var widgetInstance=Object.create(eval(widgetPO.widgetClientRender));widgetInstance.widgetInstanceId=widgetInstanceId,widgetInstance.widgetPO=widgetPO,widgetInstance.pagePO=pagePO,widgetInstance.$widgetContainer=$widgetContainer,widgetInstance.widgetContainerWidth=widgetContainerWidth,widgetInstance.widgetContainerHeight=widgetContainerHeight;var widgetContextMenu=null;return this.widgetInstanceCacheArray.push({widgetInstanceId:widgetInstanceId,instance:widgetInstance,widgetContextMenu:widgetContextMenu}),widgetInstance}catch(e){throw e}},GetWidgetInstanceCache:function(e){for(var t=0;t<this.widgetInstanceCacheArray.length;t++)if(this.widgetInstanceCacheArray[t].widgetInstanceId==e)return this.widgetInstanceCacheArray[t];return null}},PortletPageRuntimeDependWebix={pagePO:null,widgetList:null,widgetInstanceCacheArray:[],dashboardView:null,panelMenu:null,counter:1,acInterface:{getTemplatePageWithSSOMenu:"/Rest/Portlet/RunTime/Client/TemplatePageRuntime/GetTemplatePageWithSSOMenu"},GetPagePOAndWidgetPOListThenRender:function(){AjaxUtility.Get(this.acInterface.getTemplatePageWithSSOMenu,{menuId:BaseUtility.GetUrlParaValue("menuId")},function(e){if(e.success){this.pagePO=e.data,this.widgetList=e.exKVData.Widgets;for(var t=0;t<this.widgetList.length;t++)this.widgetList[t].widgetProperties&&(this.widgetList[t].widgetProperties=JsonUtility.StringToJson(this.widgetList[t].widgetProperties));var i;if(this.pagePO.pageConfig=JsonUtility.StringToJson(this.pagePO.pageConfig),this.pagePO.pageProperties=JsonUtility.StringToJson(this.pagePO.pageProperties),this.pagePO.pageRefCssConfig=JsonUtility.StringToJson(this.pagePO.pageRefCssConfig),this.pagePO.pageRefJsConfig=JsonUtility.StringToJson(this.pagePO.pageRefJsConfig),this.pagePO.pageWidgetConfig?this.pagePO.pageWidgetConfig=JsonUtility.StringToJson(this.pagePO.pageWidgetConfig):this.pagePO.pageWidgetConfig=[],console.log(this),this.pagePO.pageRefJsConfig&&0<this.pagePO.pageRefJsConfig.length){for(var n="let _this=this;$LAB",a=0;a<this.pagePO.pageRefJsConfig.length;a++){var s=this.pagePO.pageRefJsConfig[a].refJsPath;s=StringUtility.FormatWithDefaultValue(s,null),n+=".script('"+(s=BaseUtility.AppendTimeStampUrl(s))+"')"}n+=".wait(function(){_this.RenderPage();});",i=Function(n)}else i=Function("this.RenderPage();");if(i.call(this),this.pagePO.pageRefCssConfig&&0<this.pagePO.pageRefCssConfig.length)for(var o=0;o<this.pagePO.pageRefCssConfig.length;o++){var r=this.pagePO.pageRefCssConfig[o].refCSSPath;r=StringUtility.FormatWithDefaultValue(r,null),LoadJsCssUtility(r)}}},this)},RenderPage:function(){var e=this.BuildDashboardView();webix.ui({type:"space",cols:[{view:"scrollview",body:e}]}),webix.event(document.body,"click",function(e){var t=e.target.className;if(t&&-1!=t.toString().indexOf("panel_icon"))for(var i=t.split(" "),n=0;n<i.length;n++)if(0==i[n].indexOf("widgetInstanceId_")){var a=i[n].replace("widgetInstanceId_",""),s=PortletPageRuntimeDependWebix.GetWidgetInstanceCache(a).widgetContextMenu;s&&(s.setContext(webix.$$(e.target)),s.show(e.target))}}),this.pagePO.pageWidgetConfig&&$$("dashboardViewLayout").restore(this.pagePO.pageWidgetConfig),portletUtility.InitRefreshStatus(),portletUtility.StartAutoRefreshControl(this.RefreshALLWidget,this);console.log(sprintf("a.do?a=%(u1.name)s&b=%(u2.name)s",{u1:{name:"zzz"},u2:{name:"aa'a\"a"}}))},RefreshALLWidget:function(e){console.log(e);try{for(var t=this.widgetInstanceCacheArray,i=0;i<t.length;i++){t[i].instance.Refresh(e)}}catch(e){throw e}},BuildDashboardView:function(){var n=this.pagePO;return{view:"gridlayout",id:"dashboardViewLayout",gridColumns:n.pageConfig.gridColumns,gridRows:n.pageConfig.gridRows,cellHeight:n.pageConfig.cellHeight,factory:function(e){var t=e.name,i=e.id;return e.view="panel",e.resize=!1,e.icon="las la-bars widgetInstanceId_"+i,e.body={view:"template",css:"webix_template_for_widget",template:function(e){return"<div name='widgetContainer' class='widget-container-outer-wrap'></div>"},data:{pagePO:n,widgetId:t,widgetInstanceId:i},on:{onViewShow:function(){},onAfterLoad:function(){},onBlur:function(e){},onBeforeRender:function(e){},onAfterRender:function(e){var t=this.data.pagePO,i=this.data.widgetId,n=this.data.widgetInstanceId,a=ArrayUtility.WhereSingle(PortletPageRuntimeDependWebix.widgetList,function(e){return e.widgetId==i}),s=$(this.$view).find("[name='widgetContainer']"),o=s.width(),r=s.height();try{var g=PortletPageRuntimeDependWebix.NewWidgetInstance(n,a,t,s,o,r);g?(PortletPageRuntimeDependWebix.counter++,s.append(g.CreateWidgetElem())):s.append("实例化Widget失败,请检查代码1!")}catch(e){s.append("实例化Widget失败,请检查代码!"+e.toString())}}}},e},on:{}}},BuildWidgetContextMenu:function(n,a){return 0==a.length?null:webix.ui({view:"contextmenu",click:function(e){for(var t=0;t<a.length;t++)if(a[t].id==e){var i=PortletPageRuntimeDependWebix.GetWidgetInstanceCache(n).instance;a[t].click.call(i)}},data:a})},NewWidgetInstance:function NewWidgetInstance(widgetInstanceId,widgetPO,pagePO,$widgetContainer,widgetContainerWidth,widgetContainerHeight){try{var widgetInstance=Object.create(eval(widgetPO.widgetClientRender));widgetInstance.widgetInstanceId=widgetInstanceId,widgetInstance.widgetPO=widgetPO,widgetInstance.pagePO=pagePO,widgetInstance.$widgetContainer=$widgetContainer,widgetInstance.widgetContainerWidth=widgetContainerWidth,widgetInstance.widgetContainerHeight=widgetContainerHeight;var widgetContextMenu=PortletPageRuntimeDependWebix.BuildWidgetContextMenu(widgetInstanceId,widgetInstance.GetContextMenuConfig());return this.widgetInstanceCacheArray.push({widgetInstanceId:widgetInstanceId,instance:widgetInstance,widgetContextMenu:widgetContextMenu}),widgetInstance}catch(e){throw e}},GetWidgetInstanceCache:function(e){for(var t=0;t<this.widgetInstanceCacheArray.length;t++)if(this.widgetInstanceCacheArray[t].widgetInstanceId==e)return this.widgetInstanceCacheArray[t];return null}},portletUtility={refreshVersionKey:"portletUtility-RefreshVersion",innerVersion:null,autoRefreshControlFunc:null,GetRefreshVersion:function(){var e=LocalStorageUtility.getItem(this.refreshVersionKey);return e||(e=1),e},UpdateRefreshVersion:function(){var e=this.GetRefreshVersion();e++,LocalStorageUtility.setItem(this.refreshVersionKey,e)},InitRefreshStatus:function(){LocalStorageUtility.setItem(this.refreshVersionKey,1),this.UpdateRefreshVersion(),this.innerVersion=this.GetRefreshVersion()},NeedToBeRefresh:function(){var e=this.GetRefreshVersion();return e>this.innerVersion&&(this.innerVersion=e,!0)},StartAutoRefreshControl:function(e,t){portletUtility.autoRefreshControlFunc=e,window.setInterval(function(){portletUtility.NeedToBeRefresh()&&portletUtility.autoRefreshControlFunc.call(t,portletUtility.innerVersion)},1e3)}},WidgetControl={CreateWidgetElem:function(e){return this.$widgetContainerInnerWrap=$("<div class='widget-container-inner-wrap'></div>"),this.$widgetContainerInnerWrap.append(this._BuildToolBar(this.widgetPO,this.widgetInstanceId,e)),this.$widgetBody=this._BuildBodyElem(),this.$widgetContainerInnerWrap.append(this.$widgetBody),this.$widgetContainerInnerWrap},NotRefresh:function(e){},_BuildToolBar:function(e,t,i){var n="menu_"+t,a=$("<div class='widget-tool-bar'><div class='widget-title'><i class='las la-angle-right'></i>"+e.widgetTitle+"</div><div class='widget-menu' id='"+n+"'><i class='las la-align-justify context-menu-one'></i></div></div>");return"{}"!=JsonUtility.JsonToString(i)&&$.contextMenu({selector:"#"+n,trigger:"left",items:i}),a},GetDefaultContextMenuConfig:function(){var n=this;return{instructions:{name:"详情",icon:"edit",callback:function(e,t,i){n.OnContextMenuInstructionsEvent(),console.log(n.widgetInstanceId)}},more:{name:"更多",icon:"edit",callback:function(e,t,i){n.OnContextMenuMoreEvent(),console.log(n.widgetInstanceId)}},sep1:"---------",quit:{name:"退出",icon:"context-menu-icon context-menu-icon-quit",callback:function(e,t,i){}}}},GetEmptyContextMenuConfig:function(){return{}}},WidgetDemoData={GetDemoBody:function(){return"winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。"},GetQuickEntryDemoProps:function(){return{QuickEntries:[{name:"事务发起",caption:"事务发起",openType:"innerIframe",url:"/QCSystem/JB4DCBuilderClient/HTML/WorkFlow/Runtime/MyBootableMyModels.html?menuId=QCSystem-WorkFlow-Client-Bootable",image:"0265.png"},{name:"发文发起",caption:"发文发起",openType:"menu",image:"0223.png"},{name:"收文发起",caption:"收文发起",openType:"menu",image:"0255.png"},{name:"文件传递",caption:"文件传递",openType:"menu",image:"0247.png"}]}},GetToDoListWidgetProps:function(){return{list:{getListDateRest:"/%(appContextPath)s/Rest/Extension/Portlet/WorkflowTransform/GetMyProcessTaskList",getListDateRestParas:{modelCategory:"GeneralProcess",pageSize:12},openType:"frameIframe",dialogConfig:{height:0,width:0,title:"JB4DC",modal:!0},fieldParsing:{timeFormat:"%(instanceEntity.instCreateTime)s",titleFormat:"[标题]%(instanceEntity.instTitle)s-%(extaskCurNodeName)s"},openUrl:"/%(appContextPath)s/JB4DCBuilderClient/HTML/WorkFlow/Runtime/MyProcessInstanceMainTask.html?op=update&extaskId=%(extaskId)s",printRowData:!1},more:{openType:"frameIframe",dialogConfig:{height:0,width:0,title:"JB4DC",modal:!0},openUrl:"/%(appContextPath)s/JB4DCBuilderClient/HTML/WorkFlow/Runtime/MyProcessInstanceMainTaskList.html?menuId=QCSystem-WorkFlow-Client-MyTask"}}},GetDemoToDoListData:function(){return[{prefix:"正常",title:"winsw的使用比较简单。",date:"2021-05-06 12:55:12"},{prefix:"加急",title:"winsw的使用比较简单。要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；",date:"2021-05-05 12:55:12"},{prefix:"重要",title:"winsw的使用比较简单。",date:"2021-05-05 12:55:12"},{prefix:"重要",title:"winsw的使用比较简单。要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。sw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。w",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。sw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。w",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。sw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。winsw的使用比较简单。从github上下载：winsw下载，要下载的文件有两个：1.winsw.exe程序；2.xml配置文件。w",date:"2021-05-05 12:55:12"},{prefix:"正常",title:"winsw的使用比较简单。",date:"2021-05-05 12:55:12"}]}},PortletDefaultListWidgetControl={widgetInstanceId:"",widgetPO:null,pagePO:null,host:null,$widgetBody:null,$widgetContainerInnerWrap:null,$widgetContainer:null,widgetContainerWidth:null,widgetContainerHeight:null,CreateWidgetElem:function(){return WidgetControl.CreateWidgetElem.call(this,this.GetContextMenuConfig())},Refresh:function(){this.$widgetBody.remove(),this.$widgetBody=this._BuildBodyElem(),this.$widgetContainerInnerWrap.append(this.$widgetBody),console.log("PortletDefaultListWidgetControl.Refresh")},GetContextMenuConfig:function(){return WidgetControl.GetDefaultContextMenuConfig.call(this)},OnContextMenuInstructionsEvent:function(){console.log("暂无介绍!")},OnContextMenuMoreEvent:function(){var e=this.widgetPO.widgetProperties.more,t=e.dialogConfig;if("frameIframe"==e.openType){var i=e.openUrl;i=StringUtility.FormatWithDefaultValue(i,!0,null,null),DialogUtility.Frame_OpenIframeWindow(window,DialogUtility.DialogId05,i,t,1,!0)}},_BuildToolBar:WidgetControl._BuildToolBar,_BuildBodyElem:function(){var e=this.widgetPO.widgetProperties.list.getListDateRest,t=this.widgetPO.widgetProperties.list.getListDateRestParas;return AjaxUtility.Post(e,t,function(e){if(e.success){console.log(e);this.widgetPO.widgetProperties;for(var t=this.$widgetBody.find(".widget-list-inner-wrap"),i=0;i<e.data.list.length;i++){var n=e.data.list[i],a=this._BuildSingleRow(n);t.append(a)}}},this),$("<div class='widget-body'><div class='widget-list-outer-wrap'><div class='widget-list-inner-wrap'></div></div></div>")},_BuildSingleRow:function(e){this.widgetPO.widgetProperties.list.printRowData&&console.log(e);var t=this.widgetPO.widgetProperties.list.fieldParsing,i=this.widgetContainerWidth-66,n=StringUtility.FormatSprintfJsonObj(t.timeFormat,e),a=DateUtility.ConvertFromString(n),s=DateUtility.Format(a,"MM-dd"),o=StringUtility.FormatSprintfJsonObj(t.titleFormat,e),r=$("<div class='widget-list-row-wrap'><div class='widget-list-title' style='width: "+i+'px;margin-right: 4px\'><i class="las la-chevron-right"></i>'+o+"</div><div class='widget-list-date' style='width: 40px;'>"+s+"</div></div>");return r.bind("click",{rowData:e,widgetInstance:this},function(e){e.data.widgetInstance._BuildSingleRowClickEvent.call(e.data.widgetInstance,e.data.rowData)}),r},_BuildSingleRowClickEvent:function(e){var t,i,n=this.widgetPO.widgetProperties.list,a=n.dialogConfig;if(n.openUrlFormatRest);else if("frameIframe"==n.openType){var s=n.openUrl;s=StringUtility.FormatWithDefaultValue(s,!0,e,null),t=s,i=a,DialogUtility.Frame_OpenIframeWindow(window,DialogUtility.DialogId06,t,i,1,!0)}console.log(e)}},PortletDefaultQuickEntryWidgetControl={widgetInstanceId:"",widgetPO:null,pagePO:null,host:null,$widgetBody:null,$widgetContainerInnerWrap:null,$widgetContainer:null,widgetContainerWidth:null,widgetContainerHeight:null,CreateWidgetElem:function(){return WidgetControl.CreateWidgetElem.call(this,this.GetContextMenuConfig())},Refresh:WidgetControl.NotRefresh,GetContextMenuConfig:function(){return WidgetControl.GetEmptyContextMenuConfig.call(this)},_BuildToolBar:WidgetControl._BuildToolBar,_BuildBodyElem:function(){for(var e=this.widgetPO.widgetProperties,t=$("<div class='widget-body'><div class='widget-quick-entry-outer-wrap'><div class='widget-quick-entry-inner-wrap'></div></div></div>"),i=t.find(".widget-quick-entry-inner-wrap"),n=0;n<e.QuickEntries.length;n++){var a=e.QuickEntries[n],s=this._BuildSingleQuickEntry(a);i.append(s)}return t},_BuildSingleQuickEntry:function(e){var t=$("<div class='widget-quick-elem-wrap'><div style='margin: auto;text-align: center'><img src='/Themes/Png32X32/"+e.image+"' /></div><div>"+e.caption+"</div></div>");return t.bind("click",{quickEntry:e,widgetInstance:this},function(e){e.data.widgetInstance._BindSingleQuickEntryClickEvent.call(e.data.widgetInstance,e.data.quickEntry)}),t},_BindSingleQuickEntryClickEvent:function(e){console.log(e),"innerIframe"==e.openType&&DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e.url,{},1)}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvcnRsZXRQYWdlUnVudGltZURlcGVuZEdyaWRTdGFjay5qcyIsIlBvcnRsZXRQYWdlUnVudGltZURlcGVuZFdlYml4LmpzIiwiUG9ydGxldFV0aWxpdHkuanMiLCJXaWRnZXRDb250cm9sLmpzIiwiV2lkZ2V0RGVtb0RhdGEuanMiLCJXaWRnZXRzL1BvcnRsZXREZWZhdWx0TGlzdFdpZGdldENvbnRyb2wuanMiLCJXaWRnZXRzL1BvcnRsZXREZWZhdWx0UXVpY2tFbnRyeVdpZGdldENvbnRyb2wuanMiXSwibmFtZXMiOlsiUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kR3JpZFN0YWNrIiwicGFnZVBPIiwid2lkZ2V0TGlzdCIsIndpZGdldEluc3RhbmNlQ2FjaGVBcnJheSIsImRhc2hib2FyZFZpZXciLCJwYW5lbE1lbnUiLCJjb3VudGVyIiwiYWNJbnRlcmZhY2UiLCJnZXRUZW1wbGF0ZVBhZ2VXaXRoU1NPTWVudSIsIkdldFBhZ2VQT0FuZFdpZGdldFBPTGlzdFRoZW5SZW5kZXIiLCJBamF4VXRpbGl0eSIsIkdldCIsInRoaXMiLCJtZW51SWQiLCJCYXNlVXRpbGl0eSIsIkdldFVybFBhcmFWYWx1ZSIsInJlc3VsdCIsInN1Y2Nlc3MiLCJkYXRhIiwiZXhLVkRhdGEiLCJXaWRnZXRzIiwiaSIsImxlbmd0aCIsIndpZGdldFByb3BlcnRpZXMiLCJKc29uVXRpbGl0eSIsIlN0cmluZ1RvSnNvbiIsImluaXRGdW5jIiwicGFnZUNvbmZpZyIsInBhZ2VQcm9wZXJ0aWVzIiwicGFnZVJlZkNzc0NvbmZpZyIsInBhZ2VSZWZKc0NvbmZpZyIsInBhZ2VXaWRnZXRDb25maWciLCJpbml0RnVuY1N0ciIsIl9pIiwicmVmSnMiLCJyZWZKc1BhdGgiLCJTdHJpbmdVdGlsaXR5IiwiRm9ybWF0V2l0aERlZmF1bHRWYWx1ZSIsIkFwcGVuZFRpbWVTdGFtcFVybCIsIkZ1bmN0aW9uIiwiY2FsbCIsIl9pMiIsInJlZkNzcyIsInJlZkNTU1BhdGgiLCJMb2FkSnNDc3NVdGlsaXR5IiwiUmVuZGVyUGFnZSIsImNvbnNvbGUiLCJsb2ciLCJCdWlsZERhc2hib2FyZFZpZXciLCJwb3J0bGV0VXRpbGl0eSIsIkluaXRSZWZyZXNoU3RhdHVzIiwiU3RhcnRBdXRvUmVmcmVzaENvbnRyb2wiLCJSZWZyZXNoQUxMV2lkZ2V0IiwiaW5uZXJWZXJzaW9uIiwiYWxsV2lkZ2V0SW5zdGFuY2VBcnJheSIsImluc3RhbmNlIiwiUmVmcmVzaCIsImUiLCJfdGhpcyIsIiQiLCJleHRlbmQiLCJkaXNhYmxlRHJhZyIsImRpc2FibGVSZXNpemUiLCJHcmlkU3RhY2siLCJpbml0Iiwib24iLCJldmVudCIsIml0ZW1zIiwiQ3JlYXRlV2lkZ2V0IiwibG9hZCIsIm5vZGUiLCJ3aWRnZXRJZCIsIndpZGdldEluc3RhbmNlSWQiLCJ3aWRnZXRTaW5nbGVJZCIsIndpZGdldFBPIiwiQXJyYXlVdGlsaXR5IiwiV2hlcmVTaW5nbGUiLCJpdGVtIiwiJHdpZGdldENvbnRhaW5lciIsImVsIiwiZmluZCIsIndpZGdldENvbnRhaW5lcldpZHRoIiwid2lkdGgiLCJ3aWRnZXRDb250YWluZXJIZWlnaHQiLCJoZWlnaHQiLCJodG1sIiwid2lkZ2V0SW5zdGFuY2UiLCJOZXdXaWRnZXRJbnN0YW5jZSIsImFwcGVuZCIsIkNyZWF0ZVdpZGdldEVsZW0iLCJ0b1N0cmluZyIsIk9iamVjdCIsImNyZWF0ZSIsImV2YWwiLCJ3aWRnZXRDbGllbnRSZW5kZXIiLCJ3aWRnZXRDb250ZXh0TWVudSIsInB1c2giLCJHZXRXaWRnZXRJbnN0YW5jZUNhY2hlIiwiUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kV2ViaXgiLCJ3ZWJpeCIsInVpIiwidHlwZSIsImNvbHMiLCJ2aWV3IiwiYm9keSIsImRvY3VtZW50IiwiZXYiLCJjc3MiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiY2xhc3NOYW1lQXJyYXkiLCJzcGxpdCIsInJlcGxhY2UiLCJzZXRDb250ZXh0IiwiJCQiLCJzaG93IiwicmVzdG9yZSIsInNwcmludGYiLCJ1MSIsIm5hbWUiLCJ1MiIsImlkIiwiZ3JpZENvbHVtbnMiLCJncmlkUm93cyIsImNlbGxIZWlnaHQiLCJmYWN0b3J5Iiwib2JqIiwicmVzaXplIiwiaWNvbiIsInRlbXBsYXRlIiwib25WaWV3U2hvdyIsIm9uQWZ0ZXJMb2FkIiwib25CbHVyIiwicHJldl92aWV3Iiwib25CZWZvcmVSZW5kZXIiLCJvbkFmdGVyUmVuZGVyIiwiJHZpZXciLCJCdWlsZFdpZGdldENvbnRleHRNZW51IiwibWVudUNvbmZpZyIsImNsaWNrIiwiR2V0Q29udGV4dE1lbnVDb25maWciLCJyZWZyZXNoVmVyc2lvbktleSIsImF1dG9SZWZyZXNoQ29udHJvbEZ1bmMiLCJHZXRSZWZyZXNoVmVyc2lvbiIsInJlZnJlc2hWZXJzaW9uIiwiTG9jYWxTdG9yYWdlVXRpbGl0eSIsImdldEl0ZW0iLCJVcGRhdGVSZWZyZXNoVmVyc2lvbiIsInNldEl0ZW0iLCJOZWVkVG9CZVJlZnJlc2giLCJuZXdSZWZyZXNoVmVyc2lvbiIsInJlZnJlc2hGdW5jIiwiY2FsbGVyIiwid2luZG93Iiwic2V0SW50ZXJ2YWwiLCJXaWRnZXRDb250cm9sIiwiJHdpZGdldENvbnRhaW5lcklubmVyV3JhcCIsIl9CdWlsZFRvb2xCYXIiLCIkd2lkZ2V0Qm9keSIsIl9CdWlsZEJvZHlFbGVtIiwiTm90UmVmcmVzaCIsIm1lbnVFbGVtSWQiLCJ3aWRnZXRUb29sQmFyIiwid2lkZ2V0VGl0bGUiLCJKc29uVG9TdHJpbmciLCJjb250ZXh0TWVudSIsInNlbGVjdG9yIiwidHJpZ2dlciIsIkdldERlZmF1bHRDb250ZXh0TWVudUNvbmZpZyIsImluc3RydWN0aW9ucyIsImNhbGxiYWNrIiwiaXRlbUtleSIsIm9wdCIsIk9uQ29udGV4dE1lbnVJbnN0cnVjdGlvbnNFdmVudCIsIm1vcmUiLCJPbkNvbnRleHRNZW51TW9yZUV2ZW50Iiwic2VwMSIsInF1aXQiLCJHZXRFbXB0eUNvbnRleHRNZW51Q29uZmlnIiwiV2lkZ2V0RGVtb0RhdGEiLCJHZXREZW1vQm9keSIsIkdldFF1aWNrRW50cnlEZW1vUHJvcHMiLCJRdWlja0VudHJpZXMiLCJjYXB0aW9uIiwib3BlblR5cGUiLCJ1cmwiLCJpbWFnZSIsIkdldFRvRG9MaXN0V2lkZ2V0UHJvcHMiLCJsaXN0IiwiZ2V0TGlzdERhdGVSZXN0IiwiZ2V0TGlzdERhdGVSZXN0UGFyYXMiLCJtb2RlbENhdGVnb3J5IiwicGFnZVNpemUiLCJkaWFsb2dDb25maWciLCJ0aXRsZSIsIm1vZGFsIiwiZmllbGRQYXJzaW5nIiwidGltZUZvcm1hdCIsInRpdGxlRm9ybWF0Iiwib3BlblVybCIsInByaW50Um93RGF0YSIsIkdldERlbW9Ub0RvTGlzdERhdGEiLCJwcmVmaXgiLCJkYXRlIiwiUG9ydGxldERlZmF1bHRMaXN0V2lkZ2V0Q29udHJvbCIsImhvc3QiLCJyZW1vdmUiLCJtb3JlUHJvcCIsIkRpYWxvZ1V0aWxpdHkiLCJGcmFtZV9PcGVuSWZyYW1lV2luZG93IiwiRGlhbG9nSWQwNSIsInJlc3RVcmwiLCJyZXN0UGFyYXMiLCJQb3N0IiwiJGxpc3RJbm5lcldyYXAiLCJyb3dEYXRhIiwiJHNpbmdsZVJvd0VsZW0iLCJfQnVpbGRTaW5nbGVSb3ciLCJ0aXRsZVdpZHRoIiwidGltZVN0ciIsIkZvcm1hdFNwcmludGZKc29uT2JqIiwidGltZU9iaiIsIkRhdGVVdGlsaXR5IiwiQ29udmVydEZyb21TdHJpbmciLCJkYXRlU2hvcnQiLCJGb3JtYXQiLCJ0aXRsZVN0ciIsIiRyb3dFbGVtIiwiYmluZCIsInNlbmRlciIsIl9CdWlsZFNpbmdsZVJvd0NsaWNrRXZlbnQiLCJsaXN0UHJvcCIsIm9wZW5VcmxGb3JtYXRSZXN0IiwiRGlhbG9nSWQwNiIsIlBvcnRsZXREZWZhdWx0UXVpY2tFbnRyeVdpZGdldENvbnRyb2wiLCJ3aWRnZXRQcm9wcyIsIiRxdWlja0VudHJ5SW5uZXJXcmFwIiwicXVpY2tFbnRyeSIsIiRxdWlja0VsZW0iLCJfQnVpbGRTaW5nbGVRdWlja0VudHJ5IiwiJHF1aWNrRWxlbVdyYXAiLCJfQmluZFNpbmdsZVF1aWNrRW50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LE1BQ0EsU0FBQTBOLEdBQ0FBLEVBQUFwTixLQUFBb0UsZUFBQTRKLGdDQUFBMU0sS0FBQThMLEVBQUFwTixLQUFBb0UsZUFBQWdKLEVBQUFwTixLQUFBNE4sY0FFQUcsR0FFQUMsZ0NBQUEsU0FBQUosR0FDQWhNLFFBQUFDLElBQUErTCxHQUVBLGVBQUFBLEVBQUFyRCxVQUNBd0IsY0FBQWtDLGlCQUFBekYsT0FBQXVELGNBQUFtQyxTQUFBTixFQUFBcEQsSUFBQSxHQUFBIiwiZmlsZSI6IlBvcnRsZXRSdW50aW1lRnVsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kR3JpZFN0YWNrID0ge1xuICBwYWdlUE86IG51bGwsXG4gIHdpZGdldExpc3Q6IG51bGwsXG4gIHdpZGdldEluc3RhbmNlQ2FjaGVBcnJheTogW10sXG4gIGRhc2hib2FyZFZpZXc6IG51bGwsXG4gIHBhbmVsTWVudTogbnVsbCxcbiAgY291bnRlcjogMSxcbiAgYWNJbnRlcmZhY2U6IHtcbiAgICBnZXRUZW1wbGF0ZVBhZ2VXaXRoU1NPTWVudTogXCIvUmVzdC9Qb3J0bGV0L1J1blRpbWUvQ2xpZW50L1RlbXBsYXRlUGFnZVJ1bnRpbWUvR2V0VGVtcGxhdGVQYWdlV2l0aFNTT01lbnVcIlxuICB9LFxuICBHZXRQYWdlUE9BbmRXaWRnZXRQT0xpc3RUaGVuUmVuZGVyOiBmdW5jdGlvbiBHZXRQYWdlUE9BbmRXaWRnZXRQT0xpc3RUaGVuUmVuZGVyKCkge1xuICAgIEFqYXhVdGlsaXR5LkdldCh0aGlzLmFjSW50ZXJmYWNlLmdldFRlbXBsYXRlUGFnZVdpdGhTU09NZW51LCB7XG4gICAgICBtZW51SWQ6IEJhc2VVdGlsaXR5LkdldFVybFBhcmFWYWx1ZShcIm1lbnVJZFwiKVxuICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aGlzLnBhZ2VQTyA9IHJlc3VsdC5kYXRhO1xuICAgICAgICB0aGlzLndpZGdldExpc3QgPSByZXN1bHQuZXhLVkRhdGEuV2lkZ2V0cztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2lkZ2V0TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLndpZGdldExpc3RbaV0ud2lkZ2V0UHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy53aWRnZXRMaXN0W2ldLndpZGdldFByb3BlcnRpZXMgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24odGhpcy53aWRnZXRMaXN0W2ldLndpZGdldFByb3BlcnRpZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFnZVBPLnBhZ2VDb25maWcgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24odGhpcy5wYWdlUE8ucGFnZUNvbmZpZyk7XG4gICAgICAgIHRoaXMucGFnZVBPLnBhZ2VQcm9wZXJ0aWVzID0gSnNvblV0aWxpdHkuU3RyaW5nVG9Kc29uKHRoaXMucGFnZVBPLnBhZ2VQcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5wYWdlUE8ucGFnZVJlZkNzc0NvbmZpZyA9IEpzb25VdGlsaXR5LlN0cmluZ1RvSnNvbih0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnKTtcbiAgICAgICAgdGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnID0gSnNvblV0aWxpdHkuU3RyaW5nVG9Kc29uKHRoaXMucGFnZVBPLnBhZ2VSZWZKc0NvbmZpZyk7XG5cbiAgICAgICAgaWYgKHRoaXMucGFnZVBPLnBhZ2VXaWRnZXRDb25maWcpIHtcbiAgICAgICAgICB0aGlzLnBhZ2VQTy5wYWdlV2lkZ2V0Q29uZmlnID0gSnNvblV0aWxpdHkuU3RyaW5nVG9Kc29uKHRoaXMucGFnZVBPLnBhZ2VXaWRnZXRDb25maWcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGFnZVBPLnBhZ2VXaWRnZXRDb25maWcgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbml0RnVuYztcblxuICAgICAgICBpZiAodGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnICYmIHRoaXMucGFnZVBPLnBhZ2VSZWZKc0NvbmZpZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGluaXRGdW5jU3RyID0gXCJsZXQgX3RoaXM9dGhpczskTEFCXCI7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHJlZkpzID0gdGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnW19pXS5yZWZKc1BhdGg7XG4gICAgICAgICAgICByZWZKcyA9IFN0cmluZ1V0aWxpdHkuRm9ybWF0V2l0aERlZmF1bHRWYWx1ZShyZWZKcywgbnVsbCk7XG4gICAgICAgICAgICByZWZKcyA9IEJhc2VVdGlsaXR5LkFwcGVuZFRpbWVTdGFtcFVybChyZWZKcyk7XG4gICAgICAgICAgICBpbml0RnVuY1N0ciArPSBcIi5zY3JpcHQoJ1wiICsgcmVmSnMgKyBcIicpXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5pdEZ1bmNTdHIgKz0gXCIud2FpdChmdW5jdGlvbigpe190aGlzLlJlbmRlclBhZ2UoKTt9KTtcIjtcbiAgICAgICAgICBpbml0RnVuYyA9IEZ1bmN0aW9uKGluaXRGdW5jU3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbml0RnVuYyA9IEZ1bmN0aW9uKFwidGhpcy5SZW5kZXJQYWdlKCk7XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdEZ1bmMuY2FsbCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5wYWdlUE8ucGFnZVJlZkNzc0NvbmZpZyAmJiB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHZhciByZWZDc3MgPSB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnW19pMl0ucmVmQ1NTUGF0aDtcbiAgICAgICAgICAgIHJlZkNzcyA9IFN0cmluZ1V0aWxpdHkuRm9ybWF0V2l0aERlZmF1bHRWYWx1ZShyZWZDc3MsIG51bGwpO1xuICAgICAgICAgICAgTG9hZEpzQ3NzVXRpbGl0eShyZWZDc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuICBSZW5kZXJQYWdlOiBmdW5jdGlvbiBSZW5kZXJQYWdlKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMucGFnZVBPKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLndpZGdldExpc3QpO1xuICAgIHZhciBkYXNoYm9hcmRWaWV3ID0gdGhpcy5CdWlsZERhc2hib2FyZFZpZXcoKTtcblxuICAgIGlmICh0aGlzLnBhZ2VQTy5wYWdlV2lkZ2V0Q29uZmlnKSB7fVxuXG4gICAgcG9ydGxldFV0aWxpdHkuSW5pdFJlZnJlc2hTdGF0dXMoKTtcbiAgICBwb3J0bGV0VXRpbGl0eS5TdGFydEF1dG9SZWZyZXNoQ29udHJvbCh0aGlzLlJlZnJlc2hBTExXaWRnZXQsIHRoaXMpO1xuICB9LFxuICBSZWZyZXNoQUxMV2lkZ2V0OiBmdW5jdGlvbiBSZWZyZXNoQUxMV2lkZ2V0KGlubmVyVmVyc2lvbikge1xuICAgIGNvbnNvbGUubG9nKGlubmVyVmVyc2lvbik7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIGFsbFdpZGdldEluc3RhbmNlQXJyYXkgPSB0aGlzLndpZGdldEluc3RhbmNlQ2FjaGVBcnJheTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxXaWRnZXRJbnN0YW5jZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB3aWRnZXRJbnN0YW5jZSA9IGFsbFdpZGdldEluc3RhbmNlQXJyYXlbaV0uaW5zdGFuY2U7XG4gICAgICAgIHdpZGdldEluc3RhbmNlLlJlZnJlc2goaW5uZXJWZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfSxcbiAgQnVpbGREYXNoYm9hcmRWaWV3OiBmdW5jdGlvbiBCdWlsZERhc2hib2FyZFZpZXcoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBwYWdlUE8gPSB0aGlzLnBhZ2VQTztcbiAgICBwYWdlUE8ucGFnZUNvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBwYWdlUE8ucGFnZUNvbmZpZywge1xuICAgICAgZGlzYWJsZURyYWc6IHRydWUsXG4gICAgICBkaXNhYmxlUmVzaXplOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5kYXNoYm9hcmRWaWV3ID0gR3JpZFN0YWNrLmluaXQocGFnZVBPLnBhZ2VDb25maWcpO1xuICAgIHRoaXMuZGFzaGJvYXJkVmlldy5vbignYWRkZWQnLCBmdW5jdGlvbiAoZXZlbnQsIGl0ZW1zKSB7XG4gICAgICBjb25zb2xlLmxvZyhpdGVtcyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgX3RoaXMuQ3JlYXRlV2lkZ2V0KGl0ZW1zW2ldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgcGFnZVdpZGdldENvbmZpZyA9IHBhZ2VQTy5wYWdlV2lkZ2V0Q29uZmlnO1xuICAgIHRoaXMuZGFzaGJvYXJkVmlldy5sb2FkKHBhZ2VXaWRnZXRDb25maWcsIHRydWUpO1xuICB9LFxuICBDcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uIENyZWF0ZVdpZGdldChub2RlKSB7XG4gICAgdmFyIHBhZ2VQTyA9IHRoaXMucGFnZVBPO1xuICAgIHZhciB3aWRnZXRJZCA9IG5vZGUud2lkZ2V0SWQ7XG4gICAgdmFyIHdpZGdldEluc3RhbmNlSWQgPSBub2RlLndpZGdldFNpbmdsZUlkO1xuICAgIHZhciB3aWRnZXRQTyA9IEFycmF5VXRpbGl0eS5XaGVyZVNpbmdsZSh0aGlzLndpZGdldExpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS53aWRnZXRJZCA9PSB3aWRnZXRJZDtcbiAgICB9KTtcbiAgICB2YXIgJHdpZGdldENvbnRhaW5lciA9ICQobm9kZS5lbCkuZmluZChcIi5ncmlkLXN0YWNrLWl0ZW0tY29udGVudFwiKTtcbiAgICB2YXIgd2lkZ2V0Q29udGFpbmVyV2lkdGggPSAkd2lkZ2V0Q29udGFpbmVyLndpZHRoKCk7XG4gICAgdmFyIHdpZGdldENvbnRhaW5lckhlaWdodCA9ICR3aWRnZXRDb250YWluZXIuaGVpZ2h0KCk7XG4gICAgJChub2RlLmVsKS5maW5kKFwiLmdyaWQtc3RhY2staXRlbS1jb250ZW50XCIpLmh0bWwoXCJcIik7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHdpZGdldEluc3RhbmNlID0gdGhpcy5OZXdXaWRnZXRJbnN0YW5jZSh3aWRnZXRJbnN0YW5jZUlkLCB3aWRnZXRQTywgcGFnZVBPLCAkd2lkZ2V0Q29udGFpbmVyLCB3aWRnZXRDb250YWluZXJXaWR0aCwgd2lkZ2V0Q29udGFpbmVySGVpZ2h0KTtcblxuICAgICAgaWYgKHdpZGdldEluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuY291bnRlcisrO1xuICAgICAgICAkd2lkZ2V0Q29udGFpbmVyLmFwcGVuZCh3aWRnZXRJbnN0YW5jZS5DcmVhdGVXaWRnZXRFbGVtKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHdpZGdldENvbnRhaW5lci5hcHBlbmQoXCLlrp7kvovljJZXaWRnZXTlpLHotKUs6K+35qOA5p+l5Luj56CBIVwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAkd2lkZ2V0Q29udGFpbmVyLmFwcGVuZChcIuWunuS+i+WMlldpZGdldOWksei0pSzor7fmo4Dmn6Xku6PnoIEhXCIgKyBlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfSxcbiAgTmV3V2lkZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uIE5ld1dpZGdldEluc3RhbmNlKHdpZGdldEluc3RhbmNlSWQsIHdpZGdldFBPLCBwYWdlUE8sICR3aWRnZXRDb250YWluZXIsIHdpZGdldENvbnRhaW5lcldpZHRoLCB3aWRnZXRDb250YWluZXJIZWlnaHQpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHdpZGdldEluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShldmFsKHdpZGdldFBPLndpZGdldENsaWVudFJlbmRlcikpO1xuICAgICAgd2lkZ2V0SW5zdGFuY2Uud2lkZ2V0SW5zdGFuY2VJZCA9IHdpZGdldEluc3RhbmNlSWQ7XG4gICAgICB3aWRnZXRJbnN0YW5jZS53aWRnZXRQTyA9IHdpZGdldFBPO1xuICAgICAgd2lkZ2V0SW5zdGFuY2UucGFnZVBPID0gcGFnZVBPO1xuICAgICAgd2lkZ2V0SW5zdGFuY2UuJHdpZGdldENvbnRhaW5lciA9ICR3aWRnZXRDb250YWluZXI7XG4gICAgICB3aWRnZXRJbnN0YW5jZS53aWRnZXRDb250YWluZXJXaWR0aCA9IHdpZGdldENvbnRhaW5lcldpZHRoO1xuICAgICAgd2lkZ2V0SW5zdGFuY2Uud2lkZ2V0Q29udGFpbmVySGVpZ2h0ID0gd2lkZ2V0Q29udGFpbmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZGdldENvbnRleHRNZW51ID0gbnVsbDtcbiAgICAgIHRoaXMud2lkZ2V0SW5zdGFuY2VDYWNoZUFycmF5LnB1c2goe1xuICAgICAgICBcIndpZGdldEluc3RhbmNlSWRcIjogd2lkZ2V0SW5zdGFuY2VJZCxcbiAgICAgICAgXCJpbnN0YW5jZVwiOiB3aWRnZXRJbnN0YW5jZSxcbiAgICAgICAgXCJ3aWRnZXRDb250ZXh0TWVudVwiOiB3aWRnZXRDb250ZXh0TWVudVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gd2lkZ2V0SW5zdGFuY2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH0sXG4gIEdldFdpZGdldEluc3RhbmNlQ2FjaGU6IGZ1bmN0aW9uIEdldFdpZGdldEluc3RhbmNlQ2FjaGUod2lkZ2V0SW5zdGFuY2VJZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aWRnZXRJbnN0YW5jZUNhY2hlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLndpZGdldEluc3RhbmNlQ2FjaGVBcnJheVtpXS53aWRnZXRJbnN0YW5jZUlkID09IHdpZGdldEluc3RhbmNlSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkZ2V0SW5zdGFuY2VDYWNoZUFycmF5W2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kV2ViaXggPSB7XG4gIHBhZ2VQTzogbnVsbCxcbiAgd2lkZ2V0TGlzdDogbnVsbCxcbiAgd2lkZ2V0SW5zdGFuY2VDYWNoZUFycmF5OiBbXSxcbiAgZGFzaGJvYXJkVmlldzogbnVsbCxcbiAgcGFuZWxNZW51OiBudWxsLFxuICBjb3VudGVyOiAxLFxuICBhY0ludGVyZmFjZToge1xuICAgIGdldFRlbXBsYXRlUGFnZVdpdGhTU09NZW51OiBcIi9SZXN0L1BvcnRsZXQvUnVuVGltZS9DbGllbnQvVGVtcGxhdGVQYWdlUnVudGltZS9HZXRUZW1wbGF0ZVBhZ2VXaXRoU1NPTWVudVwiXG4gIH0sXG4gIEdldFBhZ2VQT0FuZFdpZGdldFBPTGlzdFRoZW5SZW5kZXI6IGZ1bmN0aW9uIEdldFBhZ2VQT0FuZFdpZGdldFBPTGlzdFRoZW5SZW5kZXIoKSB7XG4gICAgQWpheFV0aWxpdHkuR2V0KHRoaXMuYWNJbnRlcmZhY2UuZ2V0VGVtcGxhdGVQYWdlV2l0aFNTT01lbnUsIHtcbiAgICAgIG1lbnVJZDogQmFzZVV0aWxpdHkuR2V0VXJsUGFyYVZhbHVlKFwibWVudUlkXCIpXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRoaXMucGFnZVBPID0gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRoaXMud2lkZ2V0TGlzdCA9IHJlc3VsdC5leEtWRGF0YS5XaWRnZXRzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aWRnZXRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMud2lkZ2V0TGlzdFtpXS53aWRnZXRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldExpc3RbaV0ud2lkZ2V0UHJvcGVydGllcyA9IEpzb25VdGlsaXR5LlN0cmluZ1RvSnNvbih0aGlzLndpZGdldExpc3RbaV0ud2lkZ2V0UHJvcGVydGllcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYWdlUE8ucGFnZUNvbmZpZyA9IEpzb25VdGlsaXR5LlN0cmluZ1RvSnNvbih0aGlzLnBhZ2VQTy5wYWdlQ29uZmlnKTtcbiAgICAgICAgdGhpcy5wYWdlUE8ucGFnZVByb3BlcnRpZXMgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24odGhpcy5wYWdlUE8ucGFnZVByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnID0gSnNvblV0aWxpdHkuU3RyaW5nVG9Kc29uKHRoaXMucGFnZVBPLnBhZ2VSZWZDc3NDb25maWcpO1xuICAgICAgICB0aGlzLnBhZ2VQTy5wYWdlUmVmSnNDb25maWcgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24odGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnKTtcblxuICAgICAgICBpZiAodGhpcy5wYWdlUE8ucGFnZVdpZGdldENvbmZpZykge1xuICAgICAgICAgIHRoaXMucGFnZVBPLnBhZ2VXaWRnZXRDb25maWcgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24odGhpcy5wYWdlUE8ucGFnZVdpZGdldENvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wYWdlUE8ucGFnZVdpZGdldENvbmZpZyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgIHZhciBpbml0RnVuYztcblxuICAgICAgICBpZiAodGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnICYmIHRoaXMucGFnZVBPLnBhZ2VSZWZKc0NvbmZpZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGluaXRGdW5jU3RyID0gXCJsZXQgX3RoaXM9dGhpczskTEFCXCI7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHJlZkpzID0gdGhpcy5wYWdlUE8ucGFnZVJlZkpzQ29uZmlnW19pXS5yZWZKc1BhdGg7XG4gICAgICAgICAgICByZWZKcyA9IFN0cmluZ1V0aWxpdHkuRm9ybWF0V2l0aERlZmF1bHRWYWx1ZShyZWZKcywgbnVsbCk7XG4gICAgICAgICAgICByZWZKcyA9IEJhc2VVdGlsaXR5LkFwcGVuZFRpbWVTdGFtcFVybChyZWZKcyk7XG4gICAgICAgICAgICBpbml0RnVuY1N0ciArPSBcIi5zY3JpcHQoJ1wiICsgcmVmSnMgKyBcIicpXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5pdEZ1bmNTdHIgKz0gXCIud2FpdChmdW5jdGlvbigpe190aGlzLlJlbmRlclBhZ2UoKTt9KTtcIjtcbiAgICAgICAgICBpbml0RnVuYyA9IEZ1bmN0aW9uKGluaXRGdW5jU3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbml0RnVuYyA9IEZ1bmN0aW9uKFwidGhpcy5SZW5kZXJQYWdlKCk7XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdEZ1bmMuY2FsbCh0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5wYWdlUE8ucGFnZVJlZkNzc0NvbmZpZyAmJiB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHZhciByZWZDc3MgPSB0aGlzLnBhZ2VQTy5wYWdlUmVmQ3NzQ29uZmlnW19pMl0ucmVmQ1NTUGF0aDtcbiAgICAgICAgICAgIHJlZkNzcyA9IFN0cmluZ1V0aWxpdHkuRm9ybWF0V2l0aERlZmF1bHRWYWx1ZShyZWZDc3MsIG51bGwpO1xuICAgICAgICAgICAgTG9hZEpzQ3NzVXRpbGl0eShyZWZDc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuICBSZW5kZXJQYWdlOiBmdW5jdGlvbiBSZW5kZXJQYWdlKCkge1xuICAgIHZhciBkYXNoYm9hcmRWaWV3ID0gdGhpcy5CdWlsZERhc2hib2FyZFZpZXcoKTtcbiAgICB3ZWJpeC51aSh7XG4gICAgICB0eXBlOiBcInNwYWNlXCIsXG4gICAgICBjb2xzOiBbe1xuICAgICAgICB2aWV3OiBcInNjcm9sbHZpZXdcIixcbiAgICAgICAgYm9keTogZGFzaGJvYXJkVmlld1xuICAgICAgfV1cbiAgICB9KTtcbiAgICB3ZWJpeC5ldmVudChkb2N1bWVudC5ib2R5LCBcImNsaWNrXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgdmFyIGNzcyA9IGV2LnRhcmdldC5jbGFzc05hbWU7XG5cbiAgICAgIGlmIChjc3MgJiYgY3NzLnRvU3RyaW5nKCkuaW5kZXhPZihcInBhbmVsX2ljb25cIikgIT0gLTEpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZUFycmF5ID0gY3NzLnNwbGl0KFwiIFwiKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsYXNzTmFtZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZUFycmF5W2ldLmluZGV4T2YoXCJ3aWRnZXRJbnN0YW5jZUlkX1wiKSA9PSAwKSB7XG4gICAgICAgICAgICB2YXIgd2lkZ2V0SW5zdGFuY2VJZCA9IGNsYXNzTmFtZUFycmF5W2ldLnJlcGxhY2UoXCJ3aWRnZXRJbnN0YW5jZUlkX1wiLCBcIlwiKTtcbiAgICAgICAgICAgIHZhciB3aWRnZXRDb250ZXh0TWVudSA9IFBvcnRsZXRQYWdlUnVudGltZURlcGVuZFdlYml4LkdldFdpZGdldEluc3RhbmNlQ2FjaGUod2lkZ2V0SW5zdGFuY2VJZCkud2lkZ2V0Q29udGV4dE1lbnU7XG5cbiAgICAgICAgICAgIGlmICh3aWRnZXRDb250ZXh0TWVudSkge1xuICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0TWVudS5zZXRDb250ZXh0KHdlYml4LiQkKGV2LnRhcmdldCkpO1xuICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0TWVudS5zaG93KGV2LnRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wYWdlUE8ucGFnZVdpZGdldENvbmZpZykge1xuICAgICAgJCQoXCJkYXNoYm9hcmRWaWV3TGF5b3V0XCIpLnJlc3RvcmUodGhpcy5wYWdlUE8ucGFnZVdpZGdldENvbmZpZyk7XG4gICAgfVxuXG4gICAgcG9ydGxldFV0aWxpdHkuSW5pdFJlZnJlc2hTdGF0dXMoKTtcbiAgICBwb3J0bGV0VXRpbGl0eS5TdGFydEF1dG9SZWZyZXNoQ29udHJvbCh0aGlzLlJlZnJlc2hBTExXaWRnZXQsIHRoaXMpO1xuICAgIHZhciB1c2VyID0ge1xuICAgICAgdTE6IHtcbiAgICAgICAgbmFtZTogXCJ6enpcIlxuICAgICAgfSxcbiAgICAgIHUyOiB7XG4gICAgICAgIG5hbWU6IFwiYWEnYVxcXCJhXCJcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKHNwcmludGYoJ2EuZG8/YT0lKHUxLm5hbWUpcyZiPSUodTIubmFtZSlzJywgdXNlcikpO1xuICB9LFxuICBSZWZyZXNoQUxMV2lkZ2V0OiBmdW5jdGlvbiBSZWZyZXNoQUxMV2lkZ2V0KGlubmVyVmVyc2lvbikge1xuICAgIGNvbnNvbGUubG9nKGlubmVyVmVyc2lvbik7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIGFsbFdpZGdldEluc3RhbmNlQXJyYXkgPSB0aGlzLndpZGdldEluc3RhbmNlQ2FjaGVBcnJheTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxXaWRnZXRJbnN0YW5jZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB3aWRnZXRJbnN0YW5jZSA9IGFsbFdpZGdldEluc3RhbmNlQXJyYXlbaV0uaW5zdGFuY2U7XG4gICAgICAgIHdpZGdldEluc3RhbmNlLlJlZnJlc2goaW5uZXJWZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfSxcbiAgQnVpbGREYXNoYm9hcmRWaWV3OiBmdW5jdGlvbiBCdWlsZERhc2hib2FyZFZpZXcoKSB7XG4gICAgdmFyIHBhZ2VQTyA9IHRoaXMucGFnZVBPO1xuICAgIHZhciBkYXNoYm9hcmQgPSB7XG4gICAgICB2aWV3OiBcImdyaWRsYXlvdXRcIixcbiAgICAgIGlkOiBcImRhc2hib2FyZFZpZXdMYXlvdXRcIixcbiAgICAgIGdyaWRDb2x1bW5zOiBwYWdlUE8ucGFnZUNvbmZpZy5ncmlkQ29sdW1ucyxcbiAgICAgIGdyaWRSb3dzOiBwYWdlUE8ucGFnZUNvbmZpZy5ncmlkUm93cyxcbiAgICAgIGNlbGxIZWlnaHQ6IHBhZ2VQTy5wYWdlQ29uZmlnLmNlbGxIZWlnaHQsXG4gICAgICBmYWN0b3J5OiBmdW5jdGlvbiBmYWN0b3J5KG9iaikge1xuICAgICAgICB2YXIgd2lkZ2V0SWQgPSBvYmoubmFtZTtcbiAgICAgICAgdmFyIHdpZGdldEluc3RhbmNlSWQgPSBvYmouaWQ7XG4gICAgICAgIG9iai52aWV3ID0gXCJwYW5lbFwiO1xuICAgICAgICBvYmoucmVzaXplID0gZmFsc2U7XG4gICAgICAgIG9iai5pY29uID0gXCJsYXMgbGEtYmFycyB3aWRnZXRJbnN0YW5jZUlkX1wiICsgd2lkZ2V0SW5zdGFuY2VJZDtcbiAgICAgICAgb2JqLmJvZHkgPSB7XG4gICAgICAgICAgdmlldzogXCJ0ZW1wbGF0ZVwiLFxuICAgICAgICAgIGNzczogXCJ3ZWJpeF90ZW1wbGF0ZV9mb3Jfd2lkZ2V0XCIsXG4gICAgICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uIHRlbXBsYXRlKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjxkaXYgbmFtZT0nd2lkZ2V0Q29udGFpbmVyJyBjbGFzcz0nd2lkZ2V0LWNvbnRhaW5lci1vdXRlci13cmFwJz48L2Rpdj5cIjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHBhZ2VQTzogcGFnZVBPLFxuICAgICAgICAgICAgd2lkZ2V0SWQ6IHdpZGdldElkLFxuICAgICAgICAgICAgd2lkZ2V0SW5zdGFuY2VJZDogd2lkZ2V0SW5zdGFuY2VJZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIG9uVmlld1Nob3c6IGZ1bmN0aW9uIG9uVmlld1Nob3coKSB7fSxcbiAgICAgICAgICAgIG9uQWZ0ZXJMb2FkOiBmdW5jdGlvbiBvbkFmdGVyTG9hZCgpIHt9LFxuICAgICAgICAgICAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIocHJldl92aWV3KSB7fSxcbiAgICAgICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcihkYXRhKSB7fSxcbiAgICAgICAgICAgIG9uQWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uIG9uQWZ0ZXJSZW5kZXIoZGF0YSkge1xuICAgICAgICAgICAgICB2YXIgcGFnZVBPID0gdGhpcy5kYXRhLnBhZ2VQTztcbiAgICAgICAgICAgICAgdmFyIHdpZGdldElkID0gdGhpcy5kYXRhLndpZGdldElkO1xuICAgICAgICAgICAgICB2YXIgd2lkZ2V0SW5zdGFuY2VJZCA9IHRoaXMuZGF0YS53aWRnZXRJbnN0YW5jZUlkO1xuICAgICAgICAgICAgICB2YXIgd2lkZ2V0UE8gPSBBcnJheVV0aWxpdHkuV2hlcmVTaW5nbGUoUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kV2ViaXgud2lkZ2V0TGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS53aWRnZXRJZCA9PSB3aWRnZXRJZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHZhciAkd2lkZ2V0Q29udGFpbmVyID0gJCh0aGlzLiR2aWV3KS5maW5kKFwiW25hbWU9J3dpZGdldENvbnRhaW5lciddXCIpO1xuICAgICAgICAgICAgICB2YXIgd2lkZ2V0Q29udGFpbmVyV2lkdGggPSAkd2lkZ2V0Q29udGFpbmVyLndpZHRoKCk7XG4gICAgICAgICAgICAgIHZhciB3aWRnZXRDb250YWluZXJIZWlnaHQgPSAkd2lkZ2V0Q29udGFpbmVyLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZGdldEluc3RhbmNlID0gUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kV2ViaXguTmV3V2lkZ2V0SW5zdGFuY2Uod2lkZ2V0SW5zdGFuY2VJZCwgd2lkZ2V0UE8sIHBhZ2VQTywgJHdpZGdldENvbnRhaW5lciwgd2lkZ2V0Q29udGFpbmVyV2lkdGgsIHdpZGdldENvbnRhaW5lckhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBpZiAod2lkZ2V0SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgIFBvcnRsZXRQYWdlUnVudGltZURlcGVuZFdlYml4LmNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgICR3aWRnZXRDb250YWluZXIuYXBwZW5kKHdpZGdldEluc3RhbmNlLkNyZWF0ZVdpZGdldEVsZW0oKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICR3aWRnZXRDb250YWluZXIuYXBwZW5kKFwi5a6e5L6L5YyWV2lkZ2V05aSx6LSlLOivt+ajgOafpeS7o+eggTEhXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICR3aWRnZXRDb250YWluZXIuYXBwZW5kKFwi5a6e5L6L5YyWV2lkZ2V05aSx6LSlLOivt+ajgOafpeS7o+eggSFcIiArIGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuICAgICAgb246IHt9XG4gICAgfTtcbiAgICByZXR1cm4gZGFzaGJvYXJkO1xuICB9LFxuICBCdWlsZFdpZGdldENvbnRleHRNZW51OiBmdW5jdGlvbiBCdWlsZFdpZGdldENvbnRleHRNZW51KHdpZGdldEluc3RhbmNlSWQsIG1lbnVDb25maWcpIHtcbiAgICBpZiAobWVudUNvbmZpZy5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1lbnUgPSB3ZWJpeC51aSh7XG4gICAgICB2aWV3OiBcImNvbnRleHRtZW51XCIsXG4gICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soaWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZW51Q29uZmlnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1lbnVDb25maWdbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICAgIHZhciB3aWRnZXRJbnN0YW5jZSA9IFBvcnRsZXRQYWdlUnVudGltZURlcGVuZFdlYml4LkdldFdpZGdldEluc3RhbmNlQ2FjaGUod2lkZ2V0SW5zdGFuY2VJZCkuaW5zdGFuY2U7XG4gICAgICAgICAgICBtZW51Q29uZmlnW2ldLmNsaWNrLmNhbGwod2lkZ2V0SW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRhdGE6IG1lbnVDb25maWdcbiAgICB9KTtcbiAgICByZXR1cm4gbWVudTtcbiAgfSxcbiAgTmV3V2lkZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uIE5ld1dpZGdldEluc3RhbmNlKHdpZGdldEluc3RhbmNlSWQsIHdpZGdldFBPLCBwYWdlUE8sICR3aWRnZXRDb250YWluZXIsIHdpZGdldENvbnRhaW5lcldpZHRoLCB3aWRnZXRDb250YWluZXJIZWlnaHQpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHdpZGdldEluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShldmFsKHdpZGdldFBPLndpZGdldENsaWVudFJlbmRlcikpO1xuICAgICAgd2lkZ2V0SW5zdGFuY2Uud2lkZ2V0SW5zdGFuY2VJZCA9IHdpZGdldEluc3RhbmNlSWQ7XG4gICAgICB3aWRnZXRJbnN0YW5jZS53aWRnZXRQTyA9IHdpZGdldFBPO1xuICAgICAgd2lkZ2V0SW5zdGFuY2UucGFnZVBPID0gcGFnZVBPO1xuICAgICAgd2lkZ2V0SW5zdGFuY2UuJHdpZGdldENvbnRhaW5lciA9ICR3aWRnZXRDb250YWluZXI7XG4gICAgICB3aWRnZXRJbnN0YW5jZS53aWRnZXRDb250YWluZXJXaWR0aCA9IHdpZGdldENvbnRhaW5lcldpZHRoO1xuICAgICAgd2lkZ2V0SW5zdGFuY2Uud2lkZ2V0Q29udGFpbmVySGVpZ2h0ID0gd2lkZ2V0Q29udGFpbmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZGdldENvbnRleHRNZW51ID0gUG9ydGxldFBhZ2VSdW50aW1lRGVwZW5kV2ViaXguQnVpbGRXaWRnZXRDb250ZXh0TWVudSh3aWRnZXRJbnN0YW5jZUlkLCB3aWRnZXRJbnN0YW5jZS5HZXRDb250ZXh0TWVudUNvbmZpZygpKTtcbiAgICAgIHRoaXMud2lkZ2V0SW5zdGFuY2VDYWNoZUFycmF5LnB1c2goe1xuICAgICAgICBcIndpZGdldEluc3RhbmNlSWRcIjogd2lkZ2V0SW5zdGFuY2VJZCxcbiAgICAgICAgXCJpbnN0YW5jZVwiOiB3aWRnZXRJbnN0YW5jZSxcbiAgICAgICAgXCJ3aWRnZXRDb250ZXh0TWVudVwiOiB3aWRnZXRDb250ZXh0TWVudVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gd2lkZ2V0SW5zdGFuY2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH0sXG4gIEdldFdpZGdldEluc3RhbmNlQ2FjaGU6IGZ1bmN0aW9uIEdldFdpZGdldEluc3RhbmNlQ2FjaGUod2lkZ2V0SW5zdGFuY2VJZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aWRnZXRJbnN0YW5jZUNhY2hlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLndpZGdldEluc3RhbmNlQ2FjaGVBcnJheVtpXS53aWRnZXRJbnN0YW5jZUlkID09IHdpZGdldEluc3RhbmNlSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkZ2V0SW5zdGFuY2VDYWNoZUFycmF5W2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgcG9ydGxldFV0aWxpdHkgPSB7XG4gIHJlZnJlc2hWZXJzaW9uS2V5OiBcInBvcnRsZXRVdGlsaXR5LVJlZnJlc2hWZXJzaW9uXCIsXG4gIGlubmVyVmVyc2lvbjogbnVsbCxcbiAgYXV0b1JlZnJlc2hDb250cm9sRnVuYzogbnVsbCxcbiAgR2V0UmVmcmVzaFZlcnNpb246IGZ1bmN0aW9uIEdldFJlZnJlc2hWZXJzaW9uKCkge1xuICAgIHZhciByZWZyZXNoVmVyc2lvbiA9IExvY2FsU3RvcmFnZVV0aWxpdHkuZ2V0SXRlbSh0aGlzLnJlZnJlc2hWZXJzaW9uS2V5KTtcblxuICAgIGlmICghcmVmcmVzaFZlcnNpb24pIHtcbiAgICAgIHJlZnJlc2hWZXJzaW9uID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaFZlcnNpb247XG4gIH0sXG4gIFVwZGF0ZVJlZnJlc2hWZXJzaW9uOiBmdW5jdGlvbiBVcGRhdGVSZWZyZXNoVmVyc2lvbigpIHtcbiAgICB2YXIgcmVmcmVzaFZlcnNpb24gPSB0aGlzLkdldFJlZnJlc2hWZXJzaW9uKCk7XG4gICAgcmVmcmVzaFZlcnNpb24rKztcbiAgICBMb2NhbFN0b3JhZ2VVdGlsaXR5LnNldEl0ZW0odGhpcy5yZWZyZXNoVmVyc2lvbktleSwgcmVmcmVzaFZlcnNpb24pO1xuICB9LFxuICBJbml0UmVmcmVzaFN0YXR1czogZnVuY3Rpb24gSW5pdFJlZnJlc2hTdGF0dXMoKSB7XG4gICAgTG9jYWxTdG9yYWdlVXRpbGl0eS5zZXRJdGVtKHRoaXMucmVmcmVzaFZlcnNpb25LZXksIDEpO1xuICAgIHRoaXMuVXBkYXRlUmVmcmVzaFZlcnNpb24oKTtcbiAgICB0aGlzLmlubmVyVmVyc2lvbiA9IHRoaXMuR2V0UmVmcmVzaFZlcnNpb24oKTtcbiAgfSxcbiAgTmVlZFRvQmVSZWZyZXNoOiBmdW5jdGlvbiBOZWVkVG9CZVJlZnJlc2goKSB7XG4gICAgdmFyIG5ld1JlZnJlc2hWZXJzaW9uID0gdGhpcy5HZXRSZWZyZXNoVmVyc2lvbigpO1xuXG4gICAgaWYgKG5ld1JlZnJlc2hWZXJzaW9uID4gdGhpcy5pbm5lclZlcnNpb24pIHtcbiAgICAgIHRoaXMuaW5uZXJWZXJzaW9uID0gbmV3UmVmcmVzaFZlcnNpb247XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIFN0YXJ0QXV0b1JlZnJlc2hDb250cm9sOiBmdW5jdGlvbiBTdGFydEF1dG9SZWZyZXNoQ29udHJvbChyZWZyZXNoRnVuYywgY2FsbGVyKSB7XG4gICAgcG9ydGxldFV0aWxpdHkuYXV0b1JlZnJlc2hDb250cm9sRnVuYyA9IHJlZnJlc2hGdW5jO1xuICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocG9ydGxldFV0aWxpdHkuTmVlZFRvQmVSZWZyZXNoKCkpIHtcbiAgICAgICAgcG9ydGxldFV0aWxpdHkuYXV0b1JlZnJlc2hDb250cm9sRnVuYy5jYWxsKGNhbGxlciwgcG9ydGxldFV0aWxpdHkuaW5uZXJWZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFdpZGdldENvbnRyb2wgPSB7XG4gIENyZWF0ZVdpZGdldEVsZW06IGZ1bmN0aW9uIENyZWF0ZVdpZGdldEVsZW0obWVudUNvbmZpZykge1xuICAgIHRoaXMuJHdpZGdldENvbnRhaW5lcklubmVyV3JhcCA9ICQoXCI8ZGl2IGNsYXNzPSd3aWRnZXQtY29udGFpbmVyLWlubmVyLXdyYXAnPjwvZGl2PlwiKTtcbiAgICB0aGlzLiR3aWRnZXRDb250YWluZXJJbm5lcldyYXAuYXBwZW5kKHRoaXMuX0J1aWxkVG9vbEJhcih0aGlzLndpZGdldFBPLCB0aGlzLndpZGdldEluc3RhbmNlSWQsIG1lbnVDb25maWcpKTtcbiAgICB0aGlzLiR3aWRnZXRCb2R5ID0gdGhpcy5fQnVpbGRCb2R5RWxlbSgpO1xuICAgIHRoaXMuJHdpZGdldENvbnRhaW5lcklubmVyV3JhcC5hcHBlbmQodGhpcy4kd2lkZ2V0Qm9keSk7XG4gICAgcmV0dXJuIHRoaXMuJHdpZGdldENvbnRhaW5lcklubmVyV3JhcDtcbiAgfSxcbiAgTm90UmVmcmVzaDogZnVuY3Rpb24gTm90UmVmcmVzaChpbm5lclZlcnNpb24pIHt9LFxuICBfQnVpbGRUb29sQmFyOiBmdW5jdGlvbiBfQnVpbGRUb29sQmFyKHdpZGdldFBPLCB3aWRnZXRJbnN0YW5jZUlkLCBtZW51Q29uZmlnKSB7XG4gICAgdmFyIG1lbnVFbGVtSWQgPSBcIm1lbnVfXCIgKyB3aWRnZXRJbnN0YW5jZUlkO1xuICAgIHZhciB3aWRnZXRUb29sQmFyID0gJChcIjxkaXYgY2xhc3M9J3dpZGdldC10b29sLWJhcic+PGRpdiBjbGFzcz0nd2lkZ2V0LXRpdGxlJz48aSBjbGFzcz0nbGFzIGxhLWFuZ2xlLXJpZ2h0Jz48L2k+XCIgKyB3aWRnZXRQTy53aWRnZXRUaXRsZSArIFwiPC9kaXY+PGRpdiBjbGFzcz0nd2lkZ2V0LW1lbnUnIGlkPSdcIiArIG1lbnVFbGVtSWQgKyBcIic+PGkgY2xhc3M9J2xhcyBsYS1hbGlnbi1qdXN0aWZ5IGNvbnRleHQtbWVudS1vbmUnPjwvaT48L2Rpdj48L2Rpdj5cIik7XG5cbiAgICBpZiAoSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nKG1lbnVDb25maWcpICE9IFwie31cIikge1xuICAgICAgJC5jb250ZXh0TWVudSh7XG4gICAgICAgIHNlbGVjdG9yOiBcIiNcIiArIG1lbnVFbGVtSWQsXG4gICAgICAgIHRyaWdnZXI6ICdsZWZ0JyxcbiAgICAgICAgaXRlbXM6IG1lbnVDb25maWdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB3aWRnZXRUb29sQmFyO1xuICB9LFxuICBHZXREZWZhdWx0Q29udGV4dE1lbnVDb25maWc6IGZ1bmN0aW9uIEdldERlZmF1bHRDb250ZXh0TWVudUNvbmZpZygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIFwiaW5zdHJ1Y3Rpb25zXCI6IHtcbiAgICAgICAgbmFtZTogXCLor6bmg4VcIixcbiAgICAgICAgaWNvbjogXCJlZGl0XCIsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhpdGVtS2V5LCBvcHQsIGUpIHtcbiAgICAgICAgICBfdGhpcy5PbkNvbnRleHRNZW51SW5zdHJ1Y3Rpb25zRXZlbnQoKTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLndpZGdldEluc3RhbmNlSWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJtb3JlXCI6IHtcbiAgICAgICAgbmFtZTogXCLmm7TlpJpcIixcbiAgICAgICAgaWNvbjogXCJlZGl0XCIsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhpdGVtS2V5LCBvcHQsIGUpIHtcbiAgICAgICAgICBfdGhpcy5PbkNvbnRleHRNZW51TW9yZUV2ZW50KCk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy53aWRnZXRJbnN0YW5jZUlkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwic2VwMVwiOiBcIi0tLS0tLS0tLVwiLFxuICAgICAgXCJxdWl0XCI6IHtcbiAgICAgICAgbmFtZTogXCLpgIDlh7pcIixcbiAgICAgICAgaWNvbjogXCJjb250ZXh0LW1lbnUtaWNvbiBjb250ZXh0LW1lbnUtaWNvbi1xdWl0XCIsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhpdGVtS2V5LCBvcHQsIGUpIHt9XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgR2V0RW1wdHlDb250ZXh0TWVudUNvbmZpZzogZnVuY3Rpb24gR2V0RW1wdHlDb250ZXh0TWVudUNvbmZpZygpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBXaWRnZXREZW1vRGF0YSA9IHtcbiAgR2V0RGVtb0JvZHk6IGZ1bmN0aW9uIEdldERlbW9Cb2R5KCkge1xuICAgIHJldHVybiBcIndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CC5LuOZ2l0aHVi5LiK5LiL6L2977yad2luc3fkuIvovb3vvIzopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCd2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9ruaWh+S7tuOAgndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CC5LuOZ2l0aHVi5LiK5LiL6L2977yad2luc3fkuIvovb3vvIzopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCd2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9ruaWh+S7tuOAgndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CC5LuOZ2l0aHVi5LiK5LiL6L2977yad2luc3fkuIvovb3vvIzopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCd2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9ruaWh+S7tuOAgndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CC5LuOZ2l0aHVi5LiK5LiL6L2977yad2luc3fkuIvovb3vvIzopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCXCI7XG4gIH0sXG4gIEdldFF1aWNrRW50cnlEZW1vUHJvcHM6IGZ1bmN0aW9uIEdldFF1aWNrRW50cnlEZW1vUHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFF1aWNrRW50cmllczogW3tcbiAgICAgICAgbmFtZTogXCLkuovliqHlj5HotbdcIixcbiAgICAgICAgY2FwdGlvbjogXCLkuovliqHlj5HotbdcIixcbiAgICAgICAgb3BlblR5cGU6IFwiaW5uZXJJZnJhbWVcIixcbiAgICAgICAgdXJsOiBcIi9RQ1N5c3RlbS9KQjREQ0J1aWxkZXJDbGllbnQvSFRNTC9Xb3JrRmxvdy9SdW50aW1lL015Qm9vdGFibGVNeU1vZGVscy5odG1sP21lbnVJZD1RQ1N5c3RlbS1Xb3JrRmxvdy1DbGllbnQtQm9vdGFibGVcIixcbiAgICAgICAgaW1hZ2U6IFwiMDI2NS5wbmdcIlxuICAgICAgfSwge1xuICAgICAgICBuYW1lOiBcIuWPkeaWh+WPkei1t1wiLFxuICAgICAgICBjYXB0aW9uOiBcIuWPkeaWh+WPkei1t1wiLFxuICAgICAgICBvcGVuVHlwZTogXCJtZW51XCIsXG4gICAgICAgIGltYWdlOiBcIjAyMjMucG5nXCJcbiAgICAgIH0sIHtcbiAgICAgICAgbmFtZTogXCLmlLbmloflj5HotbdcIixcbiAgICAgICAgY2FwdGlvbjogXCLmlLbmloflj5HotbdcIixcbiAgICAgICAgb3BlblR5cGU6IFwibWVudVwiLFxuICAgICAgICBpbWFnZTogXCIwMjU1LnBuZ1wiXG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6IFwi5paH5Lu25Lyg6YCSXCIsXG4gICAgICAgIGNhcHRpb246IFwi5paH5Lu25Lyg6YCSXCIsXG4gICAgICAgIG9wZW5UeXBlOiBcIm1lbnVcIixcbiAgICAgICAgaW1hZ2U6IFwiMDI0Ny5wbmdcIlxuICAgICAgfV1cbiAgICB9O1xuICB9LFxuICBHZXRUb0RvTGlzdFdpZGdldFByb3BzOiBmdW5jdGlvbiBHZXRUb0RvTGlzdFdpZGdldFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaXN0OiB7XG4gICAgICAgIGdldExpc3REYXRlUmVzdDogXCIvJShhcHBDb250ZXh0UGF0aClzL1Jlc3QvRXh0ZW5zaW9uL1BvcnRsZXQvV29ya2Zsb3dUcmFuc2Zvcm0vR2V0TXlQcm9jZXNzVGFza0xpc3RcIixcbiAgICAgICAgZ2V0TGlzdERhdGVSZXN0UGFyYXM6IHtcbiAgICAgICAgICBtb2RlbENhdGVnb3J5OiBcIkdlbmVyYWxQcm9jZXNzXCIsXG4gICAgICAgICAgcGFnZVNpemU6IDEyXG4gICAgICAgIH0sXG4gICAgICAgIG9wZW5UeXBlOiBcImZyYW1lSWZyYW1lXCIsXG4gICAgICAgIGRpYWxvZ0NvbmZpZzoge1xuICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICB0aXRsZTogXCJKQjREQ1wiLFxuICAgICAgICAgIG1vZGFsOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGZpZWxkUGFyc2luZzoge1xuICAgICAgICAgIHRpbWVGb3JtYXQ6IFwiJShpbnN0YW5jZUVudGl0eS5pbnN0Q3JlYXRlVGltZSlzXCIsXG4gICAgICAgICAgdGl0bGVGb3JtYXQ6IFwiW+agh+mimF0lKGluc3RhbmNlRW50aXR5Lmluc3RUaXRsZSlzLSUoZXh0YXNrQ3VyTm9kZU5hbWUpc1wiXG4gICAgICAgIH0sXG4gICAgICAgIG9wZW5Vcmw6IFwiLyUoYXBwQ29udGV4dFBhdGgpcy9KQjREQ0J1aWxkZXJDbGllbnQvSFRNTC9Xb3JrRmxvdy9SdW50aW1lL015UHJvY2Vzc0luc3RhbmNlTWFpblRhc2suaHRtbD9vcD11cGRhdGUmZXh0YXNrSWQ9JShleHRhc2tJZClzXCIsXG4gICAgICAgIHByaW50Um93RGF0YTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtb3JlOiB7XG4gICAgICAgIG9wZW5UeXBlOiBcImZyYW1lSWZyYW1lXCIsXG4gICAgICAgIGRpYWxvZ0NvbmZpZzoge1xuICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICB0aXRsZTogXCJKQjREQ1wiLFxuICAgICAgICAgIG1vZGFsOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9wZW5Vcmw6IFwiLyUoYXBwQ29udGV4dFBhdGgpcy9KQjREQ0J1aWxkZXJDbGllbnQvSFRNTC9Xb3JrRmxvdy9SdW50aW1lL015UHJvY2Vzc0luc3RhbmNlTWFpblRhc2tMaXN0Lmh0bWw/bWVudUlkPVFDU3lzdGVtLVdvcmtGbG93LUNsaWVudC1NeVRhc2tcIlxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIEdldERlbW9Ub0RvTGlzdERhdGE6IGZ1bmN0aW9uIEdldERlbW9Ub0RvTGlzdERhdGEoKSB7XG4gICAgcmV0dXJuIFt7XG4gICAgICBwcmVmaXg6IFwi5q2j5bi4XCIsXG4gICAgICB0aXRsZTogXCJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAglwiLFxuICAgICAgZGF0ZTogXCIyMDIxLTA1LTA2IDEyOjU1OjEyXCJcbiAgICB9LCB7XG4gICAgICBwcmVmaXg6IFwi5Yqg5oClXCIsXG4gICAgICB0aXRsZTogXCJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJtcIixcbiAgICAgIGRhdGU6IFwiMjAyMS0wNS0wNSAxMjo1NToxMlwiXG4gICAgfSwge1xuICAgICAgcHJlZml4OiBcIumHjeimgVwiLFxuICAgICAgdGl0bGU6IFwid2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgIJcIixcbiAgICAgIGRhdGU6IFwiMjAyMS0wNS0wNSAxMjo1NToxMlwiXG4gICAgfSwge1xuICAgICAgcHJlZml4OiBcIumHjeimgVwiLFxuICAgICAgdGl0bGU6IFwid2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCd2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybXCIsXG4gICAgICBkYXRlOiBcIjIwMjEtMDUtMDUgMTI6NTU6MTJcIlxuICAgIH0sIHtcbiAgICAgIHByZWZpeDogXCLmraPluLhcIixcbiAgICAgIHRpdGxlOiBcIndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CCXCIsXG4gICAgICBkYXRlOiBcIjIwMjEtMDUtMDUgMTI6NTU6MTJcIlxuICAgIH0sIHtcbiAgICAgIHByZWZpeDogXCLmraPluLhcIixcbiAgICAgIHRpdGxlOiBcIndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CCc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9ruaWh+S7tuOAgndcIixcbiAgICAgIGRhdGU6IFwiMjAyMS0wNS0wNSAxMjo1NToxMlwiXG4gICAgfSwge1xuICAgICAgcHJlZml4OiBcIuato+W4uFwiLFxuICAgICAgdGl0bGU6IFwid2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgIIueG1s6YWN572u5paH5Lu244CCd2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva5cIixcbiAgICAgIGRhdGU6IFwiMjAyMS0wNS0wNSAxMjo1NToxMlwiXG4gICAgfSwge1xuICAgICAgcHJlZml4OiBcIuato+W4uFwiLFxuICAgICAgdGl0bGU6IFwid2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgIJzd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9ruaWh+S7tuOAgndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CC5LuOZ2l0aHVi5LiK5LiL6L2977yad2luc3fkuIvovb3vvIzopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCd1wiLFxuICAgICAgZGF0ZTogXCIyMDIxLTA1LTA1IDEyOjU1OjEyXCJcbiAgICB9LCB7XG4gICAgICBwcmVmaXg6IFwi5q2j5bi4XCIsXG4gICAgICB0aXRsZTogXCJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAgi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9rlwiLFxuICAgICAgZGF0ZTogXCIyMDIxLTA1LTA1IDEyOjU1OjEyXCJcbiAgICB9LCB7XG4gICAgICBwcmVmaXg6IFwi5q2j5bi4XCIsXG4gICAgICB0aXRsZTogXCJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAgi54bWzphY3nva7mlofku7bjgIJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAguS7jmdpdGh1YuS4iuS4i+i9ve+8mndpbnN35LiL6L2977yM6KaB5LiL6L2955qE5paH5Lu25pyJ5Lik5Liq77yaMS53aW5zdy5leGXnqIvluo/vvJsyLnhtbOmFjee9rlwiLFxuICAgICAgZGF0ZTogXCIyMDIxLTA1LTA1IDEyOjU1OjEyXCJcbiAgICB9LCB7XG4gICAgICBwcmVmaXg6IFwi5q2j5bi4XCIsXG4gICAgICB0aXRsZTogXCJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAglwiLFxuICAgICAgZGF0ZTogXCIyMDIxLTA1LTA1IDEyOjU1OjEyXCJcbiAgICB9LCB7XG4gICAgICBwcmVmaXg6IFwi5q2j5bi4XCIsXG4gICAgICB0aXRsZTogXCJ3aW5zd+eahOS9v+eUqOavlOi+g+eugOWNleOAgnN355qE5L2/55So5q+U6L6D566A5Y2V44CC5LuOZ2l0aHVi5LiK5LiL6L2977yad2luc3fkuIvovb3vvIzopoHkuIvovb3nmoTmlofku7bmnInkuKTkuKrvvJoxLndpbnN3LmV4Zeeoi+W6j++8mzIueG1s6YWN572u5paH5Lu244CCd2luc3fnmoTkvb/nlKjmr5TovoPnroDljZXjgILku45naXRodWLkuIrkuIvovb3vvJp3aW5zd+S4i+i9ve+8jOimgeS4i+i9veeahOaWh+S7tuacieS4pOS4qu+8mjEud2luc3cuZXhl56iL5bqP77ybMi54bWzphY3nva7mlofku7bjgIJ3XCIsXG4gICAgICBkYXRlOiBcIjIwMjEtMDUtMDUgMTI6NTU6MTJcIlxuICAgIH0sIHtcbiAgICAgIHByZWZpeDogXCLmraPluLhcIixcbiAgICAgIHRpdGxlOiBcIndpbnN355qE5L2/55So5q+U6L6D566A5Y2V44CCXCIsXG4gICAgICBkYXRlOiBcIjIwMjEtMDUtMDUgMTI6NTU6MTJcIlxuICAgIH1dO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUG9ydGxldERlZmF1bHRMaXN0V2lkZ2V0Q29udHJvbCA9IHtcbiAgd2lkZ2V0SW5zdGFuY2VJZDogXCJcIixcbiAgd2lkZ2V0UE86IG51bGwsXG4gIHBhZ2VQTzogbnVsbCxcbiAgaG9zdDogbnVsbCxcbiAgJHdpZGdldEJvZHk6IG51bGwsXG4gICR3aWRnZXRDb250YWluZXJJbm5lcldyYXA6IG51bGwsXG4gICR3aWRnZXRDb250YWluZXI6IG51bGwsXG4gIHdpZGdldENvbnRhaW5lcldpZHRoOiBudWxsLFxuICB3aWRnZXRDb250YWluZXJIZWlnaHQ6IG51bGwsXG4gIENyZWF0ZVdpZGdldEVsZW06IGZ1bmN0aW9uIENyZWF0ZVdpZGdldEVsZW0oKSB7XG4gICAgcmV0dXJuIFdpZGdldENvbnRyb2wuQ3JlYXRlV2lkZ2V0RWxlbS5jYWxsKHRoaXMsIHRoaXMuR2V0Q29udGV4dE1lbnVDb25maWcoKSk7XG4gIH0sXG4gIFJlZnJlc2g6IGZ1bmN0aW9uIFJlZnJlc2goKSB7XG4gICAgdGhpcy4kd2lkZ2V0Qm9keS5yZW1vdmUoKTtcbiAgICB0aGlzLiR3aWRnZXRCb2R5ID0gdGhpcy5fQnVpbGRCb2R5RWxlbSgpO1xuICAgIHRoaXMuJHdpZGdldENvbnRhaW5lcklubmVyV3JhcC5hcHBlbmQodGhpcy4kd2lkZ2V0Qm9keSk7XG4gICAgY29uc29sZS5sb2coXCJQb3J0bGV0RGVmYXVsdExpc3RXaWRnZXRDb250cm9sLlJlZnJlc2hcIik7XG4gIH0sXG4gIEdldENvbnRleHRNZW51Q29uZmlnOiBmdW5jdGlvbiBHZXRDb250ZXh0TWVudUNvbmZpZygpIHtcbiAgICByZXR1cm4gV2lkZ2V0Q29udHJvbC5HZXREZWZhdWx0Q29udGV4dE1lbnVDb25maWcuY2FsbCh0aGlzKTtcbiAgfSxcbiAgT25Db250ZXh0TWVudUluc3RydWN0aW9uc0V2ZW50OiBmdW5jdGlvbiBPbkNvbnRleHRNZW51SW5zdHJ1Y3Rpb25zRXZlbnQoKSB7XG4gICAgY29uc29sZS5sb2coXCLmmoLml6Dku4vnu40hXCIpO1xuICB9LFxuICBPbkNvbnRleHRNZW51TW9yZUV2ZW50OiBmdW5jdGlvbiBPbkNvbnRleHRNZW51TW9yZUV2ZW50KCkge1xuICAgIHZhciBtb3JlUHJvcCA9IHRoaXMud2lkZ2V0UE8ud2lkZ2V0UHJvcGVydGllcy5tb3JlO1xuICAgIHZhciBkaWFsb2dDb25maWcgPSBtb3JlUHJvcC5kaWFsb2dDb25maWc7XG5cbiAgICBpZiAobW9yZVByb3Aub3BlblR5cGUgPT0gXCJmcmFtZUlmcmFtZVwiKSB7XG4gICAgICB2YXIgb3BlblVybCA9IG1vcmVQcm9wLm9wZW5Vcmw7XG4gICAgICBvcGVuVXJsID0gU3RyaW5nVXRpbGl0eS5Gb3JtYXRXaXRoRGVmYXVsdFZhbHVlKG9wZW5VcmwsIHRydWUsIG51bGwsIG51bGwpO1xuICAgICAgRGlhbG9nVXRpbGl0eS5GcmFtZV9PcGVuSWZyYW1lV2luZG93KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dJZDA1LCBvcGVuVXJsLCBkaWFsb2dDb25maWcsIDEsIHRydWUpO1xuICAgIH1cbiAgfSxcbiAgX0J1aWxkVG9vbEJhcjogV2lkZ2V0Q29udHJvbC5fQnVpbGRUb29sQmFyLFxuICBfQnVpbGRCb2R5RWxlbTogZnVuY3Rpb24gX0J1aWxkQm9keUVsZW0oKSB7XG4gICAgdmFyIHJlc3RVcmwgPSB0aGlzLndpZGdldFBPLndpZGdldFByb3BlcnRpZXMubGlzdC5nZXRMaXN0RGF0ZVJlc3Q7XG4gICAgdmFyIHJlc3RQYXJhcyA9IHRoaXMud2lkZ2V0UE8ud2lkZ2V0UHJvcGVydGllcy5saXN0LmdldExpc3REYXRlUmVzdFBhcmFzO1xuICAgIEFqYXhVdGlsaXR5LlBvc3QocmVzdFVybCwgcmVzdFBhcmFzLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgdmFyIHdpZGdldFByb3BlcnRpZXMgPSB0aGlzLndpZGdldFBPLndpZGdldFByb3BlcnRpZXM7XG4gICAgICAgIHZhciAkbGlzdElubmVyV3JhcCA9IHRoaXMuJHdpZGdldEJvZHkuZmluZChcIi53aWRnZXQtbGlzdC1pbm5lci13cmFwXCIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LmRhdGEubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciByb3dEYXRhID0gcmVzdWx0LmRhdGEubGlzdFtpXTtcblxuICAgICAgICAgIHZhciAkc2luZ2xlUm93RWxlbSA9IHRoaXMuX0J1aWxkU2luZ2xlUm93KHJvd0RhdGEpO1xuXG4gICAgICAgICAgJGxpc3RJbm5lcldyYXAuYXBwZW5kKCRzaW5nbGVSb3dFbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIHZhciAkd2lkZ2V0Qm9keSA9ICQoXCI8ZGl2IGNsYXNzPSd3aWRnZXQtYm9keSc+PGRpdiBjbGFzcz0nd2lkZ2V0LWxpc3Qtb3V0ZXItd3JhcCc+PGRpdiBjbGFzcz0nd2lkZ2V0LWxpc3QtaW5uZXItd3JhcCc+PC9kaXY+PC9kaXY+PC9kaXY+XCIpO1xuICAgIHJldHVybiAkd2lkZ2V0Qm9keTtcbiAgfSxcbiAgX0J1aWxkU2luZ2xlUm93OiBmdW5jdGlvbiBfQnVpbGRTaW5nbGVSb3cocm93RGF0YSkge1xuICAgIGlmICh0aGlzLndpZGdldFBPLndpZGdldFByb3BlcnRpZXMubGlzdC5wcmludFJvd0RhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKHJvd0RhdGEpO1xuICAgIH1cblxuICAgIHZhciBmaWVsZFBhcnNpbmcgPSB0aGlzLndpZGdldFBPLndpZGdldFByb3BlcnRpZXMubGlzdC5maWVsZFBhcnNpbmc7XG4gICAgdmFyIHRpdGxlV2lkdGggPSB0aGlzLndpZGdldENvbnRhaW5lcldpZHRoIC0gNjY7XG4gICAgdmFyIHRpbWVTdHIgPSBTdHJpbmdVdGlsaXR5LkZvcm1hdFNwcmludGZKc29uT2JqKGZpZWxkUGFyc2luZy50aW1lRm9ybWF0LCByb3dEYXRhKTtcbiAgICB2YXIgdGltZU9iaiA9IERhdGVVdGlsaXR5LkNvbnZlcnRGcm9tU3RyaW5nKHRpbWVTdHIpO1xuICAgIHZhciBkYXRlU2hvcnQgPSBEYXRlVXRpbGl0eS5Gb3JtYXQodGltZU9iaiwgXCJNTS1kZFwiKTtcbiAgICB2YXIgdGl0bGVTdHIgPSBTdHJpbmdVdGlsaXR5LkZvcm1hdFNwcmludGZKc29uT2JqKGZpZWxkUGFyc2luZy50aXRsZUZvcm1hdCwgcm93RGF0YSk7XG4gICAgdmFyICRyb3dFbGVtID0gJChcIjxkaXYgY2xhc3M9J3dpZGdldC1saXN0LXJvdy13cmFwJz48ZGl2IGNsYXNzPSd3aWRnZXQtbGlzdC10aXRsZScgc3R5bGU9J3dpZHRoOiBcIiArIHRpdGxlV2lkdGggKyBcInB4O21hcmdpbi1yaWdodDogNHB4Jz48aSBjbGFzcz1cXFwibGFzIGxhLWNoZXZyb24tcmlnaHRcXFwiPjwvaT5cIiArIHRpdGxlU3RyICsgXCI8L2Rpdj48ZGl2IGNsYXNzPSd3aWRnZXQtbGlzdC1kYXRlJyBzdHlsZT0nd2lkdGg6IDQwcHg7Jz5cIiArIGRhdGVTaG9ydCArIFwiPC9kaXY+PC9kaXY+XCIpO1xuICAgICRyb3dFbGVtLmJpbmQoXCJjbGlja1wiLCB7XG4gICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgXCJ3aWRnZXRJbnN0YW5jZVwiOiB0aGlzXG4gICAgfSwgZnVuY3Rpb24gKHNlbmRlcikge1xuICAgICAgc2VuZGVyLmRhdGEud2lkZ2V0SW5zdGFuY2UuX0J1aWxkU2luZ2xlUm93Q2xpY2tFdmVudC5jYWxsKHNlbmRlci5kYXRhLndpZGdldEluc3RhbmNlLCBzZW5kZXIuZGF0YS5yb3dEYXRhKTtcbiAgICB9KTtcbiAgICByZXR1cm4gJHJvd0VsZW07XG4gIH0sXG4gIF9CdWlsZFNpbmdsZVJvd0NsaWNrRXZlbnQ6IGZ1bmN0aW9uIF9CdWlsZFNpbmdsZVJvd0NsaWNrRXZlbnQocm93RGF0YSkge1xuICAgIHZhciBsaXN0UHJvcCA9IHRoaXMud2lkZ2V0UE8ud2lkZ2V0UHJvcGVydGllcy5saXN0O1xuICAgIHZhciBkaWFsb2dDb25maWcgPSBsaXN0UHJvcC5kaWFsb2dDb25maWc7XG5cbiAgICBmdW5jdGlvbiBvcGVuVXJsRnVuYyhvcGVuVXJsLCBkaWFsb2dDb25maWcpIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuRnJhbWVfT3BlbklmcmFtZVdpbmRvdyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQwNiwgb3BlblVybCwgZGlhbG9nQ29uZmlnLCAxLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAobGlzdFByb3Aub3BlblVybEZvcm1hdFJlc3QpIHt9IGVsc2Uge1xuICAgICAgaWYgKGxpc3RQcm9wLm9wZW5UeXBlID09IFwiZnJhbWVJZnJhbWVcIikge1xuICAgICAgICB2YXIgb3BlblVybCA9IGxpc3RQcm9wLm9wZW5Vcmw7XG4gICAgICAgIG9wZW5VcmwgPSBTdHJpbmdVdGlsaXR5LkZvcm1hdFdpdGhEZWZhdWx0VmFsdWUob3BlblVybCwgdHJ1ZSwgcm93RGF0YSwgbnVsbCk7XG4gICAgICAgIG9wZW5VcmxGdW5jKG9wZW5VcmwsIGRpYWxvZ0NvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2cocm93RGF0YSk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBQb3J0bGV0RGVmYXVsdFF1aWNrRW50cnlXaWRnZXRDb250cm9sID0ge1xuICB3aWRnZXRJbnN0YW5jZUlkOiBcIlwiLFxuICB3aWRnZXRQTzogbnVsbCxcbiAgcGFnZVBPOiBudWxsLFxuICBob3N0OiBudWxsLFxuICAkd2lkZ2V0Qm9keTogbnVsbCxcbiAgJHdpZGdldENvbnRhaW5lcklubmVyV3JhcDogbnVsbCxcbiAgJHdpZGdldENvbnRhaW5lcjogbnVsbCxcbiAgd2lkZ2V0Q29udGFpbmVyV2lkdGg6IG51bGwsXG4gIHdpZGdldENvbnRhaW5lckhlaWdodDogbnVsbCxcbiAgQ3JlYXRlV2lkZ2V0RWxlbTogZnVuY3Rpb24gQ3JlYXRlV2lkZ2V0RWxlbSgpIHtcbiAgICByZXR1cm4gV2lkZ2V0Q29udHJvbC5DcmVhdGVXaWRnZXRFbGVtLmNhbGwodGhpcywgdGhpcy5HZXRDb250ZXh0TWVudUNvbmZpZygpKTtcbiAgfSxcbiAgUmVmcmVzaDogV2lkZ2V0Q29udHJvbC5Ob3RSZWZyZXNoLFxuICBHZXRDb250ZXh0TWVudUNvbmZpZzogZnVuY3Rpb24gR2V0Q29udGV4dE1lbnVDb25maWcoKSB7XG4gICAgcmV0dXJuIFdpZGdldENvbnRyb2wuR2V0RW1wdHlDb250ZXh0TWVudUNvbmZpZy5jYWxsKHRoaXMpO1xuICB9LFxuICBfQnVpbGRUb29sQmFyOiBXaWRnZXRDb250cm9sLl9CdWlsZFRvb2xCYXIsXG4gIF9CdWlsZEJvZHlFbGVtOiBmdW5jdGlvbiBfQnVpbGRCb2R5RWxlbSgpIHtcbiAgICB2YXIgd2lkZ2V0UHJvcHMgPSB0aGlzLndpZGdldFBPLndpZGdldFByb3BlcnRpZXM7XG4gICAgdmFyICR3aWRnZXRCb2R5ID0gJChcIjxkaXYgY2xhc3M9J3dpZGdldC1ib2R5Jz48ZGl2IGNsYXNzPSd3aWRnZXQtcXVpY2stZW50cnktb3V0ZXItd3JhcCc+PGRpdiBjbGFzcz0nd2lkZ2V0LXF1aWNrLWVudHJ5LWlubmVyLXdyYXAnPjwvZGl2PjwvZGl2PjwvZGl2PlwiKTtcbiAgICB2YXIgJHF1aWNrRW50cnlJbm5lcldyYXAgPSAkd2lkZ2V0Qm9keS5maW5kKFwiLndpZGdldC1xdWljay1lbnRyeS1pbm5lci13cmFwXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWRnZXRQcm9wcy5RdWlja0VudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBxdWlja0VudHJ5ID0gd2lkZ2V0UHJvcHMuUXVpY2tFbnRyaWVzW2ldO1xuXG4gICAgICB2YXIgJHF1aWNrRWxlbSA9IHRoaXMuX0J1aWxkU2luZ2xlUXVpY2tFbnRyeShxdWlja0VudHJ5KTtcblxuICAgICAgJHF1aWNrRW50cnlJbm5lcldyYXAuYXBwZW5kKCRxdWlja0VsZW0pO1xuICAgIH1cblxuICAgIHJldHVybiAkd2lkZ2V0Qm9keTtcbiAgfSxcbiAgX0J1aWxkU2luZ2xlUXVpY2tFbnRyeTogZnVuY3Rpb24gX0J1aWxkU2luZ2xlUXVpY2tFbnRyeShxdWlja0VudHJ5KSB7XG4gICAgdmFyICRxdWlja0VsZW1XcmFwID0gJChcIjxkaXYgY2xhc3M9J3dpZGdldC1xdWljay1lbGVtLXdyYXAnPjxkaXYgc3R5bGU9J21hcmdpbjogYXV0bzt0ZXh0LWFsaWduOiBjZW50ZXInPjxpbWcgc3JjPScvVGhlbWVzL1BuZzMyWDMyL1wiICsgcXVpY2tFbnRyeS5pbWFnZSArIFwiJyAvPjwvZGl2PjxkaXY+XCIgKyBxdWlja0VudHJ5LmNhcHRpb24gKyBcIjwvZGl2PjwvZGl2PlwiKTtcbiAgICAkcXVpY2tFbGVtV3JhcC5iaW5kKFwiY2xpY2tcIiwge1xuICAgICAgcXVpY2tFbnRyeTogcXVpY2tFbnRyeSxcbiAgICAgIFwid2lkZ2V0SW5zdGFuY2VcIjogdGhpc1xuICAgIH0sIGZ1bmN0aW9uIChzZW5kZXIpIHtcbiAgICAgIHNlbmRlci5kYXRhLndpZGdldEluc3RhbmNlLl9CaW5kU2luZ2xlUXVpY2tFbnRyeUNsaWNrRXZlbnQuY2FsbChzZW5kZXIuZGF0YS53aWRnZXRJbnN0YW5jZSwgc2VuZGVyLmRhdGEucXVpY2tFbnRyeSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICRxdWlja0VsZW1XcmFwO1xuICB9LFxuICBfQmluZFNpbmdsZVF1aWNrRW50cnlDbGlja0V2ZW50OiBmdW5jdGlvbiBfQmluZFNpbmdsZVF1aWNrRW50cnlDbGlja0V2ZW50KHF1aWNrRW50cnkpIHtcbiAgICBjb25zb2xlLmxvZyhxdWlja0VudHJ5KTtcblxuICAgIGlmIChxdWlja0VudHJ5Lm9wZW5UeXBlID09IFwiaW5uZXJJZnJhbWVcIikge1xuICAgICAgRGlhbG9nVXRpbGl0eS5PcGVuSWZyYW1lV2luZG93KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dJZCwgcXVpY2tFbnRyeS51cmwsIHt9LCAxKTtcbiAgICB9XG4gIH1cbn07Il19
