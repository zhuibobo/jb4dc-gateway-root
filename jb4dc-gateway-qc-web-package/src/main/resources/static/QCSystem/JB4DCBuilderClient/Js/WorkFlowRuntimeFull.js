"use strict";var userTaskReceiverDialogOuterVue,ActionsRuntimeObject={CreateALLActionButton:function(e,t,n,i){if(i.jb4dcActions&&i.jb4dcActions.jb4dcActionList)for(var o,a=0;a<i.jb4dcActions.jb4dcActionList.length;a++){var l=i.jb4dcActions.jb4dcActionList[a];if(l.juelRunResultPO.booleanResult){if("send"==l.actionType)o=Object.create(SendAction).Instance(e,t,n,i,l);else if("recall"==l.actionType){o=Object.create(RecallAction).Instance(e,t,n,i,l)}else if("deleteInstance"==l.actionType){o=Object.create(DeleteInstanceAction).Instance(e,t,n,i,l)}$("#flowWorkActionButtonWrapOuter").append(o.elem)}}},GetActionObj:function(){return{actionAutoSend:"false",actionCCReceiveObjects:"[]",actionCallApis:"[]",actionCallComplete:"true",actionCallJsMethod:null,actionCaption:"草稿",actionCode:"action_516009775",actionConfirm:"false",actionDisplayConditionEditText:null,actionDisplayConditionEditValue:null,actionExecuteVariables:"[]",actionHTMLClass:null,actionHTMLId:null,actionMainReceiveObjects:"[]",actionRunSqls:"[]",actionSendMessageId:null,actionSendSignalId:null,actionShowOpinionDialog:"false",actionType:"send",actionUpdateFields:"[]",actionValidate:"无",actionOpinionBindToElemId:null,actionOpinionBindToField:null,juelRunResultPO:{booleanResult:!0,message:"",stringResult:"",success:!0},actionDisable:"enable",actionRemark:""}}},FlowRuntimePageObject={_webFormRTParas:null,_formRuntimeInst:null,FORM_RUNTIME_CATEGORY_FLOW:"IsDependenceFlow",_flowInstanceRuntimePO:null,_isCreatedModelerView:!1,buildPageReadyInnerParas:function(e,t,n,i){return{recordId:t,formId:n.jb4dcFormId,currentNodeKey:n.currentNodeKey,currentNodeName:n.currentNodeName,modelId:n.modelIntegratedEntity.modelId,modelReKey:n.modelIntegratedEntity.modelReKey,currentTaskId:n.executionTaskEntity?n.executionTaskEntity.extaskId:"",flowInstanceRuntimePOCacheKey:i,flowInstanceRuntimePO:n,isStartInstanceStatus:e,jb4dcActions:n.jb4dcActions}},pageReadyForStartStatus:function(e,t,n,i){this._formRuntimeInst=Object.create(FormRuntime),FlowRuntimePageObject._flowInstanceRuntimePO=t;var o=StringUtility.Guid(),a=this.buildPageReadyInnerParas(e,o,t,n);return this._formRuntimeInst.Initialization({InstanceId:t.instanceEntity.instId,RendererToId:"htmlDesignRuntimeWrap",FormId:a.formId,RecordId:o,ButtonId:"",OperationType:BaseUtility.GetAddOperationName(),IsPreview:!1,RendererChainCompletedFunc:FlowRuntimePageObject.formRendererChainCompletedFunc,ListFormButtonElemId:"",WebFormRTParas:{},FormRuntimeCategory:FlowRuntimePageObject.FORM_RUNTIME_CATEGORY_FLOW,PreHandleFormHtmlRuntimeFunc:this.preHandleFormHtmlRuntimeFunc,FlowInstanceRuntimePO:t,FlowModelRuntimePOCacheKey:a.flowInstanceRuntimePOCacheKey,IsStartInstanceStatus:e,CurrentNodeKey:a.currentNodeKey,CurrentNodeName:a.currentNodeName,ModelId:a.modelId,ModelReKey:a.modelReKey,CurrentTaskId:""}),this.rendererActionButtons(e,this._formRuntimeInst,i,a),this._formRuntimeInst},pageReadyForProcessStatus:function(e,t,n,i){this._formRuntimeInst=Object.create(FormRuntime);var o=(FlowRuntimePageObject._flowInstanceRuntimePO=t).instanceEntity.instRuBusinessKey,a=this.buildPageReadyInnerParas(e,o,t,n);return this._formRuntimeInst.Initialization({InstanceId:t.instanceEntity.instId,RendererToId:"htmlDesignRuntimeWrap",FormId:a.formId,RecordId:o,ButtonId:"",OperationType:BaseUtility.GetUrlOPParaValue(),IsPreview:!1,RendererChainCompletedFunc:FlowRuntimePageObject.formRendererChainCompletedFunc,ListFormButtonElemId:"",WebFormRTParas:{},FormRuntimeCategory:FlowRuntimePageObject.FORM_RUNTIME_CATEGORY_FLOW,PreHandleFormHtmlRuntimeFunc:this.preHandleFormHtmlRuntimeFunc,FlowInstanceRuntimePO:t,FlowModelRuntimePOCacheKey:a.flowInstanceRuntimePOCacheKey,IsStartInstanceStatus:e,CurrentNodeKey:a.currentNodeKey,CurrentNodeName:a.currentNodeName,ModelId:a.modelId,ModelReKey:a.modelReKey,CurrentTaskId:""}),this.rendererActionButtons(e,this._formRuntimeInst,i,a),this._formRuntimeInst},rendererActionButtons:function(e,t,n,i){ActionsRuntimeObject.CreateALLActionButton(e,t,n,i)},rendererFlowModelerForTabOnActivity:function(e,t){FlowRuntimePageObject._isCreatedModelerView||(CreateModelerView(FlowRuntimePageObject._flowInstanceRuntimePO),FlowRuntimePageObject._isCreatedModelerView=!0)},rendererFlowFileContainer:function(e){FlowFilesListSinglePlugin.Renderer()},formRendererChainCompletedFunc:function(e){var t=e.flowInstanceRuntimePO;FlowRuntimePageObject.rendererFlowFileContainer(t)},preHandleFormHtmlRuntimeFunc:function(e,t,n){var i=$("<div>"+e+"<div>"),o=n.FlowInstanceRuntimePO;0==i.children("[singlename='WFDCT_TabContainer']").length&&((i=$('<div><div class="wfdct-tabs-outer-wrap-runtime html-design-theme-default-root-elem-class" control_category="ContainerControl" desc="" groupname="" id="tabs_wrap_518627616" is_jbuild4dc_data="false" jbuild4dc_custom="true" name="tabs_wrap_518627616" placeholder="" serialize="false" show_remove_button="false" singlename="WFDCT_TabContainer" status="enable" style="" client_resolve="WFDCT_TabContainer"><div>')).children("[singlename='WFDCT_TabContainer']").append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_form_999">'+o.modelName+"</div>"),i.children("[singlename='WFDCT_TabContainer']").append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_form_999">'+e+"</div>"));var a=i.children("[singlename='WFDCT_TabContainer']");return"uploadConvertToPDFPlugin"==o.jb4dcContentDocumentPlugin?(a.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_uploadConvertToPDFPlugin_999">正文</div>'),a.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_uploadConvertToPDFPlugin_999">'+DocumentContentUploadConvertToPDFPlugin.GetHtmlElem(n)+"</div>")):"wpsOnlineDocumentPlugin"==o.jb4dcContentDocumentPlugin&&(a.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_wpsOnlineDocumentPlugin_999">正文</div>'),a.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_wpsOnlineDocumentPlugin_999">未实现</div>')),a.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_files_999">附件</div>'),a.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_files_999">'+FlowFilesListSinglePlugin.GetHtmlElem(n)+"</div>"),a.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_modeler_999">流程图</div>'),a.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_modeler_999" style=\'height: calc(100% - 50px);\' onActivity="FlowRuntimePageObject.rendererFlowModelerForTabOnActivity"><div id="flow-canvas" style="height:100%;"></div></div>'),a.append('<div class="wysiwyg-wfdct-tabs-label wfdct-tabs-label-runtime" tab_id="tab_content_flow_task_999">流转信息</div>'),a.append('<div class="wysiwyg-wfdct-tabs-content wfdct-tabs-content-runtime" id="tab_content_flow_task_999">'+InstanceExTaskListPlugin.GetHtmlElem(n)+"</div>"),i.html()},changeTaskToView:function(e){console.log("1111111111111111111"),AjaxUtility.Post("/Rest/Workflow/RunTime/Client/InstanceRuntime/ChangeTaskToView",{extaskId:e.extaskId},function(e){},this)}},FlowRuntimeVarBuilder={BuilderSelectedReceiverToInstanceVar:function(e,t){for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push({nextNodeId:o.flowNodeEntity.id,receiverId:o.id,receiverName:o.name,receiverTypeName:o.typeName,receiveType:o.receiveType})}return n}},DeleteInstanceAction={acInterface:{},_Prop:{},Instance:function(e,t,n,i,o){var a=o.actionHTMLId?o.actionHTMLId:o.actionCode,l=$('<button type="button" class="operation-button operation-button-primary" id="'+a+'"><span>'+o.actionCaption+"</span></button>");return"disable"==o.actionDisable?(l.attr("disable","disable"),l.addClass("operation-button-primary-disabled")):(this._Prop={sender:this,flowInstanceRuntimePO:i.flowInstanceRuntimePO,flowInstanceRuntimePOCacheKey:i.flowInstanceRuntimePOCacheKey,jb4dcActions:i.jb4dcActions,formRuntimeInst:t,actionObj:o,isStartInstanceStatus:e,pageHostInstance:n,currentNodeKey:i.currentNodeKey,currentNodeName:i.currentNodeName,recordId:i.recordId,modelId:i.modelId,modelReKey:i.modelReKey,currentTaskId:i.currentTaskId,instanceId:i.flowInstanceRuntimePO.instanceEntity.instId},l.bind("click",this._Prop,this.ButtonClickEvent)),o.actionRemark&&l.attr("title",o.actionRemark),{elem:l}},ButtonClickEvent:function(e){var t=e.data.sender;DialogUtility.Confirm(window,"暂不支持该操作?",function(){},t)}},RecallAction={acInterface:{recallMySendTask:"/Rest/Workflow/RunTime/Client/InstanceRuntime/RecallMySendTask"},_Prop:{},Instance:function(e,t,n,i,o){var a=o.actionHTMLId?o.actionHTMLId:o.actionCode,l=$('<button type="button" class="operation-button operation-button-primary" id="'+a+'"><span>'+o.actionCaption+"</span></button>");return"disable"==o.actionDisable?(l.attr("disable","disable"),l.addClass("operation-button-primary-disabled")):(this._Prop={sender:this,flowInstanceRuntimePO:i.flowInstanceRuntimePO,flowInstanceRuntimePOCacheKey:i.flowInstanceRuntimePOCacheKey,jb4dcActions:i.jb4dcActions,formRuntimeInst:t,actionObj:o,isStartInstanceStatus:e,pageHostInstance:n,currentNodeKey:i.currentNodeKey,currentNodeName:i.currentNodeName,recordId:i.recordId,modelId:i.modelId,modelReKey:i.modelReKey,currentTaskId:i.currentTaskId,instanceId:i.flowInstanceRuntimePO.instanceEntity.instId},l.bind("click",this._Prop,this.ButtonClickEvent)),o.actionRemark&&l.attr("title",o.actionRemark),{elem:l}},ButtonClickEvent:function(e){var t=e.data.sender;DialogUtility.Confirm(window,"确认执行撤回操作?",function(){DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"系统处理中,请稍候!"),AjaxUtility.Post(t.acInterface.recallMySendTask,{extaskId:e.data.currentTaskId},function(e){DialogUtility.CloseDialog(DialogUtility.DialogLoadingId),e.success&&(null!=window.OpenerWindowObj&&null!=window.OpenerWindowObj.instanceMainTaskProcessList&&window.OpenerWindowObj.instanceMainTaskProcessList.reloadData(),DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},e.message,function(){DialogUtility.Frame_CloseDialog(window)},this))},t)},t)}},SendAction={acInterface:{resolveNextPossibleFlowNode:"/Rest/Workflow/RunTime/Client/InstanceRuntime/ResolveNextPossibleFlowNode",completeTask:"/Rest/Workflow/RunTime/Client/InstanceRuntime/CompleteTask"},_Prop:{},newOpinionList:[],inputOpinionText:null,Instance:function(e,t,n,i,o){var a=o.actionHTMLId?o.actionHTMLId:o.actionCode,l=$('<button type="button" class="operation-button operation-button-primary" id="'+a+'"><span>'+o.actionCaption+"</span></button>");return this._Prop={sender:this,flowInstanceRuntimePO:i.flowInstanceRuntimePO,flowInstanceRuntimePOCacheKey:i.flowInstanceRuntimePOCacheKey,jb4dcActions:i.jb4dcActions,formRuntimeInst:t,actionObj:o,isStartInstanceStatus:e,pageHostInstance:n,currentNodeKey:i.currentNodeKey,currentNodeName:i.currentNodeName,recordId:i.recordId,modelId:i.modelId,modelReKey:i.modelReKey,currentTaskId:i.currentTaskId,instanceId:i.flowInstanceRuntimePO.instanceEntity.instId,actionShowOpinionDialog:o.actionShowOpinionDialog,actionOpinionBindToField:o.actionOpinionBindToField,actionOpinionBindToElemId:o.actionOpinionBindToElemId},l.bind("click",this._Prop,this.ButtonClickEvent),{elem:l}},TryGetOpinionBindToControlInstance:function(e){var t,n=e.actionOpinionBindToElemId,i=e.actionOpinionBindToField;return n&&(t=$("#"+n)),t&&0<t.length?HTMLControl.GetControlInstanceByElem(t):(t=$("[fieldname='"+i+"']"))&&0<t.length?HTMLControl.GetControlInstanceByElem(t):null},ButtonClickEvent:function(e){var t=ValidateRulesRuntime.ValidateSubmitEnable();if(ValidateRulesRuntime.AlertValidateErrors(t)){var n=e.data,i=n.sender;"true"==n.actionShowOpinionDialog?DialogUtility.Prompt(window,{title:"系统提示",height:300,width:400},DialogUtility.DialogPromptId,"请输入处理意见",function(e){var t=i.TryGetOpinionBindToControlInstance(n);null!=t&&("function"==typeof t.SetNewValue?(t.SetNewValue(e),i.inputOpinionText=e,i.BeginSelectReceiver(i,n)):DialogUtility.AlertText("意见关联对象为实现SetNewValue方法!"))}):this.BeginSelectReceiver(i,n)}},BeginSelectReceiver:function(e,t){DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"");var n=e.BuildSendToServerData(t,null);n.success&&AjaxUtility.Post(e.acInterface.resolveNextPossibleFlowNode,n.data,function(e){DialogUtility.CloseDialog(DialogUtility.DialogLoadingId),console.log(e),e.data.nextTaskIsEndEvent?this.SelectReceiverCompleted(e.data.bpmnTaskList,[]):e.data.currentTaskIsMultiInstance&&e.data.currentTaskMultiCompletedInstances+1<e.data.currentTaskMultiCountEngInstances?this.SelectReceiverCompleted(e.data.bpmnTaskList,[]):UserTaskReceiverDialogUtility.ShowDialog(t.sender,e.data.bpmnTaskList,t.sender.SelectReceiverCompleted)},t.sender)},SelectReceiverCompleted:function(n,i){DialogUtility.Confirm(window,"确认执行发送?",function(){var e=FlowRuntimeVarBuilder.BuilderSelectedReceiverToInstanceVar(n,i);null!=this.inputOpinionText&&this.newOpinionList.push(this.BuildNewOpinion(this.inputOpinionText));var t=this.BuildSendToServerData(this._Prop,{selectedReceiverVars:encodeURIComponent(JsonUtility.JsonToString(e)),newOpinionListString:encodeURIComponent(JsonUtility.JsonToString(this.newOpinionList))});t.success&&(DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"系统处理中,请稍候!"),AjaxUtility.Post(this.acInterface.completeTask,t.data,function(e){DialogUtility.CloseDialog(DialogUtility.DialogLoadingId),e.success?(null!=window.OpenerWindowObj&&null!=window.OpenerWindowObj.instanceMainTaskProcessList&&window.OpenerWindowObj.instanceMainTaskProcessList.reloadData(),DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},e.message,function(){DialogUtility.Frame_CloseDialog(window)},this)):DialogUtility.AlertError(window,DialogUtility.DialogAlertErrorId,{},e.data.message)},this._Prop.sender))},this)},BuildSendToServerData:function(e,t){var n=e.formRuntimeInst.SerializationFormData(),i={success:!0,data:{isStartInstanceStatus:e.isStartInstanceStatus,actionCode:e.actionObj.actionCode,flowInstanceRuntimePOCacheKey:e.flowInstanceRuntimePOCacheKey,formRecordComplexPOString:encodeURIComponent(JsonUtility.JsonToString(n)),currentNodeKey:e.currentNodeKey,currentNodeName:e.currentNodeName,recordId:e.recordId,modelId:e.modelId,modelReKey:e.modelReKey,currentTaskId:e.currentTaskId,instanceId:e.instanceId,newOpinionListString:""}};if(t)for(var o in t)i.data[o]=t[o];return i},BuildNewOpinion:function(e){return{opinionText:e,opinionClientCode:StringUtility.Timestamp()}}},UserTaskReceiverDialogUtility={ShowDialog:function(e,t,n){userTaskReceiverDialogOuterVue||($(document.body).append("<div id='userTaskReceiverDialogOuter'><user-task-receiver-dialog ref='userTaskReceiverDialog'></user-task-receiver-dialog></div>"),userTaskReceiverDialogOuterVue=new Vue({el:"#userTaskReceiverDialogOuter",data:{acInterface:{getRuntimeModelWithStart:"/Rest/Workflow/RunTime/Client/ModelRuntime/GetRuntimeModelWithStart"}},mounted:function(){},methods:{}})),userTaskReceiverDialogOuterVue.$refs.userTaskReceiverDialog.beginSelectReceiver(e,t,n)},CloseDialog:function(){DialogUtility.CloseDialogElem(userTaskReceiverDialogOuterVue.$refs.userTaskReceiverDialog.$refs.userTaskReceiverDialogWrap),userTaskReceiverDialogOuterVue=null,$("#userTaskReceiverDialogOuter").remove(),DialogUtility.RemoveDialogRemainingElem("userTaskReceiverDialogInner")}};Vue.component("user-task-receiver-dialog",{data:function(){return{acInterface:{},nextFlowNodeEntities:[],receiverTree:{treeSetting:{view:{dblClickExpand:!1,showLine:!0,fontCss:{color:"black","font-weight":"normal"}},check:{enable:!1,nocheckInherit:!1,radioType:"all"},async:{enable:!0,contentType:"application/x-www-form-urlencoded",url:BaseUtility.BuildAction("/Rest/Workflow/RunTime/Client/ReceiverRuntime/GetAsyncReceivers"),autoParam:["id","typeName","name"]},data:{key:{name:"name",children:"runtimeReceiveUsers"},simpleData:{enable:!0,idKey:"id",pIdKey:"parentId",rootPId:null}},callback:{onClick:function(e,t,n){},onDblClick:function(e,t,n){var i=this.getZTreeObj(t)._host,o=this.getZTreeObj(t).flowNodeEntity,a=this.getZTreeObj(t).receiveType;i.addReceiverToSelected(n,o,a)},beforeAsync:function(e,t){console.log(e)}}},treeObjMap:{}},selectedReceiver:{columnsConfig:[{title:"已选用户",key:"name",width:188,align:"center"},{title:"操作",slot:"action",width:70,align:"center"}],receiverData:[]}}},mounted:function(){},filters:{filterReceiverData:function(e,t,n){return e.filter(function(e){return e.flowNodeEntity.id==t.id&&e.receiveType==n})}},methods:{beginSelectReceiver:function(e,t,n){var i=this,o=this.$refs.userTaskReceiverDialogWrap;DialogUtility.DialogElemObj(o,{modal:!0,width:650,height:600,title:"选择接收人员",resizable:!1,buttons:{"确认":function(){i.validateCompleteEnable().success&&n.call(e,i.nextFlowNodeEntities,i.selectedReceiver.receiverData)},"取消":function(){UserTaskReceiverDialogUtility.CloseDialog()}},open:function(e,t){$(".ui-dialog-titlebar-close",$(this).parent()).hide()}}),this.nextFlowNodeEntities=t,window.setTimeout(this.initTree,500)},getRootOrganMainReceiveObjects:function(){return[{value:null,text:null,id:"0",parentId:null,outerId:null,code:"0000",attr1:null,attr2:null,attr3:null,attr4:null,nodeTypeName:null,icon:null,nocheck:!1,isParent:"true",open:!1,name:"组织机构管理",typeName:"Organs",desc:null,status:"启用",filter:"",orderNum:22,runtimeReceiveUsers:null,group:!0,custName:!1}]},initTree:function(){for(var e=0;e<this.nextFlowNodeEntities.length;e++){var t=this.nextFlowNodeEntities[e];if(t.extensionElements&&t.extensionElements.jb4dcMainReceiveObjects&&t.extensionElements.jb4dcMainReceiveObjects.runtimeReceiveGroups){var n=this.buildUlTreeId(t,"main");this.receiverTree.treeObjMap[n]=$.fn.zTree.init($("#"+n),this.receiverTree.treeSetting,t.extensionElements.jb4dcMainReceiveObjects.runtimeReceiveGroups),(this.receiverTree.treeObjMap[n]._host=this).receiverTree.treeObjMap[n].flowNodeEntity=t,this.receiverTree.treeObjMap[n].receiveType="main"}else if(!t.extensionElements||!t.extensionElements.jb4dcMainReceiveObjects||!t.extensionElements.jb4dcMainReceiveObjects.jb4dcReceiveObjectList){var i=this.buildUlTreeId(t,"main");this.receiverTree.treeObjMap[i]=$.fn.zTree.init($("#"+i),this.receiverTree.treeSetting,this.getRootOrganMainReceiveObjects()),(this.receiverTree.treeObjMap[i]._host=this).receiverTree.treeObjMap[i].flowNodeEntity=t,this.receiverTree.treeObjMap[i].receiveType="main"}if(t.extensionElements&&t.extensionElements.jb4dcCCReceiveObjects&&t.extensionElements.jb4dcCCReceiveObjects.runtimeReceiveGroups){var o=this.buildUlTreeId(t,"cc");this.receiverTree.treeObjMap[o]=$.fn.zTree.init($("#"+o),this.receiverTree.treeSetting,t.extensionElements.jb4dcCCReceiveObjects.runtimeReceiveGroups),(this.receiverTree.treeObjMap[o]._host=this).receiverTree.treeObjMap[o].flowNodeEntity=t,this.receiverTree.treeObjMap[o].receiveType="cc"}}},buildUlTreeId:function(e,t){return"ulTree_"+t+"_"+e.id},addTreeSelectedReceiverToSelected:function(e,t){var n=this.buildUlTreeId(e,t),i=this.receiverTree.treeObjMap[n];if(i){var o=i.getSelectedNodes();o&&0<o.length&&this.addReceiverToSelected(o[0],e,t)}},addReceiverToSelected:function(e,t,n){var i=this.isMultiInstanceTask(t),o=t.id+"_"+n+"_"+e.id;if("SingleUser"==e.typeName)if(e.innerSingleId=o,e.flowNodeEntity=t,"cc"!=(e.receiveType=n)&&!i||ArrayUtility.Exist(this.selectedReceiver.receiverData,function(e){return e.innerSingleId==o})){if("main"==n&&!i){for(var a=0;a<this.selectedReceiver.receiverData.length;a++)this.selectedReceiver.receiverData[a].flowNodeEntity.id==t.id&&this.selectedReceiver.receiverData[a].receiveType==n&&ArrayUtility.Delete(this.selectedReceiver.receiverData,a);this.selectedReceiver.receiverData.push(e)}}else this.selectedReceiver.receiverData.push(e);else if(i&&("Users"==e.typeName||"Role"==e.typeName||"Organs"==e.typeName)&&null!=e.runtimeReceiveUsers&&0<e.runtimeReceiveUsers.length)for(var l=0;l<e.runtimeReceiveUsers.length;l++){var s=e.runtimeReceiveUsers[l];"SingleUser"==s.typeName&&this.addReceiverToSelected(s,t,n)}},clearSelectedReceiverToSelected:function(e,t){for(var n=this.selectedReceiver.receiverData.length-1;0<=n;n--){var i=this.selectedReceiver.receiverData[n];i.flowNodeEntity.id==e.id&&i.receiveType==t&&ArrayUtility.Delete(this.selectedReceiver.receiverData,n)}},deleteSelectedReceiver:function(e,t){for(var n=0;n<this.selectedReceiver.receiverData.length;n++)this.selectedReceiver.receiverData[n].innerSingleId==t.innerSingleId&&ArrayUtility.Delete(this.selectedReceiver.receiverData,n)},isMultiInstanceTask:function(e){return e.multiInstanceTask},buildTabLabel:function(e){return e.name+" ["+(this.isMultiInstanceTask(e)?"多人":"单人")+"]"},validateCompleteEnable:function(){for(var n=this,e=[],t=!0,i=function(t){"com.jb4dc.workflow.po.bpmn.process.BpmnUserTask"==n.nextFlowNodeEntities[t].taskTypeName&&(ArrayUtility.Exist(n.selectedReceiver.receiverData,function(e){return e.flowNodeEntity.id==n.nextFlowNodeEntities[t].id&&"main"==e.receiveType})||e.push({taskName:n.nextFlowNodeEntities[t].name,flowNodeEntity:n.nextFlowNodeEntities[t],message:"环节["+n.nextFlowNodeEntities[t].name+"]至少需要设置一个接收用户!"}))},o=0;o<this.nextFlowNodeEntities.length;o++)i(o);if(0<e.length){var a=[];for(o=0;o<e.length;o++)a.push(e[o].message);DialogUtility.AlertText(a.join("<br />"),this),t=!1}return{success:t}}},template:'<div id="userTaskReceiverDialogInner" ref="userTaskReceiverDialogWrap" style="display: none">\n                <tabs name="userTaskReceiverDialogTabs">\n                    <tab-pane :label="buildTabLabel(flowNodeEntity)" tab="userTaskReceiverDialogTabs" v-for="flowNodeEntity in nextFlowNodeEntities" :key="flowNodeEntity.id">\n                        <collapse accordion value="mainReceiver">\n                            <panel name="mainReceiver">\n                                主送人员\n                                <div slot="content">\n                                    <div class="user-task-receiver-dialog-outer-wrap">\n                                        <div class="selectEnableUserList">\n                                            <ul :id="buildUlTreeId(flowNodeEntity,\'main\')" class="ztree" style="width: 200px"></ul>\n                                        </div>\n                                        <div class="selectOpButtonContainer">\n                                            <div class="single-op-button" title="添加人员" @click="addTreeSelectedReceiverToSelected(flowNodeEntity,\'main\')"><Icon type="md-arrow-round-forward" /></div>\n                                            <div class="single-op-button" title="清空已选人员" @click="clearSelectedReceiverToSelected(flowNodeEntity,\'main\')"><Icon type="md-backspace" /></div>\n                                        </div>\n                                        <div class="selectedUserList">\n                                            <i-table height="327" width="260" stripe :columns="selectedReceiver.columnsConfig" :data="selectedReceiver.receiverData | filterReceiverData(flowNodeEntity, \'main\')"\n                                                 class="iv-list-table" size="small">\n                                                 <template slot-scope="{ row, index }" slot="action">\n                                                    <div class="list-font-icon-button-class" @click="deleteSelectedReceiver(index,row)">\n                                                        <Icon type="md-close" />\n                                                    </div>\n                                                </template>     \n                                            </i-table>\n                                        </div>\n                                    </div>\n                                </div>\n                            </panel>\n                            <panel name="ccReceiver">\n                                抄送人员\n                                <div slot="content">\n                                    <div class="user-task-receiver-dialog-outer-wrap">\n                                        <div class="selectEnableUserList">\n                                            <ul :id="buildUlTreeId(flowNodeEntity,\'cc\')" class="ztree" style="width: 200px"></ul>\n                                        </div>\n                                        <div class="selectOpButtonContainer">\n                                            <div class="single-op-button" title="添加人员" @click="addReceiverToSelected(flowNodeEntity,\'cc\')"><Icon type="md-arrow-round-forward" /></div>\n                                            <div class="single-op-button" title="清空已选人员"><Icon type="md-backspace" /></div>\n                                        </div>\n                                        <div class="selectedUserList">\n                                            <i-table height="327" width="260" stripe :columns="selectedReceiver.columnsConfig" :data="selectedReceiver.receiverData | filterReceiverData(flowNodeEntity, \'cc\')"\n                                                 class="iv-list-table" size="small">\n                                                 <template slot-scope="{ row, index }" slot="action">\n                                                    <div class="list-font-icon-button-class" @click="deleteSelectedReceiver(index,row)">\n                                                        <Icon type="md-close" />\n                                                    </div>\n                                                </template>     \n                                            </i-table>\n                                        </div>\n                                    </div>\n                                </div>\n                            </panel>\n                        </collapse>\n                    </tab-pane>\n                </tabs>\n            </div>'});var DocumentContentUploadConvertToPDFPlugin={onchangeFile:function(e){$("#doc-selected-file").html($(e).val())},uploadAndConvertToPDF:function(e,t,n){if($("#sourceFile").val()){var i=new FormData;i.append("file",document.getElementById("sourceFile").files[0]);var o=new XMLHttpRequest;o.open("POST",BaseUtility.BuildAction("/Rest/Workflow/RunTime/Client/DocumentFileRuntime/UploadFileAndConvertToPDF?instanceId="+t+"&businessKey="+n)),o.onload=function(){if(console.log(o),200===o.status){var e=JsonUtility.StringToJson(o.response);DocumentContentUploadConvertToPDFPlugin.loadPDFFileToViewer(e.data.fileId),DialogUtility.CloseByElemId(DialogUtility.DialogLoadingId)}else DialogUtility.AlertText("执行出错!"+o.responseText),DialogUtility.CloseByElemId(DialogUtility.DialogLoadingId)},o.upload.onprogress=function(e){if(e.lengthComputable){DialogUtility.AlertLoading(window,DialogUtility.DialogLoadingId,{},"");var t=Math.floor(e.loaded/e.total*100);$("#upload-process").html(t+"%")}},o.send(i)}else DialogUtility.AlertText("请选择要上传的文件!",this)},tryLoadHistoryDocument:function(e){AjaxUtility.Get("/Rest/Workflow/RunTime/Client/DocumentFileRuntime/TryGetLastOnlineDocument",{instanceId:e.InstanceId},function(e){e.success&&e.data&&this.loadPDFFileToViewer(e.data.fileId)},this)},loadPDFFileToViewer:function(e){var t=BaseUtility.GetRootPath()+"/Rest/Workflow/RunTime/Client/DocumentFileRuntime/DownLoadPdfDocumentByFileId?fileId="+e;$("#pdfViewer").attr("src","/Js/External/PDFJS-2.9.359-dist/web/viewer.html?file="+encodeURIComponent(t))},GetHtmlElem:function(e){var t=e.InstanceId,n=e.RecordId;return this.tryLoadHistoryDocument(e),'<div class="document-outer-wrap">\n                    <div class="document-buttons-outer">\n                        <div class="document-buttons-inner">\n                            <button type="button" class="upload-and-convert-button" disabled>下载PDF文件</button>\n                            <button type="button" class="upload-and-convert-button" disabled>下载原始文件</button>\n                            <button type="button" class="upload-and-convert-button" onclick="DocumentContentUploadConvertToPDFPlugin.uploadAndConvertToPDF(this,\''.concat(t,"','").concat(n,'\')">上传并转换为pdf</button>\n                            <div class="file-upload">选择文件\n                               <input\n                                   id="sourceFile"\n                                   type="file"\n                                   name="inputFile" accept=".doc,.docx,.pdf" onchange="DocumentContentUploadConvertToPDFPlugin.onchangeFile(this)" />\n                            </div>\n                            <div class="selected-file-message">已选文件:<span id="doc-selected-file"></span></div>\n                            <div class="upload-process" id="upload-process"></div>\n                        </div>\n                    </div>\n                    <div class="document-content">\n                        <iframe id="pdfViewer" src="" style="width: 100%;height: 100%;border: 0px"></iframe>\n                    </div>\n                </div>')}},FlowFilesListSinglePlugin={_prop:{},_flowInstanceRuntimePO:null,_currentNode:null,_authoritiesFileAuthority:null,_authoritiesOnlySendBackCanEdit:"false",GetHtmlElem:function(e){return FlowFilesListSinglePlugin._prop=e,FlowFilesListSinglePlugin._flowInstanceRuntimePO=e.FlowInstanceRuntimePO,FlowFilesListSinglePlugin._currentNode=ArrayUtility.Where(FlowFilesListSinglePlugin._flowInstanceRuntimePO.bpmnDefinitions.bpmnProcess.userTaskList,function(e){return e.id==FlowFilesListSinglePlugin._flowInstanceRuntimePO.currentNodeKey}),0==FlowFilesListSinglePlugin._currentNode.length?FlowFilesListSinglePlugin._currentNode=FlowFilesListSinglePlugin._flowInstanceRuntimePO.bpmnDefinitions.bpmnProcess.startEvent:FlowFilesListSinglePlugin._currentNode=FlowFilesListSinglePlugin._currentNode[0],FlowFilesListSinglePlugin._currentNode.extensionElements?FlowFilesListSinglePlugin._authoritiesFileAuthority=JsonUtility.StringToJson(FlowFilesListSinglePlugin._currentNode.extensionElements.jb4dcAuthorities.authoritiesFileAuthority):FlowFilesListSinglePlugin._authoritiesFileAuthority={addFile:"true"},'<div id="FlowFilesListPluginContainer">\n                </div>'},acInterface:{getFileListData:"/Rest/Workflow/RunTime/Client/InstanceFileRuntime/GetAttachmentFileListData",uploadFile:"/Rest/Workflow/RunTime/Client/InstanceFileRuntime/UploadFile",downloadFile:"/Rest/Builder/RunTime/FileRuntime/DownLoadFileByFileId",deleteFile:"/Rest/Builder/RunTime/FileRuntime/DeleteFileByFileId"},Renderer:function(){this.BuildUploadContainer(),this.BuildFileList()},ToViewStatus:function(e,t,n,i){$("#"+this._prop.uploadWarpId).hide(),$("#"+this._prop.elemId).find(".delete-button-elem").hide(),$("#"+this._prop.elemId).find(".move-up-button-elem").hide(),$("#"+this._prop.elemId).find(".move-down-button-elem").hide()},GetThisRecordId:function(){var e="";return formRuntimeInst&&formRuntimeInst.GetWebFormRTParas()&&formRuntimeInst.GetWebFormRTParas().RecordId?e=formRuntimeInst.GetWebFormRTParas().RecordId:DialogUtility.AlertText("查找不到绑定的记录ID"),e},GetThisRecordType:function(){return this._prop.objType},GetUploadEndPointRequest:function(){return{endpoint:BaseUtility.GetRootPath()+this.acInterface.uploadFile,params:{fileType:"Attachment",instanceId:this._prop.FlowInstanceRuntimePO.instanceEntity.instId,businessKey:this._prop.RecordId}}},CreateDefaultTemplate:function(e){$(window.document.body).append('<script type="text/template" id="'+e+'">\n        <div class="qq-uploader-selector qq-uploader qq-gallery" qq-drop-area-text="拖放文件到这里进行上传。" style="min-height: 78px;">\n            <div class="qq-total-progress-bar-container-selector qq-total-progress-bar-container">\n                <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar"></div>\n            </div>\n            <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>\n                <span class="qq-upload-drop-area-text-selector"></span>\n            </div>\n            <div class="qq-upload-button-selector qq-upload-button" style="float: right">\n                <div>选择文件</div>\n            </div>\n            <span class="qq-drop-processing-selector qq-drop-processing">\n                <span>Processing dropped files...</span>\n                <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>\n            </span>\n            <ul class="qq-upload-list-selector qq-upload-list" role="region" aria-live="polite" aria-relevant="additions removals" style="display: none">\n                <li>\n                    <span role="status" class="qq-upload-status-text-selector qq-upload-status-text"></span>\n                    <div class="qq-progress-bar-container-selector qq-progress-bar-container">\n                        <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="qq-progress-bar-selector qq-progress-bar"></div>\n                    </div>\n                    <span class="qq-upload-spinner-selector qq-upload-spinner"></span>\n                    <div class="qq-thumbnail-wrapper">\n                        <img class="qq-thumbnail-selector" qq-max-size="120" qq-server-scale>\n                    </div>\n                    <button type="button" class="qq-upload-cancel-selector qq-upload-cancel">X</button>\n                    <button type="button" class="qq-upload-retry-selector qq-upload-retry">\n                        <span class="qq-btn qq-retry-icon" aria-label="Retry"></span>\n                        Retry\n                    </button>\n\n                    <div class="qq-file-info">\n                        <div class="qq-file-name">\n                            <span class="qq-upload-file-selector qq-upload-file"></span>\n                            <span class="qq-edit-filename-icon-selector qq-btn qq-edit-filename-icon" aria-label="Edit filename"></span>\n                        </div>\n                        <input class="qq-edit-filename-selector qq-edit-filename" tabindex="0" type="text">\n                        <span class="qq-upload-size-selector qq-upload-size"></span>\n                        <button type="button" class="qq-btn qq-upload-delete-selector qq-upload-delete">\n                            <span class="qq-btn qq-delete-icon" aria-label="Delete"></span>\n                        </button>\n                        <button type="button" class="qq-btn qq-upload-pause-selector qq-upload-pause">\n                            <span class="qq-btn qq-pause-icon" aria-label="Pause"></span>\n                        </button>\n                        <button type="button" class="qq-btn qq-upload-continue-selector qq-upload-continue">\n                            <span class="qq-btn qq-continue-icon" aria-label="Continue"></span>\n                        </button>\n                    </div>\n                </li>\n            </ul>\n\n            <dialog class="qq-alert-dialog-selector">\n                <div class="qq-dialog-message-selector"></div>\n                <div class="qq-dialog-buttons">\n                    <button type="button" class="qq-cancel-button-selector">Close</button>\n                </div>\n            </dialog>\n\n            <dialog class="qq-confirm-dialog-selector">\n                <div class="qq-dialog-message-selector"></div>\n                <div class="qq-dialog-buttons">\n                    <button type="button" class="qq-cancel-button-selector">No</button>\n                    <button type="button" class="qq-ok-button-selector">Yes</button>\n                </div>\n            </dialog>\n\n            <dialog class="qq-prompt-dialog-selector">\n                <div class="qq-dialog-message-selector"></div>\n                <input type="text">\n                <div class="qq-dialog-buttons">\n                    <button type="button" class="qq-cancel-button-selector">Cancel</button>\n                    <button type="button" class="qq-ok-button-selector">Ok</button>\n                </div>\n            </dialog>\n        </div>\n    <\/script>')},BuildUploadContainer:function(){if("true"==this._authoritiesFileAuthority.addFile){var e=$("#FlowFilesListPluginContainer"),t="uploadWarp_"+StringUtility.Timestamp();this._prop.uploadWarpId=t;var n=$("<div id='"+t+"'></div>");e.append(n);var i="qq-template_"+this._prop.elemId;this.CreateDefaultTemplate(i);var o=this;new qq.FineUploader({element:n[0],template:i,multiple:!1,request:this.GetUploadEndPointRequest(),callbacks:{onComplete:function(e,t,n,i){n.success?o.BuildFileList():DialogUtility.AlertText(n.message)}}})}},BuildFileList:function(){var e=$("#FlowFilesListPluginContainer"),t="flow_file_plugin_upload_file_list_warp";$("#"+t).remove();var n=$("<div class='upload_file_list_wrap' id='"+t+"'><table class='file_list_table'><thead><tr><th>文件名称</th><th style='width: 140px'>上传时间</th><th style='width: 140px'>上传人</th><th style='width: 140px'>文件大小</th><th style='width: 140px'>操作</th></tr></thead><tbody></tbody></table></div>"),i=n.find("tbody"),o=this._prop.FlowInstanceRuntimePO.instanceEntity.instId;AjaxUtility.Post(this.acInterface.getFileListData,{instanceId:o},function(e){if(e.success)for(var t=0;t<e.data.length;t++){var n=e.data[t];i.append(this.BuildFileInfoTableRow(e,n))}},this),$(e.append(n))},BuildFileInfoTableRow:function(e,t){var n=StringUtility.EncodeHtml(t.fileName),i=DateUtility.DateFormatByTimeStamp(t.fileCreateTime,"yyyy-MM-dd"),o=HardDiskUtility.ByteConvert(t.fileSize),a=StringUtility.EncodeHtml(t.fileCreator),l=$("<tr><td>".concat(n,'</td><td style="text-align: center">').concat(i,'</td><td style="text-align: center">').concat(a,'</td><td style="text-align: center">').concat(o,'</td><td style="text-align: center"></td></tr>'));return this.BuildFileInfoTableRowInnerButtons(e,t,l),l},BuildFileInfoTableRowInnerButtons:function(e,t,n){!this._prop.downloadEnable&&!this._prop.deleteEnable&&this._prop.previewEnable&&this._prop.moveOrderEnable;var i=n.find("td:last"),o=this;if(this._prop.deleteEnable){var a=$("<div class='file-list-inner-button delete-button-elem' title='点击删除'></div>");a.click(function(){DialogUtility.Confirm(window,"确认删除附件【"+t.fileName+"】吗?",function(){AjaxUtility.Post(o.acInterface.deleteFile,{fileId:t.fileId},function(e){e.success&&a.parent().parent().remove()},o)})}),i.append(a)}this._prop.moveOrderEnable;var l=$("<div class='file-list-inner-button move-up-button-elem' title='点击上移'></div>");l.click(function(){DialogUtility.AlertText("暂不支持!")});var s=$("<div class='file-list-inner-button move-down-button-elem' title='点击下移'></div>");if(s.click(function(){DialogUtility.AlertText("暂不支持!")}),i.append(l),i.append(s),this._prop.downloadEnable){var r=$("<div class='file-list-inner-button download-button-elem' title='点击下载'></div>");r.click(function(){var e=BaseUtility.GetRootPath()+o.acInterface.downloadFile+"?fileId="+t.fileId;window.open(e)}),i.append(r)}this._prop.previewEnable;var c=$("<div class='file-list-inner-button preview-button-elem' title='点击预览'></div>");c.click(function(){DialogUtility.AlertText("暂不支持!")}),i.append(c)},TestFilePreviewEnable:function(e){return!0}},InstanceExTaskListPlugin={_flowInstanceRuntimePO:null,_historyExecutionTaskEntityList:null,_currentExTask:null,GetHtmlElem:function(e){return this._flowInstanceRuntimePO=e.FlowInstanceRuntimePO,this._historyExecutionTaskEntityList=e.FlowInstanceRuntimePO.historyExecutionTaskEntityList,this._currentExTask=e.FlowInstanceRuntimePO.executionTaskEntity,this._historyExecutionTaskEntityList?this.Renderer():""},ViewDetail:function(t){var e=ArrayUtility.WhereSingle(this._historyExecutionTaskEntityList,function(e){return e.extaskId==t});DialogUtility.AlertJsonCode(e)},ConvertStatusToCNName:function(e){return"Processing"==e?"办理中":"End"==e?"已办理":"Cancel"==e?"被撤回":"CancelEnd"==e?"办理&#10522;&#10230;撤回":"未知"},Renderer:function(){for(var e="<div class='instance-ex-task-list-plugin'>\n                            <table class='ex-task-table'>\n                                <thead>\n                                    <tr><th>环节名称</th><th>发送人</th><th>发送时间</th><th>查看时间</th><th>接收人/处理人</th><th>处理时间</th><th>执行动作</th><th>状态</th><th style=\"width: 200px\">操作</th></tr>\n                                </thead>\n                                <tbody>",t=0;t<this._historyExecutionTaskEntityList.length;t++){var n=this._historyExecutionTaskEntityList[t],i=StringUtility.NullToES(n.extaskId),o=StringUtility.NullToES(n.extaskCurNodeName),a=StringUtility.NullToES(n.extaskSenderName),l=StringUtility.NullToES(n.extaskStartTime),s=StringUtility.NullToES(n.extaskViewTime),r=StringUtility.NullToES(n.extaskReceiverName),c=StringUtility.NullToES(n.extaskHandlerId),d=StringUtility.NullToES(n.extaskReceiverId);StringUtility.IsNullOrEmpty(c)||d==c||(r=StringUtility.NullToES(n.extaskReceiverName)+"/"+StringUtility.NullToES(n.extaskHandlerName));StringUtility.NullToES(n.extaskHandlerName);var u=StringUtility.NullToES(n.extaskEndTime),m=StringUtility.NullToES(n.extaskHandleActionName),p=this.ConvertStatusToCNName(StringUtility.NullToES(n.extaskStatus)),v="n-task-tr";this._currentExTask.extaskId==i&&(v="my-this-task-tr"),e+='<tr class="'.concat(v,'">\n                            <td>').concat(o,"</td><td>").concat(a,"</td><td>").concat(l,"</td>\n                            <td>").concat(s,"</td><td>").concat(r,"</td><td>").concat(u,"</td>\n                            <td>").concat(m,"</td><td>").concat(p,"</td><td><a onclick=\"InstanceExTaskListPlugin.ViewDetail('").concat(i,"')\">详情</a></td></tr>")}return e+="</tbody></table></div>"}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFjdGlvbnNSdW50aW1lT2JqZWN0LmpzIiwiRGlhbG9nL1VzZXJUYXNrUmVjZWl2ZXJEaWFsb2cuanMiLCJGbG93UnVudGltZVBhZ2VPYmplY3QuanMiLCJGbG93UnVudGltZVZhckJ1aWxkZXIuanMiLCJBY3Rpb25zL0RlbGV0ZUluc3RhbmNlQWN0aW9uLmpzIiwiQWN0aW9ucy9SZWNhbGxBY3Rpb24uanMiLCJBY3Rpb25zL1NlbmRBY3Rpb24uanMiLCJQbHVnaW5zL0RvY3VtZW50Q29udGVudFVwbG9hZENvbnZlcnRUb1BERlBsdWdpbi5qcyIsIlBsdWdpbnMvRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5qcyIsIlBsdWdpbnMvSW5zdGFuY2VFeFRhc2tMaXN0UGx1Z2luLmpzIl0sIm5hbWVzIjpbInVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZSIsIkFjdGlvbnNSdW50aW1lT2JqZWN0IiwiQ3JlYXRlQUxMQWN0aW9uQnV0dG9uIiwiaXNTdGFydEluc3RhbmNlU3RhdHVzIiwiZm9ybVJ1bnRpbWVJbnN0IiwicGFnZUhvc3RJbnN0YW5jZSIsInBhZ2VSZWFkeUlubmVyUGFyYXMiLCJqYjRkY0FjdGlvbnMiLCJqYjRkY0FjdGlvbkxpc3QiLCJidXR0b25FbGVtIiwiaSIsImxlbmd0aCIsImFjdGlvbk9iaiIsImp1ZWxSdW5SZXN1bHRQTyIsImJvb2xlYW5SZXN1bHQiLCJhY3Rpb25UeXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiU2VuZEFjdGlvbiIsIkluc3RhbmNlIiwiUmVjYWxsQWN0aW9uIiwiRGVsZXRlSW5zdGFuY2VBY3Rpb24iLCIkIiwiYXBwZW5kIiwiZWxlbSIsIkdldEFjdGlvbk9iaiIsImFjdGlvbkF1dG9TZW5kIiwiYWN0aW9uQ0NSZWNlaXZlT2JqZWN0cyIsImFjdGlvbkNhbGxBcGlzIiwiYWN0aW9uQ2FsbENvbXBsZXRlIiwiYWN0aW9uQ2FsbEpzTWV0aG9kIiwiYWN0aW9uQ2FwdGlvbiIsImFjdGlvbkNvZGUiLCJhY3Rpb25Db25maXJtIiwiYWN0aW9uRGlzcGxheUNvbmRpdGlvbkVkaXRUZXh0IiwiYWN0aW9uRGlzcGxheUNvbmRpdGlvbkVkaXRWYWx1ZSIsImFjdGlvbkV4ZWN1dGVWYXJpYWJsZXMiLCJhY3Rpb25IVE1MQ2xhc3MiLCJhY3Rpb25IVE1MSWQiLCJhY3Rpb25NYWluUmVjZWl2ZU9iamVjdHMiLCJhY3Rpb25SdW5TcWxzIiwiYWN0aW9uU2VuZE1lc3NhZ2VJZCIsImFjdGlvblNlbmRTaWduYWxJZCIsImFjdGlvblNob3dPcGluaW9uRGlhbG9nIiwiYWN0aW9uVXBkYXRlRmllbGRzIiwiYWN0aW9uVmFsaWRhdGUiLCJhY3Rpb25PcGluaW9uQmluZFRvRWxlbUlkIiwiYWN0aW9uT3BpbmlvbkJpbmRUb0ZpZWxkIiwibWVzc2FnZSIsInN0cmluZ1Jlc3VsdCIsInN1Y2Nlc3MiLCJhY3Rpb25EaXNhYmxlIiwiYWN0aW9uUmVtYXJrIiwiRmxvd1J1bnRpbWVQYWdlT2JqZWN0IiwiX3dlYkZvcm1SVFBhcmFzIiwiX2Zvcm1SdW50aW1lSW5zdCIsIkZPUk1fUlVOVElNRV9DQVRFR09SWV9GTE9XIiwiX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTyIsIl9pc0NyZWF0ZWRNb2RlbGVyVmlldyIsImJ1aWxkUGFnZVJlYWR5SW5uZXJQYXJhcyIsInJlY29yZElkIiwiZmxvd0luc3RhbmNlUnVudGltZVBPIiwiZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXkiLCJmb3JtSWQiLCJqYjRkY0Zvcm1JZCIsImN1cnJlbnROb2RlS2V5IiwiY3VycmVudE5vZGVOYW1lIiwibW9kZWxJZCIsIm1vZGVsSW50ZWdyYXRlZEVudGl0eSIsIm1vZGVsUmVLZXkiLCJjdXJyZW50VGFza0lkIiwiZXhlY3V0aW9uVGFza0VudGl0eSIsImV4dGFza0lkIiwicGFnZVJlYWR5Rm9yU3RhcnRTdGF0dXMiLCJ0aGlzIiwiRm9ybVJ1bnRpbWUiLCJTdHJpbmdVdGlsaXR5IiwiR3VpZCIsIkluaXRpYWxpemF0aW9uIiwiSW5zdGFuY2VJZCIsImluc3RhbmNlRW50aXR5IiwiaW5zdElkIiwiUmVuZGVyZXJUb0lkIiwiRm9ybUlkIiwiUmVjb3JkSWQiLCJCdXR0b25JZCIsIk9wZXJhdGlvblR5cGUiLCJCYXNlVXRpbGl0eSIsIkdldEFkZE9wZXJhdGlvbk5hbWUiLCJJc1ByZXZpZXciLCJSZW5kZXJlckNoYWluQ29tcGxldGVkRnVuYyIsImZvcm1SZW5kZXJlckNoYWluQ29tcGxldGVkRnVuYyIsIkxpc3RGb3JtQnV0dG9uRWxlbUlkIiwiV2ViRm9ybVJUUGFyYXMiLCJGb3JtUnVudGltZUNhdGVnb3J5IiwiUHJlSGFuZGxlRm9ybUh0bWxSdW50aW1lRnVuYyIsInByZUhhbmRsZUZvcm1IdG1sUnVudGltZUZ1bmMiLCJGbG93SW5zdGFuY2VSdW50aW1lUE8iLCJGbG93TW9kZWxSdW50aW1lUE9DYWNoZUtleSIsIklzU3RhcnRJbnN0YW5jZVN0YXR1cyIsIkN1cnJlbnROb2RlS2V5IiwiQ3VycmVudE5vZGVOYW1lIiwiTW9kZWxJZCIsIk1vZGVsUmVLZXkiLCJDdXJyZW50VGFza0lkIiwicmVuZGVyZXJBY3Rpb25CdXR0b25zIiwicGFnZVJlYWR5Rm9yUHJvY2Vzc1N0YXR1cyIsImluc3RSdUJ1c2luZXNzS2V5IiwiR2V0VXJsT1BQYXJhVmFsdWUiLCJyZW5kZXJlckZsb3dNb2RlbGVyRm9yVGFiT25BY3Rpdml0eSIsImV2ZW50IiwidWkiLCJDcmVhdGVNb2RlbGVyVmlldyIsInJlbmRlcmVyRmxvd0ZpbGVDb250YWluZXIiLCJGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luIiwiUmVuZGVyZXIiLCJzZW5kZXJDb25maWciLCJzb3VyY2VSdW50aW1lSHRtbCIsInByb3BDb25maWciLCJmbG93UGFnZUNvbnRhaW5lciIsImNoaWxkcmVuIiwibW9kZWxOYW1lIiwidGFiQ29udGFpbmVyIiwiamI0ZGNDb250ZW50RG9jdW1lbnRQbHVnaW4iLCJEb2N1bWVudENvbnRlbnRVcGxvYWRDb252ZXJ0VG9QREZQbHVnaW4iLCJHZXRIdG1sRWxlbSIsIkluc3RhbmNlRXhUYXNrTGlzdFBsdWdpbiIsImh0bWwiLCJjaGFuZ2VUYXNrVG9WaWV3IiwiY29uc29sZSIsImxvZyIsIkFqYXhVdGlsaXR5IiwiUG9zdCIsInJlc3VsdCIsIkZsb3dSdW50aW1lVmFyQnVpbGRlciIsIkJ1aWxkZXJTZWxlY3RlZFJlY2VpdmVyVG9JbnN0YW5jZVZhciIsIm5leHRGbG93Tm9kZUVudGl0aWVzIiwic2VsZWN0ZWRSZWNlaXZlckRhdGEiLCJyZXN1bHREYXRhIiwicmVjZWl2ZXIiLCJwdXNoIiwibmV4dE5vZGVJZCIsImZsb3dOb2RlRW50aXR5IiwiaWQiLCJyZWNlaXZlcklkIiwicmVjZWl2ZXJOYW1lIiwibmFtZSIsInJlY2VpdmVyVHlwZU5hbWUiLCJ0eXBlTmFtZSIsInJlY2VpdmVUeXBlIiwiYWNJbnRlcmZhY2UiLCJfUHJvcCIsImh0bWxJZCIsImF0dHIiLCJhZGRDbGFzcyIsInNlbmRlciIsImluc3RhbmNlSWQiLCJiaW5kIiwiQnV0dG9uQ2xpY2tFdmVudCIsIl90aGlzIiwiZGF0YSIsIkRpYWxvZ1V0aWxpdHkiLCJDb25maXJtIiwid2luZG93IiwicmVjYWxsTXlTZW5kVGFzayIsIkFsZXJ0TG9hZGluZyIsIkRpYWxvZ0xvYWRpbmdJZCIsIkNsb3NlRGlhbG9nIiwiT3BlbmVyV2luZG93T2JqIiwiaW5zdGFuY2VNYWluVGFza1Byb2Nlc3NMaXN0IiwicmVsb2FkRGF0YSIsIkFsZXJ0IiwiRGlhbG9nQWxlcnRJZCIsIkZyYW1lX0Nsb3NlRGlhbG9nIiwicmVzb2x2ZU5leHRQb3NzaWJsZUZsb3dOb2RlIiwiY29tcGxldGVUYXNrIiwibmV3T3Bpbmlvbkxpc3QiLCJpbnB1dE9waW5pb25UZXh0IiwiVHJ5R2V0T3BpbmlvbkJpbmRUb0NvbnRyb2xJbnN0YW5jZSIsIl9wcm9wIiwiY29udHJvbEVsZW0iLCJIVE1MQ29udHJvbCIsIkdldENvbnRyb2xJbnN0YW5jZUJ5RWxlbSIsInZhbGlkYXRlUmVzdWx0IiwiVmFsaWRhdGVSdWxlc1J1bnRpbWUiLCJWYWxpZGF0ZVN1Ym1pdEVuYWJsZSIsIkFsZXJ0VmFsaWRhdGVFcnJvcnMiLCJQcm9tcHQiLCJ0aXRsZSIsImhlaWdodCIsIndpZHRoIiwiRGlhbG9nUHJvbXB0SWQiLCJpbnB1dFRleHQiLCJvcGluaW9uQmluZFRvQ29udHJvbEluc3RhbmNlIiwiU2V0TmV3VmFsdWUiLCJCZWdpblNlbGVjdFJlY2VpdmVyIiwiQWxlcnRUZXh0Iiwic2VuZERhdGEiLCJCdWlsZFNlbmRUb1NlcnZlckRhdGEiLCJuZXh0VGFza0lzRW5kRXZlbnQiLCJTZWxlY3RSZWNlaXZlckNvbXBsZXRlZCIsImJwbW5UYXNrTGlzdCIsImN1cnJlbnRUYXNrSXNNdWx0aUluc3RhbmNlIiwiY3VycmVudFRhc2tNdWx0aUNvbXBsZXRlZEluc3RhbmNlcyIsImN1cnJlbnRUYXNrTXVsdGlDb3VudEVuZ0luc3RhbmNlcyIsIlVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dVdGlsaXR5IiwiU2hvd0RpYWxvZyIsIm5leHRUYXNrRW50aXR5TGlzdCIsInNlbGVjdGVkUmVjZWl2ZXJWYXJzIiwiQnVpbGROZXdPcGluaW9uIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSnNvblV0aWxpdHkiLCJKc29uVG9TdHJpbmciLCJuZXdPcGluaW9uTGlzdFN0cmluZyIsIkFsZXJ0RXJyb3IiLCJEaWFsb2dBbGVydEVycm9ySWQiLCJhcHBlbmRTZW5kTWFwIiwiZm9ybURhdGFDb21wbGV4UE8iLCJTZXJpYWxpemF0aW9uRm9ybURhdGEiLCJmb3JtUmVjb3JkQ29tcGxleFBPU3RyaW5nIiwia2V5Iiwib3BpbmlvblRleHQiLCJvcGluaW9uQ2xpZW50Q29kZSIsIlRpbWVzdGFtcCIsInNlbGVjdFJlY2VpdmVyQ29tcGxldGVkRnVuYyIsImRvY3VtZW50IiwiYm9keSIsIlZ1ZSIsImVsIiwiZ2V0UnVudGltZU1vZGVsV2l0aFN0YXJ0IiwibW91bnRlZCIsIm1ldGhvZHMiLCIkcmVmcyIsInVzZXJUYXNrUmVjZWl2ZXJEaWFsb2ciLCJiZWdpblNlbGVjdFJlY2VpdmVyIiwiQ2xvc2VEaWFsb2dFbGVtIiwidXNlclRhc2tSZWNlaXZlckRpYWxvZ1dyYXAiLCJyZW1vdmUiLCJSZW1vdmVEaWFsb2dSZW1haW5pbmdFbGVtIiwiY29tcG9uZW50IiwicmVjZWl2ZXJUcmVlIiwidHJlZVNldHRpbmciLCJ2aWV3IiwiZGJsQ2xpY2tFeHBhbmQiLCJzaG93TGluZSIsImZvbnRDc3MiLCJjb2xvciIsImZvbnQtd2VpZ2h0IiwiY2hlY2siLCJlbmFibGUiLCJub2NoZWNrSW5oZXJpdCIsInJhZGlvVHlwZSIsImFzeW5jIiwiY29udGVudFR5cGUiLCJ1cmwiLCJCdWlsZEFjdGlvbiIsImF1dG9QYXJhbSIsInNpbXBsZURhdGEiLCJpZEtleSIsInBJZEtleSIsInJvb3RQSWQiLCJjYWxsYmFjayIsIm9uQ2xpY2siLCJ0cmVlSWQiLCJ0cmVlTm9kZSIsIm9uRGJsQ2xpY2siLCJnZXRaVHJlZU9iaiIsIl9ob3N0IiwiYWRkUmVjZWl2ZXJUb1NlbGVjdGVkIiwiYmVmb3JlQXN5bmMiLCJ0cmVlT2JqTWFwIiwic2VsZWN0ZWRSZWNlaXZlciIsImNvbHVtbnNDb25maWciLCJhbGlnbiIsInNsb3QiLCJyZWNlaXZlckRhdGEiLCJmaWx0ZXJzIiwiZmlsdGVyUmVjZWl2ZXJEYXRhIiwiZmlsdGVyIiwiRGlhbG9nRWxlbU9iaiIsIm1vZGFsIiwicmVzaXphYmxlIiwiYnV0dG9ucyIsIuehruiupCIsInZhbGlkYXRlQ29tcGxldGVFbmFibGUiLCJjYWxsIiwi5Y+W5raIIiwib3BlbiIsInBhcmVudCIsImhpZGUiLCJzZXRUaW1lb3V0IiwiaW5pdFRyZWUiLCJnZXRSb290T3JnYW5NYWluUmVjZWl2ZU9iamVjdHMiLCJ2YWx1ZSIsInRleHQiLCJwYXJlbnRJZCIsIm91dGVySWQiLCJjb2RlIiwiYXR0cjEiLCJhdHRyMiIsImF0dHIzIiwiYXR0cjQiLCJub2RlVHlwZU5hbWUiLCJpY29uIiwibm9jaGVjayIsImlzUGFyZW50IiwiZGVzYyIsInN0YXR1cyIsIm9yZGVyTnVtIiwicnVudGltZVJlY2VpdmVVc2VycyIsImdyb3VwIiwiY3VzdE5hbWUiLCJleHRlbnNpb25FbGVtZW50cyIsImpiNGRjTWFpblJlY2VpdmVPYmplY3RzIiwicnVudGltZVJlY2VpdmVHcm91cHMiLCJ0cmVlT2JqS2V5IiwiYnVpbGRVbFRyZWVJZCIsImZuIiwielRyZWUiLCJpbml0IiwiamI0ZGNSZWNlaXZlT2JqZWN0TGlzdCIsIl90cmVlT2JqS2V5IiwiamI0ZGNDQ1JlY2VpdmVPYmplY3RzIiwiX3RyZWVPYmpLZXkyIiwiYWRkVHJlZVNlbGVjdGVkUmVjZWl2ZXJUb1NlbGVjdGVkIiwidHJlZUtleSIsInRyZWVPYmplY3QiLCJzZWxlY3ROb2RlcyIsImdldFNlbGVjdGVkTm9kZXMiLCJzZWxlY3ROb2RlIiwiaXNNdWx0aUluc3RhbmNlVGFzayIsImlubmVyU2luZ2xlSWQiLCJBcnJheVV0aWxpdHkiLCJFeGlzdCIsIml0ZW0iLCJEZWxldGUiLCJfaSIsImNoaWxkTm9kZSIsImNsZWFyU2VsZWN0ZWRSZWNlaXZlclRvU2VsZWN0ZWQiLCJkZWxldGVTZWxlY3RlZFJlY2VpdmVyIiwiaW5kZXgiLCJyb3ciLCJtdWx0aUluc3RhbmNlVGFzayIsImJ1aWxkVGFiTGFiZWwiLCJfdGhpczIiLCJlcnJvck1lc3NhZ2VzIiwiX2xvb3AiLCJ0YXNrVHlwZU5hbWUiLCJ0YXNrTmFtZSIsImVycm9yVGV4dEFyeSIsImpvaW4iLCJ0ZW1wbGF0ZSIsIm9uY2hhbmdlRmlsZSIsInZhbCIsInVwbG9hZEFuZENvbnZlcnRUb1BERiIsImJ1c2luZXNzS2V5IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImdldEVsZW1lbnRCeUlkIiwiZmlsZXMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ubG9hZCIsIlN0cmluZ1RvSnNvbiIsInJlc3BvbnNlIiwibG9hZFBERkZpbGVUb1ZpZXdlciIsImZpbGVJZCIsIkNsb3NlQnlFbGVtSWQiLCJyZXNwb25zZVRleHQiLCJ1cGxvYWQiLCJvbnByb2dyZXNzIiwibGVuZ3RoQ29tcHV0YWJsZSIsInBlcmNlbnQiLCJNYXRoIiwiZmxvb3IiLCJsb2FkZWQiLCJ0b3RhbCIsInNlbmQiLCJ0cnlMb2FkSGlzdG9yeURvY3VtZW50IiwiR2V0IiwiZmlsZVVybCIsIkdldFJvb3RQYXRoIiwiY29uY2F0IiwiX2N1cnJlbnROb2RlIiwiX2F1dGhvcml0aWVzRmlsZUF1dGhvcml0eSIsIl9hdXRob3JpdGllc09ubHlTZW5kQmFja0NhbkVkaXQiLCJXaGVyZSIsImJwbW5EZWZpbml0aW9ucyIsImJwbW5Qcm9jZXNzIiwidXNlclRhc2tMaXN0Iiwic3RhcnRFdmVudCIsImpiNGRjQXV0aG9yaXRpZXMiLCJhdXRob3JpdGllc0ZpbGVBdXRob3JpdHkiLCJhZGRGaWxlIiwiZ2V0RmlsZUxpc3REYXRhIiwidXBsb2FkRmlsZSIsImRvd25sb2FkRmlsZSIsImRlbGV0ZUZpbGUiLCJCdWlsZFVwbG9hZENvbnRhaW5lciIsIkJ1aWxkRmlsZUxpc3QiLCJUb1ZpZXdTdGF0dXMiLCIkZWxlbSIsImZpZWxkUE8iLCJyZWxhdGlvbkZvcm1SZWNvcmRDb21wbGV4UG8iLCJfcmVuZGVyZXJEYXRhQ2hhaW5QYXJhcyIsInVwbG9hZFdhcnBJZCIsImVsZW1JZCIsImZpbmQiLCJHZXRUaGlzUmVjb3JkSWQiLCJvYmpJZCIsIkdldFdlYkZvcm1SVFBhcmFzIiwiR2V0VGhpc1JlY29yZFR5cGUiLCJvYmpUeXBlIiwiR2V0VXBsb2FkRW5kUG9pbnRSZXF1ZXN0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJmaWxlVHlwZSIsIkNyZWF0ZURlZmF1bHRUZW1wbGF0ZSIsInRlbXBsYXRlSWQiLCIkc2luZ2xlQ29udHJvbEVsZW0iLCIkdXBsb2FkV2FycCIsInFxIiwiRmluZVVwbG9hZGVyIiwiZWxlbWVudCIsIm11bHRpcGxlIiwicmVxdWVzdCIsImNhbGxiYWNrcyIsIm9uQ29tcGxldGUiLCJyZXNwb25zZUpTT04iLCJ1cGxvYWRfZmlsZV9saXN0X3dyYXBfaWQiLCIkZGl2V2FycCIsIiR0Ym9keSIsImZpbGVJbmZvIiwiQnVpbGRGaWxlSW5mb1RhYmxlUm93IiwiZmlsZU5hbWUiLCJFbmNvZGVIdG1sIiwiZmlsZUNyZWF0ZVRpbWUiLCJEYXRlVXRpbGl0eSIsIkRhdGVGb3JtYXRCeVRpbWVTdGFtcCIsImZpbGVTaXplIiwiSGFyZERpc2tVdGlsaXR5IiwiQnl0ZUNvbnZlcnQiLCJmaWxlQ3JlYXRvck5hbWUiLCJmaWxlQ3JlYXRvciIsIiR0ck9iaiIsIkJ1aWxkRmlsZUluZm9UYWJsZVJvd0lubmVyQnV0dG9ucyIsIiR0ciIsImRvd25sb2FkRW5hYmxlIiwiZGVsZXRlRW5hYmxlIiwicHJldmlld0VuYWJsZSIsIm1vdmVPcmRlckVuYWJsZSIsIiR0ckxhc3RUZCIsIiRkZWxldGVFbGVtIiwiY2xpY2siLCIkbW92ZVVwRWxlbSIsIiRtb3ZlRG93bkVsZW0iLCIkZG93bmxvYWRFbGVtIiwiJHByZXZpZXdFbGVtIiwiVGVzdEZpbGVQcmV2aWV3RW5hYmxlIiwiX2hpc3RvcnlFeGVjdXRpb25UYXNrRW50aXR5TGlzdCIsIl9jdXJyZW50RXhUYXNrIiwiaGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0IiwiVmlld0RldGFpbCIsImV4VGFza0lkIiwiZXhUYXNrIiwiV2hlcmVTaW5nbGUiLCJBbGVydEpzb25Db2RlIiwiQ29udmVydFN0YXR1c1RvQ05OYW1lIiwiaHRtbFRhYmxlIiwiTnVsbFRvRVMiLCJleHRhc2tDdXJOb2RlTmFtZSIsImV4dGFza1NlbmRlck5hbWUiLCJleHRhc2tTdGFydFRpbWUiLCJleHRhc2tWaWV3VGltZSIsInJoTmFtZSIsImV4dGFza1JlY2VpdmVyTmFtZSIsImV4dGFza0hhbmRsZXJJZCIsImV4dGFza1JlY2VpdmVySWQiLCJJc051bGxPckVtcHR5IiwiZXh0YXNrSGFuZGxlck5hbWUiLCJleHRhc2tFbmRUaW1lIiwiZXh0YXNrSGFuZGxlQWN0aW9uTmFtZSIsImV4dGFza1N0YXR1cyIsImNsYXNzTmFtZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxJQ0FBQSwrQkRBQUMscUJBQUEsQ0FDQUMsc0JBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBQSxFQUFBQyxj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LGNBQUF5WSxTQUFBTCxFQUFBTSxtQkFDQUMsRUFBQTNZLGNBQUF5WSxTQUFBTCxFQUFBTyxrQkFDQUMsRUFBQTVZLGNBQUF5WSxTQUFBTCxFQUFBUSxpQkFDQUMsRUFBQTdZLGNBQUF5WSxTQUFBTCxFQUFBUyxnQkFDQUMsRUFBQTlZLGNBQUF5WSxTQUFBTCxFQUFBVyxvQkFDQUMsRUFBQWhaLGNBQUF5WSxTQUFBTCxFQUFBWSxpQkFDQUMsRUFBQWpaLGNBQUF5WSxTQUFBTCxFQUFBYSxrQkFFQWpaLGNBQUFrWixjQUFBRixJQUFBQyxHQUFBRCxJQUNBRixFQUFBOVksY0FBQXlZLFNBQUFMLEVBQUFXLG9CQUFBLElBQUEvWSxjQUFBeVksU0FBQUwsRUFBQWUsb0JBR0FuWixjQUFBeVksU0FBQUwsRUFBQWUsbUJBQUEsSUFDQUMsRUFBQXBaLGNBQUF5WSxTQUFBTCxFQUFBZ0IsZUFDQUMsRUFBQXJaLGNBQUF5WSxTQUFBTCxFQUFBaUIsd0JBQ0FDLEVBQUF4WixLQUFBeVksc0JBQUF2WSxjQUFBeVksU0FBQUwsRUFBQWtCLGVBQ0FDLEVBQUEsWUFFQXpaLEtBQUFrWSxlQUFBcFksVUFBQUEsSUFDQTJaLEVBQUEsbUJBR0FmLEdBQUEsY0FBQXRGLE9BQUFxRyxFQUFBLHdDQUFBckcsT0FBQXdGLEVBQUEsYUFBQXhGLE9BQUF5RixFQUFBLGFBQUF6RixPQUFBMEYsRUFBQSwyQ0FBQTFGLE9BQUEyRixFQUFBLGFBQUEzRixPQUFBNEYsRUFBQSxhQUFBNUYsT0FBQWtHLEVBQUEsMkNBQUFsRyxPQUFBbUcsRUFBQSxhQUFBbkcsT0FBQW9HLEVBQUEsK0RBQUFwRyxPQUFBdFQsRUFBQSx5QkFJQSxPQURBNFksR0FBQSIsImZpbGUiOiJXb3JrRmxvd1J1bnRpbWVGdWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBBY3Rpb25zUnVudGltZU9iamVjdCA9IHtcbiAgQ3JlYXRlQUxMQWN0aW9uQnV0dG9uOiBmdW5jdGlvbiBDcmVhdGVBTExBY3Rpb25CdXR0b24oaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMpIHtcbiAgICBpZiAocGFnZVJlYWR5SW5uZXJQYXJhcy5qYjRkY0FjdGlvbnMgJiYgcGFnZVJlYWR5SW5uZXJQYXJhcy5qYjRkY0FjdGlvbnMuamI0ZGNBY3Rpb25MaXN0KSB7XG4gICAgICB2YXIgYnV0dG9uRWxlbTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlUmVhZHlJbm5lclBhcmFzLmpiNGRjQWN0aW9ucy5qYjRkY0FjdGlvbkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFjdGlvbk9iaiA9IHBhZ2VSZWFkeUlubmVyUGFyYXMuamI0ZGNBY3Rpb25zLmpiNGRjQWN0aW9uTGlzdFtpXTtcblxuICAgICAgICBpZiAoYWN0aW9uT2JqLmp1ZWxSdW5SZXN1bHRQTy5ib29sZWFuUmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGFjdGlvbk9iai5hY3Rpb25UeXBlID09IFwic2VuZFwiKSB7XG4gICAgICAgICAgICB2YXIgc2VuZEFjdGlvbk9iamVjdCA9IE9iamVjdC5jcmVhdGUoU2VuZEFjdGlvbik7XG4gICAgICAgICAgICBidXR0b25FbGVtID0gc2VuZEFjdGlvbk9iamVjdC5JbnN0YW5jZShpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcywgYWN0aW9uT2JqKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbk9iai5hY3Rpb25UeXBlID09IFwicmVjYWxsXCIpIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja0FjdGlvbk9iamVjdCA9IE9iamVjdC5jcmVhdGUoUmVjYWxsQWN0aW9uKTtcbiAgICAgICAgICAgIGJ1dHRvbkVsZW0gPSBjYWxsYmFja0FjdGlvbk9iamVjdC5JbnN0YW5jZShpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcywgYWN0aW9uT2JqKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbk9iai5hY3Rpb25UeXBlID09IFwiZGVsZXRlSW5zdGFuY2VcIikge1xuICAgICAgICAgICAgdmFyIGRlbGV0ZUluc3RhbmNlQWN0aW9uT2JqZWN0ID0gT2JqZWN0LmNyZWF0ZShEZWxldGVJbnN0YW5jZUFjdGlvbik7XG4gICAgICAgICAgICBidXR0b25FbGVtID0gZGVsZXRlSW5zdGFuY2VBY3Rpb25PYmplY3QuSW5zdGFuY2UoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGFjdGlvbk9iaik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJChcIiNmbG93V29ya0FjdGlvbkJ1dHRvbldyYXBPdXRlclwiKS5hcHBlbmQoYnV0dG9uRWxlbS5lbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgR2V0QWN0aW9uT2JqOiBmdW5jdGlvbiBHZXRBY3Rpb25PYmooKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbkF1dG9TZW5kOiBcImZhbHNlXCIsXG4gICAgICBhY3Rpb25DQ1JlY2VpdmVPYmplY3RzOiBcIltdXCIsXG4gICAgICBhY3Rpb25DYWxsQXBpczogXCJbXVwiLFxuICAgICAgYWN0aW9uQ2FsbENvbXBsZXRlOiBcInRydWVcIixcbiAgICAgIGFjdGlvbkNhbGxKc01ldGhvZDogbnVsbCxcbiAgICAgIGFjdGlvbkNhcHRpb246IFwi6I2J56i/XCIsXG4gICAgICBhY3Rpb25Db2RlOiBcImFjdGlvbl81MTYwMDk3NzVcIixcbiAgICAgIGFjdGlvbkNvbmZpcm06IFwiZmFsc2VcIixcbiAgICAgIGFjdGlvbkRpc3BsYXlDb25kaXRpb25FZGl0VGV4dDogbnVsbCxcbiAgICAgIGFjdGlvbkRpc3BsYXlDb25kaXRpb25FZGl0VmFsdWU6IG51bGwsXG4gICAgICBhY3Rpb25FeGVjdXRlVmFyaWFibGVzOiBcIltdXCIsXG4gICAgICBhY3Rpb25IVE1MQ2xhc3M6IG51bGwsXG4gICAgICBhY3Rpb25IVE1MSWQ6IG51bGwsXG4gICAgICBhY3Rpb25NYWluUmVjZWl2ZU9iamVjdHM6IFwiW11cIixcbiAgICAgIGFjdGlvblJ1blNxbHM6IFwiW11cIixcbiAgICAgIGFjdGlvblNlbmRNZXNzYWdlSWQ6IG51bGwsXG4gICAgICBhY3Rpb25TZW5kU2lnbmFsSWQ6IG51bGwsXG4gICAgICBhY3Rpb25TaG93T3BpbmlvbkRpYWxvZzogXCJmYWxzZVwiLFxuICAgICAgYWN0aW9uVHlwZTogXCJzZW5kXCIsXG4gICAgICBhY3Rpb25VcGRhdGVGaWVsZHM6IFwiW11cIixcbiAgICAgIGFjdGlvblZhbGlkYXRlOiBcIuaXoFwiLFxuICAgICAgYWN0aW9uT3BpbmlvbkJpbmRUb0VsZW1JZDogbnVsbCxcbiAgICAgIGFjdGlvbk9waW5pb25CaW5kVG9GaWVsZDogbnVsbCxcbiAgICAgIGp1ZWxSdW5SZXN1bHRQTzoge1xuICAgICAgICBib29sZWFuUmVzdWx0OiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICBzdHJpbmdSZXN1bHQ6IFwiXCIsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgIH0sXG4gICAgICBhY3Rpb25EaXNhYmxlOiBcImVuYWJsZVwiLFxuICAgICAgYWN0aW9uUmVtYXJrOiBcIlwiXG4gICAgfTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZTtcbnZhciBVc2VyVGFza1JlY2VpdmVyRGlhbG9nVXRpbGl0eSA9IHtcbiAgU2hvd0RpYWxvZzogZnVuY3Rpb24gU2hvd0RpYWxvZyhzZW5kZXIsIG5leHRGbG93Tm9kZUVudGl0aWVzLCBzZWxlY3RSZWNlaXZlckNvbXBsZXRlZEZ1bmMpIHtcbiAgICBpZiAoIXVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZSkge1xuICAgICAgJChkb2N1bWVudC5ib2R5KS5hcHBlbmQoXCI8ZGl2IGlkPSd1c2VyVGFza1JlY2VpdmVyRGlhbG9nT3V0ZXInPjx1c2VyLXRhc2stcmVjZWl2ZXItZGlhbG9nIHJlZj0ndXNlclRhc2tSZWNlaXZlckRpYWxvZyc+PC91c2VyLXRhc2stcmVjZWl2ZXItZGlhbG9nPjwvZGl2PlwiKTtcbiAgICAgIHVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZSA9IG5ldyBWdWUoe1xuICAgICAgICBlbDogXCIjdXNlclRhc2tSZWNlaXZlckRpYWxvZ091dGVyXCIsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhY0ludGVyZmFjZToge1xuICAgICAgICAgICAgZ2V0UnVudGltZU1vZGVsV2l0aFN0YXJ0OiBcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L01vZGVsUnVudGltZS9HZXRSdW50aW1lTW9kZWxXaXRoU3RhcnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LFxuICAgICAgICBtZXRob2RzOiB7fVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXNlclRhc2tSZWNlaXZlckRpYWxvZ091dGVyVnVlLiRyZWZzLnVzZXJUYXNrUmVjZWl2ZXJEaWFsb2cuYmVnaW5TZWxlY3RSZWNlaXZlcihzZW5kZXIsIG5leHRGbG93Tm9kZUVudGl0aWVzLCBzZWxlY3RSZWNlaXZlckNvbXBsZXRlZEZ1bmMpO1xuICB9LFxuICBDbG9zZURpYWxvZzogZnVuY3Rpb24gQ2xvc2VEaWFsb2coKSB7XG4gICAgRGlhbG9nVXRpbGl0eS5DbG9zZURpYWxvZ0VsZW0odXNlclRhc2tSZWNlaXZlckRpYWxvZ091dGVyVnVlLiRyZWZzLnVzZXJUYXNrUmVjZWl2ZXJEaWFsb2cuJHJlZnMudXNlclRhc2tSZWNlaXZlckRpYWxvZ1dyYXApO1xuICAgIHVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dPdXRlclZ1ZSA9IG51bGw7XG4gICAgJChcIiN1c2VyVGFza1JlY2VpdmVyRGlhbG9nT3V0ZXJcIikucmVtb3ZlKCk7XG4gICAgRGlhbG9nVXRpbGl0eS5SZW1vdmVEaWFsb2dSZW1haW5pbmdFbGVtKFwidXNlclRhc2tSZWNlaXZlckRpYWxvZ0lubmVyXCIpO1xuICB9XG59O1xuVnVlLmNvbXBvbmVudChcInVzZXItdGFzay1yZWNlaXZlci1kaWFsb2dcIiwge1xuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY0ludGVyZmFjZToge30sXG4gICAgICBuZXh0Rmxvd05vZGVFbnRpdGllczogW10sXG4gICAgICByZWNlaXZlclRyZWU6IHtcbiAgICAgICAgdHJlZVNldHRpbmc6IHtcbiAgICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICBkYmxDbGlja0V4cGFuZDogZmFsc2UsXG4gICAgICAgICAgICBzaG93TGluZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvbnRDc3M6IHtcbiAgICAgICAgICAgICAgJ2NvbG9yJzogJ2JsYWNrJyxcbiAgICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ25vcm1hbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoZWNrOiB7XG4gICAgICAgICAgICBlbmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgbm9jaGVja0luaGVyaXQ6IGZhbHNlLFxuICAgICAgICAgICAgcmFkaW9UeXBlOiBcImFsbFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhc3luYzoge1xuICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gICAgICAgICAgICB1cmw6IEJhc2VVdGlsaXR5LkJ1aWxkQWN0aW9uKFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvUmVjZWl2ZXJSdW50aW1lL0dldEFzeW5jUmVjZWl2ZXJzXCIpLFxuICAgICAgICAgICAgYXV0b1BhcmFtOiBbXCJpZFwiLCBcInR5cGVOYW1lXCIsIFwibmFtZVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAga2V5OiB7XG4gICAgICAgICAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogXCJydW50aW1lUmVjZWl2ZVVzZXJzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaW1wbGVEYXRhOiB7XG4gICAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgaWRLZXk6IFwiaWRcIixcbiAgICAgICAgICAgICAgcElkS2V5OiBcInBhcmVudElkXCIsXG4gICAgICAgICAgICAgIHJvb3RQSWQ6IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhbGxiYWNrOiB7XG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50LCB0cmVlSWQsIHRyZWVOb2RlKSB7fSxcbiAgICAgICAgICAgIG9uRGJsQ2xpY2s6IGZ1bmN0aW9uIG9uRGJsQ2xpY2soZXZlbnQsIHRyZWVJZCwgdHJlZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcy5nZXRaVHJlZU9iaih0cmVlSWQpLl9ob3N0O1xuXG4gICAgICAgICAgICAgIHZhciBmbG93Tm9kZUVudGl0eSA9IHRoaXMuZ2V0WlRyZWVPYmoodHJlZUlkKS5mbG93Tm9kZUVudGl0eTtcbiAgICAgICAgICAgICAgdmFyIHJlY2VpdmVUeXBlID0gdGhpcy5nZXRaVHJlZU9iaih0cmVlSWQpLnJlY2VpdmVUeXBlO1xuXG4gICAgICAgICAgICAgIF90aGlzLmFkZFJlY2VpdmVyVG9TZWxlY3RlZCh0cmVlTm9kZSwgZmxvd05vZGVFbnRpdHksIHJlY2VpdmVUeXBlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiZWZvcmVBc3luYzogZnVuY3Rpb24gYmVmb3JlQXN5bmModHJlZUlkLCB0cmVlTm9kZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0cmVlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdHJlZU9iak1hcDoge31cbiAgICAgIH0sXG4gICAgICBzZWxlY3RlZFJlY2VpdmVyOiB7XG4gICAgICAgIGNvbHVtbnNDb25maWc6IFt7XG4gICAgICAgICAgdGl0bGU6ICflt7LpgInnlKjmiLcnLFxuICAgICAgICAgIGtleTogJ25hbWUnLFxuICAgICAgICAgIHdpZHRoOiAxODgsXG4gICAgICAgICAgYWxpZ246IFwiY2VudGVyXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpdGxlOiAn5pON5L2cJyxcbiAgICAgICAgICBzbG90OiAnYWN0aW9uJyxcbiAgICAgICAgICB3aWR0aDogNzAsXG4gICAgICAgICAgYWxpZ246IFwiY2VudGVyXCJcbiAgICAgICAgfV0sXG4gICAgICAgIHJlY2VpdmVyRGF0YTogW11cbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sXG4gIGZpbHRlcnM6IHtcbiAgICBmaWx0ZXJSZWNlaXZlckRhdGE6IGZ1bmN0aW9uIGZpbHRlclJlY2VpdmVyRGF0YShyZWNlaXZlckRhdGEsIGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSkge1xuICAgICAgcmV0dXJuIHJlY2VpdmVyRGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJlY2VpdmVyKSB7XG4gICAgICAgIHJldHVybiByZWNlaXZlci5mbG93Tm9kZUVudGl0eS5pZCA9PSBmbG93Tm9kZUVudGl0eS5pZCAmJiByZWNlaXZlci5yZWNlaXZlVHlwZSA9PSByZWNlaXZlVHlwZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGJlZ2luU2VsZWN0UmVjZWl2ZXI6IGZ1bmN0aW9uIGJlZ2luU2VsZWN0UmVjZWl2ZXIoc2VuZGVyLCBuZXh0Rmxvd05vZGVFbnRpdGllcywgc2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWRGdW5jKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZWxlbSA9IHRoaXMuJHJlZnMudXNlclRhc2tSZWNlaXZlckRpYWxvZ1dyYXA7XG4gICAgICBEaWFsb2dVdGlsaXR5LkRpYWxvZ0VsZW1PYmooZWxlbSwge1xuICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgd2lkdGg6IDY1MCxcbiAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgIHRpdGxlOiBcIumAieaLqeaOpeaUtuS6uuWRmFwiLFxuICAgICAgICByZXNpemFibGU6IGZhbHNlLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgXCLnoa7orqRcIjogZnVuY3Rpb24gXygpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZGF0ZUNvbXBsZXRlRW5hYmxlKCkuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBzZWxlY3RSZWNlaXZlckNvbXBsZXRlZEZ1bmMuY2FsbChzZW5kZXIsIF90aGlzLm5leHRGbG93Tm9kZUVudGl0aWVzLCBfdGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIuWPlua2iFwiOiBmdW5jdGlvbiBfKCkge1xuICAgICAgICAgICAgVXNlclRhc2tSZWNlaXZlckRpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2coKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgJChcIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIiwgJCh0aGlzKS5wYXJlbnQoKSkuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmV4dEZsb3dOb2RlRW50aXRpZXMgPSBuZXh0Rmxvd05vZGVFbnRpdGllcztcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuaW5pdFRyZWUsIDUwMCk7XG4gICAgfSxcbiAgICBnZXRSb290T3JnYW5NYWluUmVjZWl2ZU9iamVjdHM6IGZ1bmN0aW9uIGdldFJvb3RPcmdhbk1haW5SZWNlaXZlT2JqZWN0cygpIHtcbiAgICAgIHJldHVybiBbe1xuICAgICAgICBcInZhbHVlXCI6IG51bGwsXG4gICAgICAgIFwidGV4dFwiOiBudWxsLFxuICAgICAgICBcImlkXCI6IFwiMFwiLFxuICAgICAgICBcInBhcmVudElkXCI6IG51bGwsXG4gICAgICAgIFwib3V0ZXJJZFwiOiBudWxsLFxuICAgICAgICBcImNvZGVcIjogXCIwMDAwXCIsXG4gICAgICAgIFwiYXR0cjFcIjogbnVsbCxcbiAgICAgICAgXCJhdHRyMlwiOiBudWxsLFxuICAgICAgICBcImF0dHIzXCI6IG51bGwsXG4gICAgICAgIFwiYXR0cjRcIjogbnVsbCxcbiAgICAgICAgXCJub2RlVHlwZU5hbWVcIjogbnVsbCxcbiAgICAgICAgXCJpY29uXCI6IG51bGwsXG4gICAgICAgIFwibm9jaGVja1wiOiBmYWxzZSxcbiAgICAgICAgXCJpc1BhcmVudFwiOiBcInRydWVcIixcbiAgICAgICAgXCJvcGVuXCI6IGZhbHNlLFxuICAgICAgICBcIm5hbWVcIjogXCLnu4Tnu4fmnLrmnoTnrqHnkIZcIixcbiAgICAgICAgXCJ0eXBlTmFtZVwiOiBcIk9yZ2Fuc1wiLFxuICAgICAgICBcImRlc2NcIjogbnVsbCxcbiAgICAgICAgXCJzdGF0dXNcIjogXCLlkK/nlKhcIixcbiAgICAgICAgXCJmaWx0ZXJcIjogXCJcIixcbiAgICAgICAgXCJvcmRlck51bVwiOiAyMixcbiAgICAgICAgXCJydW50aW1lUmVjZWl2ZVVzZXJzXCI6IG51bGwsXG4gICAgICAgIFwiZ3JvdXBcIjogdHJ1ZSxcbiAgICAgICAgXCJjdXN0TmFtZVwiOiBmYWxzZVxuICAgICAgfV07XG4gICAgfSxcbiAgICBpbml0VHJlZTogZnVuY3Rpb24gaW5pdFRyZWUoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubmV4dEZsb3dOb2RlRW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZsb3dOb2RlRW50aXR5ID0gdGhpcy5uZXh0Rmxvd05vZGVFbnRpdGllc1tpXTtcblxuICAgICAgICBpZiAoZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMgJiYgZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNNYWluUmVjZWl2ZU9iamVjdHMgJiYgZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNNYWluUmVjZWl2ZU9iamVjdHMucnVudGltZVJlY2VpdmVHcm91cHMpIHtcbiAgICAgICAgICB2YXIgdHJlZU9iaktleSA9IHRoaXMuYnVpbGRVbFRyZWVJZChmbG93Tm9kZUVudGl0eSwgXCJtYWluXCIpO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbdHJlZU9iaktleV0gPSAkLmZuLnpUcmVlLmluaXQoJChcIiNcIiArIHRyZWVPYmpLZXkpLCB0aGlzLnJlY2VpdmVyVHJlZS50cmVlU2V0dGluZywgZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNNYWluUmVjZWl2ZU9iamVjdHMucnVudGltZVJlY2VpdmVHcm91cHMpO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbdHJlZU9iaktleV0uX2hvc3QgPSB0aGlzO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbdHJlZU9iaktleV0uZmxvd05vZGVFbnRpdHkgPSBmbG93Tm9kZUVudGl0eTtcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW3RyZWVPYmpLZXldLnJlY2VpdmVUeXBlID0gXCJtYWluXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoIWZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzIHx8ICFmbG93Tm9kZUVudGl0eS5leHRlbnNpb25FbGVtZW50cy5qYjRkY01haW5SZWNlaXZlT2JqZWN0cyB8fCAhZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNNYWluUmVjZWl2ZU9iamVjdHMuamI0ZGNSZWNlaXZlT2JqZWN0TGlzdCkge1xuICAgICAgICAgIHZhciBfdHJlZU9iaktleSA9IHRoaXMuYnVpbGRVbFRyZWVJZChmbG93Tm9kZUVudGl0eSwgXCJtYWluXCIpO1xuXG4gICAgICAgICAgdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFtfdHJlZU9iaktleV0gPSAkLmZuLnpUcmVlLmluaXQoJChcIiNcIiArIF90cmVlT2JqS2V5KSwgdGhpcy5yZWNlaXZlclRyZWUudHJlZVNldHRpbmcsIHRoaXMuZ2V0Um9vdE9yZ2FuTWFpblJlY2VpdmVPYmplY3RzKCkpO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbX3RyZWVPYmpLZXldLl9ob3N0ID0gdGhpcztcbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW190cmVlT2JqS2V5XS5mbG93Tm9kZUVudGl0eSA9IGZsb3dOb2RlRW50aXR5O1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbX3RyZWVPYmpLZXldLnJlY2VpdmVUeXBlID0gXCJtYWluXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMgJiYgZmxvd05vZGVFbnRpdHkuZXh0ZW5zaW9uRWxlbWVudHMuamI0ZGNDQ1JlY2VpdmVPYmplY3RzICYmIGZsb3dOb2RlRW50aXR5LmV4dGVuc2lvbkVsZW1lbnRzLmpiNGRjQ0NSZWNlaXZlT2JqZWN0cy5ydW50aW1lUmVjZWl2ZUdyb3Vwcykge1xuICAgICAgICAgIHZhciBfdHJlZU9iaktleTIgPSB0aGlzLmJ1aWxkVWxUcmVlSWQoZmxvd05vZGVFbnRpdHksIFwiY2NcIik7XG5cbiAgICAgICAgICB0aGlzLnJlY2VpdmVyVHJlZS50cmVlT2JqTWFwW190cmVlT2JqS2V5Ml0gPSAkLmZuLnpUcmVlLmluaXQoJChcIiNcIiArIF90cmVlT2JqS2V5MiksIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVTZXR0aW5nLCBmbG93Tm9kZUVudGl0eS5leHRlbnNpb25FbGVtZW50cy5qYjRkY0NDUmVjZWl2ZU9iamVjdHMucnVudGltZVJlY2VpdmVHcm91cHMpO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZXJUcmVlLnRyZWVPYmpNYXBbX3RyZWVPYmpLZXkyXS5faG9zdCA9IHRoaXM7XG4gICAgICAgICAgdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFtfdHJlZU9iaktleTJdLmZsb3dOb2RlRW50aXR5ID0gZmxvd05vZGVFbnRpdHk7XG4gICAgICAgICAgdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFtfdHJlZU9iaktleTJdLnJlY2VpdmVUeXBlID0gXCJjY1wiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBidWlsZFVsVHJlZUlkOiBmdW5jdGlvbiBidWlsZFVsVHJlZUlkKGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSkge1xuICAgICAgcmV0dXJuICd1bFRyZWVfJyArIHJlY2VpdmVUeXBlICsgXCJfXCIgKyBmbG93Tm9kZUVudGl0eS5pZDtcbiAgICB9LFxuICAgIGFkZFRyZWVTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZDogZnVuY3Rpb24gYWRkVHJlZVNlbGVjdGVkUmVjZWl2ZXJUb1NlbGVjdGVkKGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSkge1xuICAgICAgdmFyIHRyZWVLZXkgPSB0aGlzLmJ1aWxkVWxUcmVlSWQoZmxvd05vZGVFbnRpdHksIHJlY2VpdmVUeXBlKTtcbiAgICAgIHZhciB0cmVlT2JqZWN0ID0gdGhpcy5yZWNlaXZlclRyZWUudHJlZU9iak1hcFt0cmVlS2V5XTtcblxuICAgICAgaWYgKHRyZWVPYmplY3QpIHtcbiAgICAgICAgdmFyIHNlbGVjdE5vZGVzID0gdHJlZU9iamVjdC5nZXRTZWxlY3RlZE5vZGVzKCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdE5vZGVzICYmIHNlbGVjdE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLmFkZFJlY2VpdmVyVG9TZWxlY3RlZChzZWxlY3ROb2Rlc1swXSwgZmxvd05vZGVFbnRpdHksIHJlY2VpdmVUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYWRkUmVjZWl2ZXJUb1NlbGVjdGVkOiBmdW5jdGlvbiBhZGRSZWNlaXZlclRvU2VsZWN0ZWQoc2VsZWN0Tm9kZSwgZmxvd05vZGVFbnRpdHksIHJlY2VpdmVUeXBlKSB7XG4gICAgICB2YXIgaXNNdWx0aUluc3RhbmNlVGFzayA9IHRoaXMuaXNNdWx0aUluc3RhbmNlVGFzayhmbG93Tm9kZUVudGl0eSk7XG4gICAgICB2YXIgaW5uZXJTaW5nbGVJZCA9IGZsb3dOb2RlRW50aXR5LmlkICsgXCJfXCIgKyByZWNlaXZlVHlwZSArIFwiX1wiICsgc2VsZWN0Tm9kZS5pZDtcblxuICAgICAgaWYgKHNlbGVjdE5vZGUudHlwZU5hbWUgPT0gXCJTaW5nbGVVc2VyXCIpIHtcbiAgICAgICAgc2VsZWN0Tm9kZS5pbm5lclNpbmdsZUlkID0gaW5uZXJTaW5nbGVJZDtcbiAgICAgICAgc2VsZWN0Tm9kZS5mbG93Tm9kZUVudGl0eSA9IGZsb3dOb2RlRW50aXR5O1xuICAgICAgICBzZWxlY3ROb2RlLnJlY2VpdmVUeXBlID0gcmVjZWl2ZVR5cGU7XG5cbiAgICAgICAgaWYgKChyZWNlaXZlVHlwZSA9PSBcImNjXCIgfHwgaXNNdWx0aUluc3RhbmNlVGFzaykgJiYgIUFycmF5VXRpbGl0eS5FeGlzdCh0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLmlubmVyU2luZ2xlSWQgPT0gaW5uZXJTaW5nbGVJZDtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLnB1c2goc2VsZWN0Tm9kZSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZVR5cGUgPT0gXCJtYWluXCIgJiYgIWlzTXVsdGlJbnN0YW5jZVRhc2spIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhW2ldLmZsb3dOb2RlRW50aXR5LmlkID09IGZsb3dOb2RlRW50aXR5LmlkICYmIHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGFbaV0ucmVjZWl2ZVR5cGUgPT0gcmVjZWl2ZVR5cGUpIHtcbiAgICAgICAgICAgICAgQXJyYXlVdGlsaXR5LkRlbGV0ZSh0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLnB1c2goc2VsZWN0Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNNdWx0aUluc3RhbmNlVGFzayAmJiAoc2VsZWN0Tm9kZS50eXBlTmFtZSA9PSBcIlVzZXJzXCIgfHwgc2VsZWN0Tm9kZS50eXBlTmFtZSA9PSBcIlJvbGVcIiB8fCBzZWxlY3ROb2RlLnR5cGVOYW1lID09IFwiT3JnYW5zXCIpKSB7XG4gICAgICAgIGlmIChzZWxlY3ROb2RlLnJ1bnRpbWVSZWNlaXZlVXNlcnMgIT0gbnVsbCAmJiBzZWxlY3ROb2RlLnJ1bnRpbWVSZWNlaXZlVXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBzZWxlY3ROb2RlLnJ1bnRpbWVSZWNlaXZlVXNlcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGROb2RlID0gc2VsZWN0Tm9kZS5ydW50aW1lUmVjZWl2ZVVzZXJzW19pXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZS50eXBlTmFtZSA9PSBcIlNpbmdsZVVzZXJcIikge1xuICAgICAgICAgICAgICB0aGlzLmFkZFJlY2VpdmVyVG9TZWxlY3RlZChjaGlsZE5vZGUsIGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhclNlbGVjdGVkUmVjZWl2ZXJUb1NlbGVjdGVkOiBmdW5jdGlvbiBjbGVhclNlbGVjdGVkUmVjZWl2ZXJUb1NlbGVjdGVkKGZsb3dOb2RlRW50aXR5LCByZWNlaXZlVHlwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gdGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YVtpXTtcblxuICAgICAgICBpZiAocmVjZWl2ZXIuZmxvd05vZGVFbnRpdHkuaWQgPT0gZmxvd05vZGVFbnRpdHkuaWQgJiYgcmVjZWl2ZXIucmVjZWl2ZVR5cGUgPT0gcmVjZWl2ZVR5cGUpIHtcbiAgICAgICAgICBBcnJheVV0aWxpdHkuRGVsZXRlKHRoaXMuc2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEsIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVTZWxlY3RlZFJlY2VpdmVyOiBmdW5jdGlvbiBkZWxldGVTZWxlY3RlZFJlY2VpdmVyKGluZGV4LCByb3cpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YVtpXS5pbm5lclNpbmdsZUlkID09IHJvdy5pbm5lclNpbmdsZUlkKSB7XG4gICAgICAgICAgQXJyYXlVdGlsaXR5LkRlbGV0ZSh0aGlzLnNlbGVjdGVkUmVjZWl2ZXIucmVjZWl2ZXJEYXRhLCBpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgaXNNdWx0aUluc3RhbmNlVGFzazogZnVuY3Rpb24gaXNNdWx0aUluc3RhbmNlVGFzayhmbG93Tm9kZUVudGl0eSkge1xuICAgICAgcmV0dXJuIGZsb3dOb2RlRW50aXR5Lm11bHRpSW5zdGFuY2VUYXNrO1xuICAgIH0sXG4gICAgYnVpbGRUYWJMYWJlbDogZnVuY3Rpb24gYnVpbGRUYWJMYWJlbChmbG93Tm9kZUVudGl0eSkge1xuICAgICAgcmV0dXJuIGZsb3dOb2RlRW50aXR5Lm5hbWUgKyBcIiBbXCIgKyAodGhpcy5pc011bHRpSW5zdGFuY2VUYXNrKGZsb3dOb2RlRW50aXR5KSA/IFwi5aSa5Lq6XCIgOiBcIuWNleS6ulwiKSArIFwiXVwiO1xuICAgIH0sXG4gICAgdmFsaWRhdGVDb21wbGV0ZUVuYWJsZTogZnVuY3Rpb24gdmFsaWRhdGVDb21wbGV0ZUVuYWJsZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgZXJyb3JNZXNzYWdlcyA9IFtdO1xuICAgICAgdmFyIHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7XG4gICAgICAgIGlmIChfdGhpczIubmV4dEZsb3dOb2RlRW50aXRpZXNbaV0udGFza1R5cGVOYW1lID09IFwiY29tLmpiNGRjLndvcmtmbG93LnBvLmJwbW4ucHJvY2Vzcy5CcG1uVXNlclRhc2tcIikge1xuICAgICAgICAgIGlmICghQXJyYXlVdGlsaXR5LkV4aXN0KF90aGlzMi5zZWxlY3RlZFJlY2VpdmVyLnJlY2VpdmVyRGF0YSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmZsb3dOb2RlRW50aXR5LmlkID09IF90aGlzMi5uZXh0Rmxvd05vZGVFbnRpdGllc1tpXS5pZCAmJiBpdGVtLnJlY2VpdmVUeXBlID09IFwibWFpblwiO1xuICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICB0YXNrTmFtZTogX3RoaXMyLm5leHRGbG93Tm9kZUVudGl0aWVzW2ldLm5hbWUsXG4gICAgICAgICAgICAgIGZsb3dOb2RlRW50aXR5OiBfdGhpczIubmV4dEZsb3dOb2RlRW50aXRpZXNbaV0sXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwi546v6IqCW1wiICsgX3RoaXMyLm5leHRGbG93Tm9kZUVudGl0aWVzW2ldLm5hbWUgKyBcIl3oh7PlsJHpnIDopoHorr7nva7kuIDkuKrmjqXmlLbnlKjmiLchXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5leHRGbG93Tm9kZUVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIF9sb29wKGkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyb3JNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBlcnJvclRleHRBcnkgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVycm9yTWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBlcnJvclRleHRBcnkucHVzaChlcnJvck1lc3NhZ2VzW2ldLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydFRleHQoZXJyb3JUZXh0QXJ5LmpvaW4oXCI8YnIgLz5cIiksIHRoaXMpO1xuICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB0ZW1wbGF0ZTogXCI8ZGl2IGlkPVxcXCJ1c2VyVGFza1JlY2VpdmVyRGlhbG9nSW5uZXJcXFwiIHJlZj1cXFwidXNlclRhc2tSZWNlaXZlckRpYWxvZ1dyYXBcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lXFxcIj5cXG4gICAgICAgICAgICAgICAgPHRhYnMgbmFtZT1cXFwidXNlclRhc2tSZWNlaXZlckRpYWxvZ1RhYnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHRhYi1wYW5lIDpsYWJlbD1cXFwiYnVpbGRUYWJMYWJlbChmbG93Tm9kZUVudGl0eSlcXFwiIHRhYj1cXFwidXNlclRhc2tSZWNlaXZlckRpYWxvZ1RhYnNcXFwiIHYtZm9yPVxcXCJmbG93Tm9kZUVudGl0eSBpbiBuZXh0Rmxvd05vZGVFbnRpdGllc1xcXCIgOmtleT1cXFwiZmxvd05vZGVFbnRpdHkuaWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2xsYXBzZSBhY2NvcmRpb24gdmFsdWU9XFxcIm1haW5SZWNlaXZlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYW5lbCBuYW1lPVxcXCJtYWluUmVjZWl2ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFx1NEUzQlxcdTkwMDFcXHU0RUJBXFx1NTQ1OFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzbG90PVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ1c2VyLXRhc2stcmVjZWl2ZXItZGlhbG9nLW91dGVyLXdyYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RFbmFibGVVc2VyTGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgOmlkPVxcXCJidWlsZFVsVHJlZUlkKGZsb3dOb2RlRW50aXR5LCdtYWluJylcXFwiIGNsYXNzPVxcXCJ6dHJlZVxcXCIgc3R5bGU9XFxcIndpZHRoOiAyMDBweFxcXCI+PC91bD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdE9wQnV0dG9uQ29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNpbmdsZS1vcC1idXR0b25cXFwiIHRpdGxlPVxcXCJcXHU2REZCXFx1NTJBMFxcdTRFQkFcXHU1NDU4XFxcIiBAY2xpY2s9XFxcImFkZFRyZWVTZWxlY3RlZFJlY2VpdmVyVG9TZWxlY3RlZChmbG93Tm9kZUVudGl0eSwnbWFpbicpXFxcIj48SWNvbiB0eXBlPVxcXCJtZC1hcnJvdy1yb3VuZC1mb3J3YXJkXFxcIiAvPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2luZ2xlLW9wLWJ1dHRvblxcXCIgdGl0bGU9XFxcIlxcdTZFMDVcXHU3QTdBXFx1NURGMlxcdTkwMDlcXHU0RUJBXFx1NTQ1OFxcXCIgQGNsaWNrPVxcXCJjbGVhclNlbGVjdGVkUmVjZWl2ZXJUb1NlbGVjdGVkKGZsb3dOb2RlRW50aXR5LCdtYWluJylcXFwiPjxJY29uIHR5cGU9XFxcIm1kLWJhY2tzcGFjZVxcXCIgLz48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdGVkVXNlckxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktdGFibGUgaGVpZ2h0PVxcXCIzMjdcXFwiIHdpZHRoPVxcXCIyNjBcXFwiIHN0cmlwZSA6Y29sdW1ucz1cXFwic2VsZWN0ZWRSZWNlaXZlci5jb2x1bW5zQ29uZmlnXFxcIiA6ZGF0YT1cXFwic2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEgfCBmaWx0ZXJSZWNlaXZlckRhdGEoZmxvd05vZGVFbnRpdHksICdtYWluJylcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJpdi1saXN0LXRhYmxlXFxcIiBzaXplPVxcXCJzbWFsbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSBzbG90LXNjb3BlPVxcXCJ7IHJvdywgaW5kZXggfVxcXCIgc2xvdD1cXFwiYWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibGlzdC1mb250LWljb24tYnV0dG9uLWNsYXNzXFxcIiBAY2xpY2s9XFxcImRlbGV0ZVNlbGVjdGVkUmVjZWl2ZXIoaW5kZXgscm93KVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVxcXCJtZC1jbG9zZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT4gICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pLXRhYmxlPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3BhbmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGFuZWwgbmFtZT1cXFwiY2NSZWNlaXZlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXHU2Mjg0XFx1OTAwMVxcdTRFQkFcXHU1NDU4XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHNsb3Q9XFxcImNvbnRlbnRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInVzZXItdGFzay1yZWNlaXZlci1kaWFsb2ctb3V0ZXItd3JhcFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdEVuYWJsZVVzZXJMaXN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCA6aWQ9XFxcImJ1aWxkVWxUcmVlSWQoZmxvd05vZGVFbnRpdHksJ2NjJylcXFwiIGNsYXNzPVxcXCJ6dHJlZVxcXCIgc3R5bGU9XFxcIndpZHRoOiAyMDBweFxcXCI+PC91bD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdE9wQnV0dG9uQ29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNpbmdsZS1vcC1idXR0b25cXFwiIHRpdGxlPVxcXCJcXHU2REZCXFx1NTJBMFxcdTRFQkFcXHU1NDU4XFxcIiBAY2xpY2s9XFxcImFkZFJlY2VpdmVyVG9TZWxlY3RlZChmbG93Tm9kZUVudGl0eSwnY2MnKVxcXCI+PEljb24gdHlwZT1cXFwibWQtYXJyb3ctcm91bmQtZm9yd2FyZFxcXCIgLz48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNpbmdsZS1vcC1idXR0b25cXFwiIHRpdGxlPVxcXCJcXHU2RTA1XFx1N0E3QVxcdTVERjJcXHU5MDA5XFx1NEVCQVxcdTU0NThcXFwiPjxJY29uIHR5cGU9XFxcIm1kLWJhY2tzcGFjZVxcXCIgLz48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdGVkVXNlckxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktdGFibGUgaGVpZ2h0PVxcXCIzMjdcXFwiIHdpZHRoPVxcXCIyNjBcXFwiIHN0cmlwZSA6Y29sdW1ucz1cXFwic2VsZWN0ZWRSZWNlaXZlci5jb2x1bW5zQ29uZmlnXFxcIiA6ZGF0YT1cXFwic2VsZWN0ZWRSZWNlaXZlci5yZWNlaXZlckRhdGEgfCBmaWx0ZXJSZWNlaXZlckRhdGEoZmxvd05vZGVFbnRpdHksICdjYycpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiaXYtbGlzdC10YWJsZVxcXCIgc2l6ZT1cXFwic21hbGxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgc2xvdC1zY29wZT1cXFwieyByb3csIGluZGV4IH1cXFwiIHNsb3Q9XFxcImFjdGlvblxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxpc3QtZm9udC1pY29uLWJ1dHRvbi1jbGFzc1xcXCIgQGNsaWNrPVxcXCJkZWxldGVTZWxlY3RlZFJlY2VpdmVyKGluZGV4LHJvdylcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cXFwibWQtY2xvc2VcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+ICAgICBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaS10YWJsZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYW5lbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2NvbGxhcHNlPlxcbiAgICAgICAgICAgICAgICAgICAgPC90YWItcGFuZT5cXG4gICAgICAgICAgICAgICAgPC90YWJzPlxcbiAgICAgICAgICAgIDwvZGl2PlwiXG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEZsb3dSdW50aW1lUGFnZU9iamVjdCA9IHtcbiAgX3dlYkZvcm1SVFBhcmFzOiBudWxsLFxuICBfZm9ybVJ1bnRpbWVJbnN0OiBudWxsLFxuICBGT1JNX1JVTlRJTUVfQ0FURUdPUllfRkxPVzogXCJJc0RlcGVuZGVuY2VGbG93XCIsXG4gIF9mbG93SW5zdGFuY2VSdW50aW1lUE86IG51bGwsXG4gIF9pc0NyZWF0ZWRNb2RlbGVyVmlldzogZmFsc2UsXG4gIGJ1aWxkUGFnZVJlYWR5SW5uZXJQYXJhczogZnVuY3Rpb24gYnVpbGRQYWdlUmVhZHlJbm5lclBhcmFzKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgcmVjb3JkSWQsIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTywgZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVjb3JkSWQ6IHJlY29yZElkLFxuICAgICAgZm9ybUlkOiBmbG93SW5zdGFuY2VSdW50aW1lUE8uamI0ZGNGb3JtSWQsXG4gICAgICBjdXJyZW50Tm9kZUtleTogZmxvd0luc3RhbmNlUnVudGltZVBPLmN1cnJlbnROb2RlS2V5LFxuICAgICAgY3VycmVudE5vZGVOYW1lOiBmbG93SW5zdGFuY2VSdW50aW1lUE8uY3VycmVudE5vZGVOYW1lLFxuICAgICAgbW9kZWxJZDogZmxvd0luc3RhbmNlUnVudGltZVBPLm1vZGVsSW50ZWdyYXRlZEVudGl0eS5tb2RlbElkLFxuICAgICAgbW9kZWxSZUtleTogZmxvd0luc3RhbmNlUnVudGltZVBPLm1vZGVsSW50ZWdyYXRlZEVudGl0eS5tb2RlbFJlS2V5LFxuICAgICAgY3VycmVudFRhc2tJZDogZmxvd0luc3RhbmNlUnVudGltZVBPLmV4ZWN1dGlvblRhc2tFbnRpdHkgPyBmbG93SW5zdGFuY2VSdW50aW1lUE8uZXhlY3V0aW9uVGFza0VudGl0eS5leHRhc2tJZCA6IFwiXCIsXG4gICAgICBmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleTogZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXksXG4gICAgICBmbG93SW5zdGFuY2VSdW50aW1lUE86IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTyxcbiAgICAgIGlzU3RhcnRJbnN0YW5jZVN0YXR1czogaXNTdGFydEluc3RhbmNlU3RhdHVzLFxuICAgICAgamI0ZGNBY3Rpb25zOiBmbG93SW5zdGFuY2VSdW50aW1lUE8uamI0ZGNBY3Rpb25zXG4gICAgfTtcbiAgfSxcbiAgcGFnZVJlYWR5Rm9yU3RhcnRTdGF0dXM6IGZ1bmN0aW9uIHBhZ2VSZWFkeUZvclN0YXJ0U3RhdHVzKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZmxvd0luc3RhbmNlUnVudGltZVBPLCBmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSwgcGFnZUhvc3RJbnN0YW5jZSkge1xuICAgIHRoaXMuX2Zvcm1SdW50aW1lSW5zdCA9IE9iamVjdC5jcmVhdGUoRm9ybVJ1bnRpbWUpO1xuICAgIEZsb3dSdW50aW1lUGFnZU9iamVjdC5fZmxvd0luc3RhbmNlUnVudGltZVBPID0gZmxvd0luc3RhbmNlUnVudGltZVBPO1xuICAgIHZhciByZWNvcmRJZCA9IFN0cmluZ1V0aWxpdHkuR3VpZCgpO1xuICAgIHZhciBwYWdlUmVhZHlJbm5lclBhcmFzID0gdGhpcy5idWlsZFBhZ2VSZWFkeUlubmVyUGFyYXMoaXNTdGFydEluc3RhbmNlU3RhdHVzLCByZWNvcmRJZCwgZmxvd0luc3RhbmNlUnVudGltZVBPLCBmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSk7XG5cbiAgICB0aGlzLl9mb3JtUnVudGltZUluc3QuSW5pdGlhbGl6YXRpb24oe1xuICAgICAgXCJJbnN0YW5jZUlkXCI6IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5pbnN0YW5jZUVudGl0eS5pbnN0SWQsXG4gICAgICBcIlJlbmRlcmVyVG9JZFwiOiBcImh0bWxEZXNpZ25SdW50aW1lV3JhcFwiLFxuICAgICAgXCJGb3JtSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mb3JtSWQsXG4gICAgICBcIlJlY29yZElkXCI6IHJlY29yZElkLFxuICAgICAgXCJCdXR0b25JZFwiOiBcIlwiLFxuICAgICAgXCJPcGVyYXRpb25UeXBlXCI6IEJhc2VVdGlsaXR5LkdldEFkZE9wZXJhdGlvbk5hbWUoKSxcbiAgICAgIFwiSXNQcmV2aWV3XCI6IGZhbHNlLFxuICAgICAgXCJSZW5kZXJlckNoYWluQ29tcGxldGVkRnVuY1wiOiBGbG93UnVudGltZVBhZ2VPYmplY3QuZm9ybVJlbmRlcmVyQ2hhaW5Db21wbGV0ZWRGdW5jLFxuICAgICAgXCJMaXN0Rm9ybUJ1dHRvbkVsZW1JZFwiOiBcIlwiLFxuICAgICAgXCJXZWJGb3JtUlRQYXJhc1wiOiB7fSxcbiAgICAgIFwiRm9ybVJ1bnRpbWVDYXRlZ29yeVwiOiBGbG93UnVudGltZVBhZ2VPYmplY3QuRk9STV9SVU5USU1FX0NBVEVHT1JZX0ZMT1csXG4gICAgICBcIlByZUhhbmRsZUZvcm1IdG1sUnVudGltZUZ1bmNcIjogdGhpcy5wcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jLFxuICAgICAgXCJGbG93SW5zdGFuY2VSdW50aW1lUE9cIjogZmxvd0luc3RhbmNlUnVudGltZVBPLFxuICAgICAgXCJGbG93TW9kZWxSdW50aW1lUE9DYWNoZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5LFxuICAgICAgXCJJc1N0YXJ0SW5zdGFuY2VTdGF0dXNcIjogaXNTdGFydEluc3RhbmNlU3RhdHVzLFxuICAgICAgXCJDdXJyZW50Tm9kZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmN1cnJlbnROb2RlS2V5LFxuICAgICAgXCJDdXJyZW50Tm9kZU5hbWVcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZU5hbWUsXG4gICAgICBcIk1vZGVsSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5tb2RlbElkLFxuICAgICAgXCJNb2RlbFJlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxSZUtleSxcbiAgICAgIFwiQ3VycmVudFRhc2tJZFwiOiBcIlwiXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlcmVyQWN0aW9uQnV0dG9ucyhpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIHRoaXMuX2Zvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcyk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1SdW50aW1lSW5zdDtcbiAgfSxcbiAgcGFnZVJlYWR5Rm9yUHJvY2Vzc1N0YXR1czogZnVuY3Rpb24gcGFnZVJlYWR5Rm9yUHJvY2Vzc1N0YXR1cyhpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTywgZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXksIHBhZ2VIb3N0SW5zdGFuY2UpIHtcbiAgICB0aGlzLl9mb3JtUnVudGltZUluc3QgPSBPYmplY3QuY3JlYXRlKEZvcm1SdW50aW1lKTtcbiAgICBGbG93UnVudGltZVBhZ2VPYmplY3QuX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTyA9IGZsb3dJbnN0YW5jZVJ1bnRpbWVQTztcbiAgICB2YXIgcmVjb3JkSWQgPSBmbG93SW5zdGFuY2VSdW50aW1lUE8uaW5zdGFuY2VFbnRpdHkuaW5zdFJ1QnVzaW5lc3NLZXk7XG4gICAgdmFyIHBhZ2VSZWFkeUlubmVyUGFyYXMgPSB0aGlzLmJ1aWxkUGFnZVJlYWR5SW5uZXJQYXJhcyhpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIHJlY29yZElkLCBmbG93SW5zdGFuY2VSdW50aW1lUE8sIGZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5KTtcblxuICAgIHRoaXMuX2Zvcm1SdW50aW1lSW5zdC5Jbml0aWFsaXphdGlvbih7XG4gICAgICBcIkluc3RhbmNlSWRcIjogZmxvd0luc3RhbmNlUnVudGltZVBPLmluc3RhbmNlRW50aXR5Lmluc3RJZCxcbiAgICAgIFwiUmVuZGVyZXJUb0lkXCI6IFwiaHRtbERlc2lnblJ1bnRpbWVXcmFwXCIsXG4gICAgICBcIkZvcm1JZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZvcm1JZCxcbiAgICAgIFwiUmVjb3JkSWRcIjogcmVjb3JkSWQsXG4gICAgICBcIkJ1dHRvbklkXCI6IFwiXCIsXG4gICAgICBcIk9wZXJhdGlvblR5cGVcIjogQmFzZVV0aWxpdHkuR2V0VXJsT1BQYXJhVmFsdWUoKSxcbiAgICAgIFwiSXNQcmV2aWV3XCI6IGZhbHNlLFxuICAgICAgXCJSZW5kZXJlckNoYWluQ29tcGxldGVkRnVuY1wiOiBGbG93UnVudGltZVBhZ2VPYmplY3QuZm9ybVJlbmRlcmVyQ2hhaW5Db21wbGV0ZWRGdW5jLFxuICAgICAgXCJMaXN0Rm9ybUJ1dHRvbkVsZW1JZFwiOiBcIlwiLFxuICAgICAgXCJXZWJGb3JtUlRQYXJhc1wiOiB7fSxcbiAgICAgIFwiRm9ybVJ1bnRpbWVDYXRlZ29yeVwiOiBGbG93UnVudGltZVBhZ2VPYmplY3QuRk9STV9SVU5USU1FX0NBVEVHT1JZX0ZMT1csXG4gICAgICBcIlByZUhhbmRsZUZvcm1IdG1sUnVudGltZUZ1bmNcIjogdGhpcy5wcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jLFxuICAgICAgXCJGbG93SW5zdGFuY2VSdW50aW1lUE9cIjogZmxvd0luc3RhbmNlUnVudGltZVBPLFxuICAgICAgXCJGbG93TW9kZWxSdW50aW1lUE9DYWNoZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5LFxuICAgICAgXCJJc1N0YXJ0SW5zdGFuY2VTdGF0dXNcIjogaXNTdGFydEluc3RhbmNlU3RhdHVzLFxuICAgICAgXCJDdXJyZW50Tm9kZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmN1cnJlbnROb2RlS2V5LFxuICAgICAgXCJDdXJyZW50Tm9kZU5hbWVcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZU5hbWUsXG4gICAgICBcIk1vZGVsSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5tb2RlbElkLFxuICAgICAgXCJNb2RlbFJlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxSZUtleSxcbiAgICAgIFwiQ3VycmVudFRhc2tJZFwiOiBcIlwiXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlcmVyQWN0aW9uQnV0dG9ucyhpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIHRoaXMuX2Zvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcyk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1SdW50aW1lSW5zdDtcbiAgfSxcbiAgcmVuZGVyZXJBY3Rpb25CdXR0b25zOiBmdW5jdGlvbiByZW5kZXJlckFjdGlvbkJ1dHRvbnMoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMpIHtcbiAgICBBY3Rpb25zUnVudGltZU9iamVjdC5DcmVhdGVBTExBY3Rpb25CdXR0b24oaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMpO1xuICB9LFxuICByZW5kZXJlckZsb3dNb2RlbGVyRm9yVGFiT25BY3Rpdml0eTogZnVuY3Rpb24gcmVuZGVyZXJGbG93TW9kZWxlckZvclRhYk9uQWN0aXZpdHkoZXZlbnQsIHVpKSB7XG4gICAgaWYgKCFGbG93UnVudGltZVBhZ2VPYmplY3QuX2lzQ3JlYXRlZE1vZGVsZXJWaWV3KSB7XG4gICAgICBDcmVhdGVNb2RlbGVyVmlldyhGbG93UnVudGltZVBhZ2VPYmplY3QuX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTyk7XG4gICAgICBGbG93UnVudGltZVBhZ2VPYmplY3QuX2lzQ3JlYXRlZE1vZGVsZXJWaWV3ID0gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlcmVyRmxvd0ZpbGVDb250YWluZXI6IGZ1bmN0aW9uIHJlbmRlcmVyRmxvd0ZpbGVDb250YWluZXIoZmxvd0luc3RhbmNlUnVudGltZVBPKSB7XG4gICAgRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5SZW5kZXJlcigpO1xuICB9LFxuICBmb3JtUmVuZGVyZXJDaGFpbkNvbXBsZXRlZEZ1bmM6IGZ1bmN0aW9uIGZvcm1SZW5kZXJlckNoYWluQ29tcGxldGVkRnVuYyhzZW5kZXJDb25maWcpIHtcbiAgICB2YXIgZmxvd0luc3RhbmNlUnVudGltZVBPID0gc2VuZGVyQ29uZmlnLmZsb3dJbnN0YW5jZVJ1bnRpbWVQTztcbiAgICBGbG93UnVudGltZVBhZ2VPYmplY3QucmVuZGVyZXJGbG93RmlsZUNvbnRhaW5lcihmbG93SW5zdGFuY2VSdW50aW1lUE8pO1xuICB9LFxuICBwcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jOiBmdW5jdGlvbiBwcmVIYW5kbGVGb3JtSHRtbFJ1bnRpbWVGdW5jKHNvdXJjZVJ1bnRpbWVIdG1sLCBmb3JtUnVudGltZUluc3QsIHByb3BDb25maWcpIHtcbiAgICB2YXIgZmxvd1BhZ2VDb250YWluZXIgPSAkKFwiPGRpdj5cIiArIHNvdXJjZVJ1bnRpbWVIdG1sICsgXCI8ZGl2PlwiKTtcbiAgICB2YXIgZmxvd0luc3RhbmNlUnVudGltZVBPID0gcHJvcENvbmZpZy5GbG93SW5zdGFuY2VSdW50aW1lUE87XG5cbiAgICBpZiAoZmxvd1BhZ2VDb250YWluZXIuY2hpbGRyZW4oXCJbc2luZ2xlbmFtZT0nV0ZEQ1RfVGFiQ29udGFpbmVyJ11cIikubGVuZ3RoID09IDApIHtcbiAgICAgIGZsb3dQYWdlQ29udGFpbmVyID0gJChcIjxkaXY+PGRpdiBjbGFzcz1cXFwid2ZkY3QtdGFicy1vdXRlci13cmFwLXJ1bnRpbWUgaHRtbC1kZXNpZ24tdGhlbWUtZGVmYXVsdC1yb290LWVsZW0tY2xhc3NcXFwiIGNvbnRyb2xfY2F0ZWdvcnk9XFxcIkNvbnRhaW5lckNvbnRyb2xcXFwiIGRlc2M9XFxcIlxcXCIgZ3JvdXBuYW1lPVxcXCJcXFwiIGlkPVxcXCJ0YWJzX3dyYXBfNTE4NjI3NjE2XFxcIiBpc19qYnVpbGQ0ZGNfZGF0YT1cXFwiZmFsc2VcXFwiIGpidWlsZDRkY19jdXN0b209XFxcInRydWVcXFwiIG5hbWU9XFxcInRhYnNfd3JhcF81MTg2Mjc2MTZcXFwiIHBsYWNlaG9sZGVyPVxcXCJcXFwiIHNlcmlhbGl6ZT1cXFwiZmFsc2VcXFwiIHNob3dfcmVtb3ZlX2J1dHRvbj1cXFwiZmFsc2VcXFwiIHNpbmdsZW5hbWU9XFxcIldGRENUX1RhYkNvbnRhaW5lclxcXCIgc3RhdHVzPVxcXCJlbmFibGVcXFwiIHN0eWxlPVxcXCJcXFwiIGNsaWVudF9yZXNvbHZlPVxcXCJXRkRDVF9UYWJDb250YWluZXJcXFwiPjxkaXY+XCIpO1xuICAgICAgZmxvd1BhZ2VDb250YWluZXIuY2hpbGRyZW4oXCJbc2luZ2xlbmFtZT0nV0ZEQ1RfVGFiQ29udGFpbmVyJ11cIikuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwid3lzaXd5Zy13ZmRjdC10YWJzLWxhYmVsIHdmZGN0LXRhYnMtbGFiZWwtcnVudGltZVxcXCIgdGFiX2lkPVxcXCJ0YWJfY29udGVudF9mbG93X2Zvcm1fOTk5XFxcIj5cIiArIGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5tb2RlbE5hbWUgKyBcIjwvZGl2PlwiKTtcbiAgICAgIGZsb3dQYWdlQ29udGFpbmVyLmNoaWxkcmVuKFwiW3NpbmdsZW5hbWU9J1dGRENUX1RhYkNvbnRhaW5lciddXCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1jb250ZW50IHdmZGN0LXRhYnMtY29udGVudC1ydW50aW1lXFxcIiBpZD1cXFwidGFiX2NvbnRlbnRfZmxvd19mb3JtXzk5OVxcXCI+XCIgKyBzb3VyY2VSdW50aW1lSHRtbCArIFwiPC9kaXY+XCIpO1xuICAgIH1cblxuICAgIHZhciB0YWJDb250YWluZXIgPSBmbG93UGFnZUNvbnRhaW5lci5jaGlsZHJlbihcIltzaW5nbGVuYW1lPSdXRkRDVF9UYWJDb250YWluZXInXVwiKTtcblxuICAgIGlmIChmbG93SW5zdGFuY2VSdW50aW1lUE8uamI0ZGNDb250ZW50RG9jdW1lbnRQbHVnaW4gPT0gXCJ1cGxvYWRDb252ZXJ0VG9QREZQbHVnaW5cIikge1xuICAgICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1sYWJlbCB3ZmRjdC10YWJzLWxhYmVsLXJ1bnRpbWVcXFwiIHRhYl9pZD1cXFwidGFiX2NvbnRlbnRfdXBsb2FkQ29udmVydFRvUERGUGx1Z2luXzk5OVxcXCI+5q2j5paHPC9kaXY+XCIpO1xuICAgICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1jb250ZW50IHdmZGN0LXRhYnMtY29udGVudC1ydW50aW1lXFxcIiBpZD1cXFwidGFiX2NvbnRlbnRfdXBsb2FkQ29udmVydFRvUERGUGx1Z2luXzk5OVxcXCI+XCIgKyBEb2N1bWVudENvbnRlbnRVcGxvYWRDb252ZXJ0VG9QREZQbHVnaW4uR2V0SHRtbEVsZW0ocHJvcENvbmZpZykgKyBcIjwvZGl2PlwiKTtcbiAgICB9IGVsc2UgaWYgKGZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5qYjRkY0NvbnRlbnREb2N1bWVudFBsdWdpbiA9PSBcIndwc09ubGluZURvY3VtZW50UGx1Z2luXCIpIHtcbiAgICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtbGFiZWwgd2ZkY3QtdGFicy1sYWJlbC1ydW50aW1lXFxcIiB0YWJfaWQ9XFxcInRhYl9jb250ZW50X3dwc09ubGluZURvY3VtZW50UGx1Z2luXzk5OVxcXCI+5q2j5paHPC9kaXY+XCIpO1xuICAgICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1jb250ZW50IHdmZGN0LXRhYnMtY29udGVudC1ydW50aW1lXFxcIiBpZD1cXFwidGFiX2NvbnRlbnRfd3BzT25saW5lRG9jdW1lbnRQbHVnaW5fOTk5XFxcIj7mnKrlrp7njrA8L2Rpdj5cIik7XG4gICAgfVxuXG4gICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1sYWJlbCB3ZmRjdC10YWJzLWxhYmVsLXJ1bnRpbWVcXFwiIHRhYl9pZD1cXFwidGFiX2NvbnRlbnRfZmxvd19maWxlc185OTlcXFwiPumZhOS7tjwvZGl2PlwiKTtcbiAgICB0YWJDb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwid3lzaXd5Zy13ZmRjdC10YWJzLWNvbnRlbnQgd2ZkY3QtdGFicy1jb250ZW50LXJ1bnRpbWVcXFwiIGlkPVxcXCJ0YWJfY29udGVudF9mbG93X2ZpbGVzXzk5OVxcXCI+XCIgKyBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLkdldEh0bWxFbGVtKHByb3BDb25maWcpICsgXCI8L2Rpdj5cIik7XG4gICAgdGFiQ29udGFpbmVyLmFwcGVuZChcIjxkaXYgY2xhc3M9XFxcInd5c2l3eWctd2ZkY3QtdGFicy1sYWJlbCB3ZmRjdC10YWJzLWxhYmVsLXJ1bnRpbWVcXFwiIHRhYl9pZD1cXFwidGFiX2NvbnRlbnRfZmxvd19tb2RlbGVyXzk5OVxcXCI+5rWB56iL5Zu+PC9kaXY+XCIpO1xuICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtY29udGVudCB3ZmRjdC10YWJzLWNvbnRlbnQtcnVudGltZVxcXCIgaWQ9XFxcInRhYl9jb250ZW50X2Zsb3dfbW9kZWxlcl85OTlcXFwiIHN0eWxlPSdoZWlnaHQ6IGNhbGMoMTAwJSAtIDUwcHgpOycgb25BY3Rpdml0eT1cXFwiRmxvd1J1bnRpbWVQYWdlT2JqZWN0LnJlbmRlcmVyRmxvd01vZGVsZXJGb3JUYWJPbkFjdGl2aXR5XFxcIj48ZGl2IGlkPVxcXCJmbG93LWNhbnZhc1xcXCIgc3R5bGU9XFxcImhlaWdodDoxMDAlO1xcXCI+PC9kaXY+PC9kaXY+XCIpO1xuICAgIHRhYkNvbnRhaW5lci5hcHBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJ3eXNpd3lnLXdmZGN0LXRhYnMtbGFiZWwgd2ZkY3QtdGFicy1sYWJlbC1ydW50aW1lXFxcIiB0YWJfaWQ9XFxcInRhYl9jb250ZW50X2Zsb3dfdGFza185OTlcXFwiPua1gei9rOS/oeaBrzwvZGl2PlwiKTtcbiAgICB0YWJDb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz1cXFwid3lzaXd5Zy13ZmRjdC10YWJzLWNvbnRlbnQgd2ZkY3QtdGFicy1jb250ZW50LXJ1bnRpbWVcXFwiIGlkPVxcXCJ0YWJfY29udGVudF9mbG93X3Rhc2tfOTk5XFxcIj5cIiArIEluc3RhbmNlRXhUYXNrTGlzdFBsdWdpbi5HZXRIdG1sRWxlbShwcm9wQ29uZmlnKSArIFwiPC9kaXY+XCIpO1xuICAgIHZhciBuZXdSdW50aW1lSHRtbCA9IGZsb3dQYWdlQ29udGFpbmVyLmh0bWwoKTtcbiAgICByZXR1cm4gbmV3UnVudGltZUh0bWw7XG4gIH0sXG4gIGNoYW5nZVRhc2tUb1ZpZXc6IGZ1bmN0aW9uIGNoYW5nZVRhc2tUb1ZpZXcoZXhlY3V0aW9uVGFza0VudGl0eSkge1xuICAgIGNvbnNvbGUubG9nKFwiMTExMTExMTExMTExMTExMTExMVwiKTtcbiAgICBBamF4VXRpbGl0eS5Qb3N0KFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvSW5zdGFuY2VSdW50aW1lL0NoYW5nZVRhc2tUb1ZpZXdcIiwge1xuICAgICAgZXh0YXNrSWQ6IGV4ZWN1dGlvblRhc2tFbnRpdHkuZXh0YXNrSWRcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7fSwgdGhpcyk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBGbG93UnVudGltZVZhckJ1aWxkZXIgPSB7XG4gIEJ1aWxkZXJTZWxlY3RlZFJlY2VpdmVyVG9JbnN0YW5jZVZhcjogZnVuY3Rpb24gQnVpbGRlclNlbGVjdGVkUmVjZWl2ZXJUb0luc3RhbmNlVmFyKG5leHRGbG93Tm9kZUVudGl0aWVzLCBzZWxlY3RlZFJlY2VpdmVyRGF0YSkge1xuICAgIHZhciByZXN1bHREYXRhID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkUmVjZWl2ZXJEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmVjZWl2ZXIgPSBzZWxlY3RlZFJlY2VpdmVyRGF0YVtpXTtcbiAgICAgIHJlc3VsdERhdGEucHVzaCh7XG4gICAgICAgIG5leHROb2RlSWQ6IHJlY2VpdmVyLmZsb3dOb2RlRW50aXR5LmlkLFxuICAgICAgICByZWNlaXZlcklkOiByZWNlaXZlci5pZCxcbiAgICAgICAgcmVjZWl2ZXJOYW1lOiByZWNlaXZlci5uYW1lLFxuICAgICAgICByZWNlaXZlclR5cGVOYW1lOiByZWNlaXZlci50eXBlTmFtZSxcbiAgICAgICAgcmVjZWl2ZVR5cGU6IHJlY2VpdmVyLnJlY2VpdmVUeXBlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0RGF0YTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIERlbGV0ZUluc3RhbmNlQWN0aW9uID0ge1xuICBhY0ludGVyZmFjZToge30sXG4gIF9Qcm9wOiB7fSxcbiAgSW5zdGFuY2U6IGZ1bmN0aW9uIEluc3RhbmNlKGlzU3RhcnRJbnN0YW5jZVN0YXR1cywgZm9ybVJ1bnRpbWVJbnN0LCBwYWdlSG9zdEluc3RhbmNlLCBwYWdlUmVhZHlJbm5lclBhcmFzLCBhY3Rpb25PYmopIHtcbiAgICB2YXIgaHRtbElkID0gYWN0aW9uT2JqLmFjdGlvbkhUTUxJZCA/IGFjdGlvbk9iai5hY3Rpb25IVE1MSWQgOiBhY3Rpb25PYmouYWN0aW9uQ29kZTtcbiAgICB2YXIgZWxlbSA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwib3BlcmF0aW9uLWJ1dHRvbiBvcGVyYXRpb24tYnV0dG9uLXByaW1hcnlcIiBpZD1cIicgKyBodG1sSWQgKyAnXCI+PHNwYW4+JyArIGFjdGlvbk9iai5hY3Rpb25DYXB0aW9uICsgJzwvc3Bhbj48L2J1dHRvbj4nKTtcblxuICAgIGlmIChhY3Rpb25PYmouYWN0aW9uRGlzYWJsZSA9PSBcImRpc2FibGVcIikge1xuICAgICAgZWxlbS5hdHRyKFwiZGlzYWJsZVwiLCBcImRpc2FibGVcIik7XG4gICAgICBlbGVtLmFkZENsYXNzKFwib3BlcmF0aW9uLWJ1dHRvbi1wcmltYXJ5LWRpc2FibGVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9Qcm9wID0ge1xuICAgICAgICBcInNlbmRlclwiOiB0aGlzLFxuICAgICAgICBcImZsb3dJbnN0YW5jZVJ1bnRpbWVQT1wiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQTyxcbiAgICAgICAgXCJmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5LFxuICAgICAgICBcImpiNGRjQWN0aW9uc1wiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmpiNGRjQWN0aW9ucyxcbiAgICAgICAgXCJmb3JtUnVudGltZUluc3RcIjogZm9ybVJ1bnRpbWVJbnN0LFxuICAgICAgICBcImFjdGlvbk9ialwiOiBhY3Rpb25PYmosXG4gICAgICAgIFwiaXNTdGFydEluc3RhbmNlU3RhdHVzXCI6IGlzU3RhcnRJbnN0YW5jZVN0YXR1cyxcbiAgICAgICAgXCJwYWdlSG9zdEluc3RhbmNlXCI6IHBhZ2VIb3N0SW5zdGFuY2UsXG4gICAgICAgIFwiY3VycmVudE5vZGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZUtleSxcbiAgICAgICAgXCJjdXJyZW50Tm9kZU5hbWVcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZU5hbWUsXG4gICAgICAgIFwicmVjb3JkSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5yZWNvcmRJZCxcbiAgICAgICAgXCJtb2RlbElkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxJZCxcbiAgICAgICAgXCJtb2RlbFJlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxSZUtleSxcbiAgICAgICAgXCJjdXJyZW50VGFza0lkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudFRhc2tJZCxcbiAgICAgICAgXCJpbnN0YW5jZUlkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuZmxvd0luc3RhbmNlUnVudGltZVBPLmluc3RhbmNlRW50aXR5Lmluc3RJZFxuICAgICAgfTtcbiAgICAgIGVsZW0uYmluZChcImNsaWNrXCIsIHRoaXMuX1Byb3AsIHRoaXMuQnV0dG9uQ2xpY2tFdmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbk9iai5hY3Rpb25SZW1hcmspIHtcbiAgICAgIGVsZW0uYXR0cihcInRpdGxlXCIsIGFjdGlvbk9iai5hY3Rpb25SZW1hcmspO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBlbGVtOiBlbGVtXG4gICAgfTtcbiAgfSxcbiAgQnV0dG9uQ2xpY2tFdmVudDogZnVuY3Rpb24gQnV0dG9uQ2xpY2tFdmVudChzZW5kZXIpIHtcbiAgICB2YXIgX3RoaXMgPSBzZW5kZXIuZGF0YS5zZW5kZXI7XG4gICAgRGlhbG9nVXRpbGl0eS5Db25maXJtKHdpbmRvdywgXCLmmoLkuI3mlK/mjIHor6Xmk43kvZw/XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybjtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRMb2FkaW5nKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQsIHt9LCBcIuezu+e7n+WkhOeQhuS4rSzor7fnqI3lgJkhXCIpO1xuICAgICAgQWpheFV0aWxpdHkuUG9zdChfdGhpcy5hY0ludGVyZmFjZS5yZWNhbGxNeVNlbmRUYXNrLCB7XG4gICAgICAgIGV4dGFza0lkOiBzZW5kZXIuZGF0YS5jdXJyZW50VGFza0lkXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2coRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIGlmICh3aW5kb3cuT3BlbmVyV2luZG93T2JqICE9IG51bGwgJiYgd2luZG93Lk9wZW5lcldpbmRvd09iai5pbnN0YW5jZU1haW5UYXNrUHJvY2Vzc0xpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93Lk9wZW5lcldpbmRvd09iai5pbnN0YW5jZU1haW5UYXNrUHJvY2Vzc0xpc3QucmVsb2FkRGF0YSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgRGlhbG9nVXRpbGl0eS5GcmFtZV9DbG9zZURpYWxvZyh3aW5kb3cpO1xuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9LCBfdGhpcyk7XG4gICAgfSwgX3RoaXMpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUmVjYWxsQWN0aW9uID0ge1xuICBhY0ludGVyZmFjZToge1xuICAgIHJlY2FsbE15U2VuZFRhc2s6IFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvSW5zdGFuY2VSdW50aW1lL1JlY2FsbE15U2VuZFRhc2tcIlxuICB9LFxuICBfUHJvcDoge30sXG4gIEluc3RhbmNlOiBmdW5jdGlvbiBJbnN0YW5jZShpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsIGZvcm1SdW50aW1lSW5zdCwgcGFnZUhvc3RJbnN0YW5jZSwgcGFnZVJlYWR5SW5uZXJQYXJhcywgYWN0aW9uT2JqKSB7XG4gICAgdmFyIGh0bWxJZCA9IGFjdGlvbk9iai5hY3Rpb25IVE1MSWQgPyBhY3Rpb25PYmouYWN0aW9uSFRNTElkIDogYWN0aW9uT2JqLmFjdGlvbkNvZGU7XG4gICAgdmFyIGVsZW0gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm9wZXJhdGlvbi1idXR0b24gb3BlcmF0aW9uLWJ1dHRvbi1wcmltYXJ5XCIgaWQ9XCInICsgaHRtbElkICsgJ1wiPjxzcGFuPicgKyBhY3Rpb25PYmouYWN0aW9uQ2FwdGlvbiArICc8L3NwYW4+PC9idXR0b24+Jyk7XG5cbiAgICBpZiAoYWN0aW9uT2JqLmFjdGlvbkRpc2FibGUgPT0gXCJkaXNhYmxlXCIpIHtcbiAgICAgIGVsZW0uYXR0cihcImRpc2FibGVcIiwgXCJkaXNhYmxlXCIpO1xuICAgICAgZWxlbS5hZGRDbGFzcyhcIm9wZXJhdGlvbi1idXR0b24tcHJpbWFyeS1kaXNhYmxlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fUHJvcCA9IHtcbiAgICAgICAgXCJzZW5kZXJcIjogdGhpcyxcbiAgICAgICAgXCJmbG93SW5zdGFuY2VSdW50aW1lUE9cIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE8sXG4gICAgICAgIFwiZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXlcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleSxcbiAgICAgICAgXCJqYjRkY0FjdGlvbnNcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5qYjRkY0FjdGlvbnMsXG4gICAgICAgIFwiZm9ybVJ1bnRpbWVJbnN0XCI6IGZvcm1SdW50aW1lSW5zdCxcbiAgICAgICAgXCJhY3Rpb25PYmpcIjogYWN0aW9uT2JqLFxuICAgICAgICBcImlzU3RhcnRJbnN0YW5jZVN0YXR1c1wiOiBpc1N0YXJ0SW5zdGFuY2VTdGF0dXMsXG4gICAgICAgIFwicGFnZUhvc3RJbnN0YW5jZVwiOiBwYWdlSG9zdEluc3RhbmNlLFxuICAgICAgICBcImN1cnJlbnROb2RlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudE5vZGVLZXksXG4gICAgICAgIFwiY3VycmVudE5vZGVOYW1lXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuY3VycmVudE5vZGVOYW1lLFxuICAgICAgICBcInJlY29yZElkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMucmVjb3JkSWQsXG4gICAgICAgIFwibW9kZWxJZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLm1vZGVsSWQsXG4gICAgICAgIFwibW9kZWxSZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLm1vZGVsUmVLZXksXG4gICAgICAgIFwiY3VycmVudFRhc2tJZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmN1cnJlbnRUYXNrSWQsXG4gICAgICAgIFwiaW5zdGFuY2VJZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5pbnN0YW5jZUVudGl0eS5pbnN0SWRcbiAgICAgIH07XG4gICAgICBlbGVtLmJpbmQoXCJjbGlja1wiLCB0aGlzLl9Qcm9wLCB0aGlzLkJ1dHRvbkNsaWNrRXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25PYmouYWN0aW9uUmVtYXJrKSB7XG4gICAgICBlbGVtLmF0dHIoXCJ0aXRsZVwiLCBhY3Rpb25PYmouYWN0aW9uUmVtYXJrKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZWxlbTogZWxlbVxuICAgIH07XG4gIH0sXG4gIEJ1dHRvbkNsaWNrRXZlbnQ6IGZ1bmN0aW9uIEJ1dHRvbkNsaWNrRXZlbnQoc2VuZGVyKSB7XG4gICAgdmFyIF90aGlzID0gc2VuZGVyLmRhdGEuc2VuZGVyO1xuICAgIERpYWxvZ1V0aWxpdHkuQ29uZmlybSh3aW5kb3csIFwi56Gu6K6k5omn6KGM5pKk5Zue5pON5L2cP1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0TG9hZGluZyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nTG9hZGluZ0lkLCB7fSwgXCLns7vnu5/lpITnkIbkuK0s6K+356iN5YCZIVwiKTtcbiAgICAgIEFqYXhVdGlsaXR5LlBvc3QoX3RoaXMuYWNJbnRlcmZhY2UucmVjYWxsTXlTZW5kVGFzaywge1xuICAgICAgICBleHRhc2tJZDogc2VuZGVyLmRhdGEuY3VycmVudFRhc2tJZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkNsb3NlRGlhbG9nKERpYWxvZ1V0aWxpdHkuRGlhbG9nTG9hZGluZ0lkKTtcblxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBpZiAod2luZG93Lk9wZW5lcldpbmRvd09iaiAhPSBudWxsICYmIHdpbmRvdy5PcGVuZXJXaW5kb3dPYmouaW5zdGFuY2VNYWluVGFza1Byb2Nlc3NMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5PcGVuZXJXaW5kb3dPYmouaW5zdGFuY2VNYWluVGFza1Byb2Nlc3NMaXN0LnJlbG9hZERhdGEoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIERpYWxvZ1V0aWxpdHkuRnJhbWVfQ2xvc2VEaWFsb2cod2luZG93KTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSwgX3RoaXMpO1xuICAgIH0sIF90aGlzKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFNlbmRBY3Rpb24gPSB7XG4gIGFjSW50ZXJmYWNlOiB7XG4gICAgcmVzb2x2ZU5leHRQb3NzaWJsZUZsb3dOb2RlOiBcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L0luc3RhbmNlUnVudGltZS9SZXNvbHZlTmV4dFBvc3NpYmxlRmxvd05vZGVcIixcbiAgICBjb21wbGV0ZVRhc2s6IFwiL1Jlc3QvV29ya2Zsb3cvUnVuVGltZS9DbGllbnQvSW5zdGFuY2VSdW50aW1lL0NvbXBsZXRlVGFza1wiXG4gIH0sXG4gIF9Qcm9wOiB7fSxcbiAgbmV3T3Bpbmlvbkxpc3Q6IFtdLFxuICBpbnB1dE9waW5pb25UZXh0OiBudWxsLFxuICBJbnN0YW5jZTogZnVuY3Rpb24gSW5zdGFuY2UoaXNTdGFydEluc3RhbmNlU3RhdHVzLCBmb3JtUnVudGltZUluc3QsIHBhZ2VIb3N0SW5zdGFuY2UsIHBhZ2VSZWFkeUlubmVyUGFyYXMsIGFjdGlvbk9iaikge1xuICAgIHZhciBodG1sSWQgPSBhY3Rpb25PYmouYWN0aW9uSFRNTElkID8gYWN0aW9uT2JqLmFjdGlvbkhUTUxJZCA6IGFjdGlvbk9iai5hY3Rpb25Db2RlO1xuICAgIHZhciBlbGVtID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJvcGVyYXRpb24tYnV0dG9uIG9wZXJhdGlvbi1idXR0b24tcHJpbWFyeVwiIGlkPVwiJyArIGh0bWxJZCArICdcIj48c3Bhbj4nICsgYWN0aW9uT2JqLmFjdGlvbkNhcHRpb24gKyAnPC9zcGFuPjwvYnV0dG9uPicpO1xuICAgIHRoaXMuX1Byb3AgPSB7XG4gICAgICBcInNlbmRlclwiOiB0aGlzLFxuICAgICAgXCJmbG93SW5zdGFuY2VSdW50aW1lUE9cIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE8sXG4gICAgICBcImZsb3dJbnN0YW5jZVJ1bnRpbWVQT0NhY2hlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMuZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXksXG4gICAgICBcImpiNGRjQWN0aW9uc1wiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmpiNGRjQWN0aW9ucyxcbiAgICAgIFwiZm9ybVJ1bnRpbWVJbnN0XCI6IGZvcm1SdW50aW1lSW5zdCxcbiAgICAgIFwiYWN0aW9uT2JqXCI6IGFjdGlvbk9iaixcbiAgICAgIFwiaXNTdGFydEluc3RhbmNlU3RhdHVzXCI6IGlzU3RhcnRJbnN0YW5jZVN0YXR1cyxcbiAgICAgIFwicGFnZUhvc3RJbnN0YW5jZVwiOiBwYWdlSG9zdEluc3RhbmNlLFxuICAgICAgXCJjdXJyZW50Tm9kZUtleVwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmN1cnJlbnROb2RlS2V5LFxuICAgICAgXCJjdXJyZW50Tm9kZU5hbWVcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5jdXJyZW50Tm9kZU5hbWUsXG4gICAgICBcInJlY29yZElkXCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMucmVjb3JkSWQsXG4gICAgICBcIm1vZGVsSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5tb2RlbElkLFxuICAgICAgXCJtb2RlbFJlS2V5XCI6IHBhZ2VSZWFkeUlubmVyUGFyYXMubW9kZWxSZUtleSxcbiAgICAgIFwiY3VycmVudFRhc2tJZFwiOiBwYWdlUmVhZHlJbm5lclBhcmFzLmN1cnJlbnRUYXNrSWQsXG4gICAgICBcImluc3RhbmNlSWRcIjogcGFnZVJlYWR5SW5uZXJQYXJhcy5mbG93SW5zdGFuY2VSdW50aW1lUE8uaW5zdGFuY2VFbnRpdHkuaW5zdElkLFxuICAgICAgXCJhY3Rpb25TaG93T3BpbmlvbkRpYWxvZ1wiOiBhY3Rpb25PYmouYWN0aW9uU2hvd09waW5pb25EaWFsb2csXG4gICAgICBcImFjdGlvbk9waW5pb25CaW5kVG9GaWVsZFwiOiBhY3Rpb25PYmouYWN0aW9uT3BpbmlvbkJpbmRUb0ZpZWxkLFxuICAgICAgXCJhY3Rpb25PcGluaW9uQmluZFRvRWxlbUlkXCI6IGFjdGlvbk9iai5hY3Rpb25PcGluaW9uQmluZFRvRWxlbUlkXG4gICAgfTtcbiAgICBlbGVtLmJpbmQoXCJjbGlja1wiLCB0aGlzLl9Qcm9wLCB0aGlzLkJ1dHRvbkNsaWNrRXZlbnQpO1xuICAgIHJldHVybiB7XG4gICAgICBlbGVtOiBlbGVtXG4gICAgfTtcbiAgfSxcbiAgVHJ5R2V0T3BpbmlvbkJpbmRUb0NvbnRyb2xJbnN0YW5jZTogZnVuY3Rpb24gVHJ5R2V0T3BpbmlvbkJpbmRUb0NvbnRyb2xJbnN0YW5jZShfcHJvcCkge1xuICAgIHZhciBhY3Rpb25PcGluaW9uQmluZFRvRWxlbUlkID0gX3Byb3AuYWN0aW9uT3BpbmlvbkJpbmRUb0VsZW1JZDtcbiAgICB2YXIgYWN0aW9uT3BpbmlvbkJpbmRUb0ZpZWxkID0gX3Byb3AuYWN0aW9uT3BpbmlvbkJpbmRUb0ZpZWxkO1xuICAgIHZhciBjb250cm9sRWxlbTtcblxuICAgIGlmIChhY3Rpb25PcGluaW9uQmluZFRvRWxlbUlkKSB7XG4gICAgICBjb250cm9sRWxlbSA9ICQoXCIjXCIgKyBhY3Rpb25PcGluaW9uQmluZFRvRWxlbUlkKTtcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbEVsZW0gJiYgY29udHJvbEVsZW0ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIEhUTUxDb250cm9sLkdldENvbnRyb2xJbnN0YW5jZUJ5RWxlbShjb250cm9sRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRyb2xFbGVtID0gJChcIltmaWVsZG5hbWU9J1wiICsgYWN0aW9uT3BpbmlvbkJpbmRUb0ZpZWxkICsgXCInXVwiKTtcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbEVsZW0gJiYgY29udHJvbEVsZW0ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIEhUTUxDb250cm9sLkdldENvbnRyb2xJbnN0YW5jZUJ5RWxlbShjb250cm9sRWxlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIEJ1dHRvbkNsaWNrRXZlbnQ6IGZ1bmN0aW9uIEJ1dHRvbkNsaWNrRXZlbnQoc2VuZGVyKSB7XG4gICAgdmFyIHZhbGlkYXRlUmVzdWx0ID0gVmFsaWRhdGVSdWxlc1J1bnRpbWUuVmFsaWRhdGVTdWJtaXRFbmFibGUoKTtcblxuICAgIGlmIChWYWxpZGF0ZVJ1bGVzUnVudGltZS5BbGVydFZhbGlkYXRlRXJyb3JzKHZhbGlkYXRlUmVzdWx0KSkge1xuICAgICAgdmFyIF9wcm9wID0gc2VuZGVyLmRhdGE7XG4gICAgICB2YXIgX3RoaXMgPSBfcHJvcC5zZW5kZXI7XG4gICAgICB2YXIgYWN0aW9uU2hvd09waW5pb25EaWFsb2cgPSBfcHJvcC5hY3Rpb25TaG93T3BpbmlvbkRpYWxvZztcblxuICAgICAgaWYgKGFjdGlvblNob3dPcGluaW9uRGlhbG9nID09IFwidHJ1ZVwiKSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuUHJvbXB0KHdpbmRvdywge1xuICAgICAgICAgIHRpdGxlOiBcIuezu+e7n+aPkOekulwiLFxuICAgICAgICAgIGhlaWdodDogMzAwLFxuICAgICAgICAgIHdpZHRoOiA0MDBcbiAgICAgICAgfSwgRGlhbG9nVXRpbGl0eS5EaWFsb2dQcm9tcHRJZCwgXCLor7fovpPlhaXlpITnkIbmhI/op4FcIiwgZnVuY3Rpb24gKGlucHV0VGV4dCkge1xuICAgICAgICAgIHZhciBvcGluaW9uQmluZFRvQ29udHJvbEluc3RhbmNlID0gX3RoaXMuVHJ5R2V0T3BpbmlvbkJpbmRUb0NvbnRyb2xJbnN0YW5jZShfcHJvcCk7XG5cbiAgICAgICAgICBpZiAob3BpbmlvbkJpbmRUb0NvbnRyb2xJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UuU2V0TmV3VmFsdWUgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIG9waW5pb25CaW5kVG9Db250cm9sSW5zdGFuY2UuU2V0TmV3VmFsdWUoaW5wdXRUZXh0KTtcbiAgICAgICAgICAgICAgX3RoaXMuaW5wdXRPcGluaW9uVGV4dCA9IGlucHV0VGV4dDtcblxuICAgICAgICAgICAgICBfdGhpcy5CZWdpblNlbGVjdFJlY2VpdmVyKF90aGlzLCBfcHJvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuaEj+ingeWFs+iBlOWvueixoeS4uuWunueOsFNldE5ld1ZhbHVl5pa55rOVIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5CZWdpblNlbGVjdFJlY2VpdmVyKF90aGlzLCBfcHJvcCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBCZWdpblNlbGVjdFJlY2VpdmVyOiBmdW5jdGlvbiBCZWdpblNlbGVjdFJlY2VpdmVyKF90aGlzLCBfcHJvcCkge1xuICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRMb2FkaW5nKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQsIHt9LCBcIlwiKTtcblxuICAgIHZhciBzZW5kRGF0YSA9IF90aGlzLkJ1aWxkU2VuZFRvU2VydmVyRGF0YShfcHJvcCwgbnVsbCk7XG5cbiAgICBpZiAoc2VuZERhdGEuc3VjY2Vzcykge1xuICAgICAgQWpheFV0aWxpdHkuUG9zdChfdGhpcy5hY0ludGVyZmFjZS5yZXNvbHZlTmV4dFBvc3NpYmxlRmxvd05vZGUsIHNlbmREYXRhLmRhdGEsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5DbG9zZURpYWxvZyhEaWFsb2dVdGlsaXR5LkRpYWxvZ0xvYWRpbmdJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLm5leHRUYXNrSXNFbmRFdmVudCkge1xuICAgICAgICAgIHRoaXMuU2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWQocmVzdWx0LmRhdGEuYnBtblRhc2tMaXN0LCBbXSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEuY3VycmVudFRhc2tJc011bHRpSW5zdGFuY2UgJiYgcmVzdWx0LmRhdGEuY3VycmVudFRhc2tNdWx0aUNvbXBsZXRlZEluc3RhbmNlcyArIDEgPCByZXN1bHQuZGF0YS5jdXJyZW50VGFza011bHRpQ291bnRFbmdJbnN0YW5jZXMpIHtcbiAgICAgICAgICB0aGlzLlNlbGVjdFJlY2VpdmVyQ29tcGxldGVkKHJlc3VsdC5kYXRhLmJwbW5UYXNrTGlzdCwgW10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFVzZXJUYXNrUmVjZWl2ZXJEaWFsb2dVdGlsaXR5LlNob3dEaWFsb2coX3Byb3Auc2VuZGVyLCByZXN1bHQuZGF0YS5icG1uVGFza0xpc3QsIF9wcm9wLnNlbmRlci5TZWxlY3RSZWNlaXZlckNvbXBsZXRlZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9wcm9wLnNlbmRlcik7XG4gICAgfVxuICB9LFxuICBTZWxlY3RSZWNlaXZlckNvbXBsZXRlZDogZnVuY3Rpb24gU2VsZWN0UmVjZWl2ZXJDb21wbGV0ZWQobmV4dFRhc2tFbnRpdHlMaXN0LCBzZWxlY3RlZFJlY2VpdmVyRGF0YSkge1xuICAgIERpYWxvZ1V0aWxpdHkuQ29uZmlybSh3aW5kb3csIFwi56Gu6K6k5omn6KGM5Y+R6YCBP1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRSZWNlaXZlclZhcnMgPSBGbG93UnVudGltZVZhckJ1aWxkZXIuQnVpbGRlclNlbGVjdGVkUmVjZWl2ZXJUb0luc3RhbmNlVmFyKG5leHRUYXNrRW50aXR5TGlzdCwgc2VsZWN0ZWRSZWNlaXZlckRhdGEpO1xuXG4gICAgICBpZiAodGhpcy5pbnB1dE9waW5pb25UZXh0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5uZXdPcGluaW9uTGlzdC5wdXNoKHRoaXMuQnVpbGROZXdPcGluaW9uKHRoaXMuaW5wdXRPcGluaW9uVGV4dCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VuZERhdGEgPSB0aGlzLkJ1aWxkU2VuZFRvU2VydmVyRGF0YSh0aGlzLl9Qcm9wLCB7XG4gICAgICAgIHNlbGVjdGVkUmVjZWl2ZXJWYXJzOiBlbmNvZGVVUklDb21wb25lbnQoSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nKHNlbGVjdGVkUmVjZWl2ZXJWYXJzKSksXG4gICAgICAgIG5ld09waW5pb25MaXN0U3RyaW5nOiBlbmNvZGVVUklDb21wb25lbnQoSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nKHRoaXMubmV3T3Bpbmlvbkxpc3QpKVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzZW5kRGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRMb2FkaW5nKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQsIHt9LCBcIuezu+e7n+WkhOeQhuS4rSzor7fnqI3lgJkhXCIpO1xuICAgICAgICBBamF4VXRpbGl0eS5Qb3N0KHRoaXMuYWNJbnRlcmZhY2UuY29tcGxldGVUYXNrLCBzZW5kRGF0YS5kYXRhLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgRGlhbG9nVXRpbGl0eS5DbG9zZURpYWxvZyhEaWFsb2dVdGlsaXR5LkRpYWxvZ0xvYWRpbmdJZCk7XG5cbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuT3BlbmVyV2luZG93T2JqICE9IG51bGwgJiYgd2luZG93Lk9wZW5lcldpbmRvd09iai5pbnN0YW5jZU1haW5UYXNrUHJvY2Vzc0xpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICB3aW5kb3cuT3BlbmVyV2luZG93T2JqLmluc3RhbmNlTWFpblRhc2tQcm9jZXNzTGlzdC5yZWxvYWREYXRhKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBEaWFsb2dVdGlsaXR5LkZyYW1lX0Nsb3NlRGlhbG9nKHdpbmRvdyk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydEVycm9yKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydEVycm9ySWQsIHt9LCByZXN1bHQuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuX1Byb3Auc2VuZGVyKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfSxcbiAgQnVpbGRTZW5kVG9TZXJ2ZXJEYXRhOiBmdW5jdGlvbiBCdWlsZFNlbmRUb1NlcnZlckRhdGEoX3Byb3AsIGFwcGVuZFNlbmRNYXApIHtcbiAgICB2YXIgZm9ybURhdGFDb21wbGV4UE8gPSBfcHJvcC5mb3JtUnVudGltZUluc3QuU2VyaWFsaXphdGlvbkZvcm1EYXRhKCk7XG5cbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaXNTdGFydEluc3RhbmNlU3RhdHVzOiBfcHJvcC5pc1N0YXJ0SW5zdGFuY2VTdGF0dXMsXG4gICAgICAgIGFjdGlvbkNvZGU6IF9wcm9wLmFjdGlvbk9iai5hY3Rpb25Db2RlLFxuICAgICAgICBmbG93SW5zdGFuY2VSdW50aW1lUE9DYWNoZUtleTogX3Byb3AuZmxvd0luc3RhbmNlUnVudGltZVBPQ2FjaGVLZXksXG4gICAgICAgIFwiZm9ybVJlY29yZENvbXBsZXhQT1N0cmluZ1wiOiBlbmNvZGVVUklDb21wb25lbnQoSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nKGZvcm1EYXRhQ29tcGxleFBPKSksXG4gICAgICAgIFwiY3VycmVudE5vZGVLZXlcIjogX3Byb3AuY3VycmVudE5vZGVLZXksXG4gICAgICAgIFwiY3VycmVudE5vZGVOYW1lXCI6IF9wcm9wLmN1cnJlbnROb2RlTmFtZSxcbiAgICAgICAgXCJyZWNvcmRJZFwiOiBfcHJvcC5yZWNvcmRJZCxcbiAgICAgICAgXCJtb2RlbElkXCI6IF9wcm9wLm1vZGVsSWQsXG4gICAgICAgIFwibW9kZWxSZUtleVwiOiBfcHJvcC5tb2RlbFJlS2V5LFxuICAgICAgICBcImN1cnJlbnRUYXNrSWRcIjogX3Byb3AuY3VycmVudFRhc2tJZCxcbiAgICAgICAgXCJpbnN0YW5jZUlkXCI6IF9wcm9wLmluc3RhbmNlSWQsXG4gICAgICAgIFwibmV3T3Bpbmlvbkxpc3RTdHJpbmdcIjogXCJcIlxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoYXBwZW5kU2VuZE1hcCkge1xuICAgICAgZm9yICh2YXIga2V5IGluIGFwcGVuZFNlbmRNYXApIHtcbiAgICAgICAgcmVzdWx0LmRhdGFba2V5XSA9IGFwcGVuZFNlbmRNYXBba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuICBCdWlsZE5ld09waW5pb246IGZ1bmN0aW9uIEJ1aWxkTmV3T3BpbmlvbihvcGluaW9uVGV4dCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGluaW9uVGV4dDogb3BpbmlvblRleHQsXG4gICAgICBvcGluaW9uQ2xpZW50Q29kZTogU3RyaW5nVXRpbGl0eS5UaW1lc3RhbXAoKVxuICAgIH07XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBEb2N1bWVudENvbnRlbnRVcGxvYWRDb252ZXJ0VG9QREZQbHVnaW4gPSB7XG4gIG9uY2hhbmdlRmlsZTogZnVuY3Rpb24gb25jaGFuZ2VGaWxlKHNlbmRlcikge1xuICAgICQoXCIjZG9jLXNlbGVjdGVkLWZpbGVcIikuaHRtbCgkKHNlbmRlcikudmFsKCkpO1xuICB9LFxuICB1cGxvYWRBbmRDb252ZXJ0VG9QREY6IGZ1bmN0aW9uIHVwbG9hZEFuZENvbnZlcnRUb1BERihzZW5kZXIsIGluc3RhbmNlSWQsIGJ1c2luZXNzS2V5KSB7XG4gICAgaWYgKCEkKFwiI3NvdXJjZUZpbGVcIikudmFsKCkpIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi6K+36YCJ5oup6KaB5LiK5Lyg55qE5paH5Lu2IVwiLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VyY2VGaWxlJykuZmlsZXNbMF0pO1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ1BPU1QnLCBCYXNlVXRpbGl0eS5CdWlsZEFjdGlvbihcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L0RvY3VtZW50RmlsZVJ1bnRpbWUvVXBsb2FkRmlsZUFuZENvbnZlcnRUb1BERj9pbnN0YW5jZUlkPVwiICsgaW5zdGFuY2VJZCArIFwiJmJ1c2luZXNzS2V5PVwiICsgYnVzaW5lc3NLZXkpKTtcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coeGhyKTtcblxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IEpzb25VdGlsaXR5LlN0cmluZ1RvSnNvbih4aHIucmVzcG9uc2UpO1xuICAgICAgICAgIERvY3VtZW50Q29udGVudFVwbG9hZENvbnZlcnRUb1BERlBsdWdpbi5sb2FkUERGRmlsZVRvVmlld2VyKHJlc3VsdC5kYXRhLmZpbGVJZCk7XG4gICAgICAgICAgRGlhbG9nVXRpbGl0eS5DbG9zZUJ5RWxlbUlkKERpYWxvZ1V0aWxpdHkuRGlhbG9nTG9hZGluZ0lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuaJp+ihjOWHuumUmSFcIiArIHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQ2xvc2VCeUVsZW1JZChEaWFsb2dVdGlsaXR5LkRpYWxvZ0xvYWRpbmdJZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRMb2FkaW5nKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dMb2FkaW5nSWQsIHt9LCBcIlwiKTtcbiAgICAgICAgICB2YXIgcGVyY2VudCA9IE1hdGguZmxvb3IoZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwgKiAxMDApO1xuICAgICAgICAgICQoXCIjdXBsb2FkLXByb2Nlc3NcIikuaHRtbChwZXJjZW50ICsgXCIlXCIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIuc2VuZChmb3JtRGF0YSk7XG4gICAgfVxuICB9LFxuICB0cnlMb2FkSGlzdG9yeURvY3VtZW50OiBmdW5jdGlvbiB0cnlMb2FkSGlzdG9yeURvY3VtZW50KHByb3BDb25maWcpIHtcbiAgICBBamF4VXRpbGl0eS5HZXQoXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9Eb2N1bWVudEZpbGVSdW50aW1lL1RyeUdldExhc3RPbmxpbmVEb2N1bWVudFwiLCB7XG4gICAgICBpbnN0YW5jZUlkOiBwcm9wQ29uZmlnLkluc3RhbmNlSWRcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpIHtcbiAgICAgICAgdGhpcy5sb2FkUERGRmlsZVRvVmlld2VyKHJlc3VsdC5kYXRhLmZpbGVJZCk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH0sXG4gIGxvYWRQREZGaWxlVG9WaWV3ZXI6IGZ1bmN0aW9uIGxvYWRQREZGaWxlVG9WaWV3ZXIoZmlsZUlkKSB7XG4gICAgdmFyIGZpbGVVcmwgPSBCYXNlVXRpbGl0eS5HZXRSb290UGF0aCgpICsgXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9Eb2N1bWVudEZpbGVSdW50aW1lL0Rvd25Mb2FkUGRmRG9jdW1lbnRCeUZpbGVJZD9maWxlSWQ9XCIgKyBmaWxlSWQ7XG4gICAgJChcIiNwZGZWaWV3ZXJcIikuYXR0cihcInNyY1wiLCBcIi9Kcy9FeHRlcm5hbC9QREZKUy0yLjkuMzU5LWRpc3Qvd2ViL3ZpZXdlci5odG1sP2ZpbGU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCkpO1xuICB9LFxuICBHZXRIdG1sRWxlbTogZnVuY3Rpb24gR2V0SHRtbEVsZW0ocHJvcENvbmZpZykge1xuICAgIHZhciBpbnN0YW5jZUlkID0gcHJvcENvbmZpZy5JbnN0YW5jZUlkO1xuICAgIHZhciBidXNpbmVzc0tleSA9IHByb3BDb25maWcuUmVjb3JkSWQ7XG4gICAgdGhpcy50cnlMb2FkSGlzdG9yeURvY3VtZW50KHByb3BDb25maWcpO1xuICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcImRvY3VtZW50LW91dGVyLXdyYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZG9jdW1lbnQtYnV0dG9ucy1vdXRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZG9jdW1lbnQtYnV0dG9ucy1pbm5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwidXBsb2FkLWFuZC1jb252ZXJ0LWJ1dHRvblxcXCIgZGlzYWJsZWQ+XFx1NEUwQlxcdThGN0RQREZcXHU2NTg3XFx1NEVGNjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInVwbG9hZC1hbmQtY29udmVydC1idXR0b25cXFwiIGRpc2FibGVkPlxcdTRFMEJcXHU4RjdEXFx1NTM5RlxcdTU5Q0JcXHU2NTg3XFx1NEVGNjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInVwbG9hZC1hbmQtY29udmVydC1idXR0b25cXFwiIG9uY2xpY2s9XFxcIkRvY3VtZW50Q29udGVudFVwbG9hZENvbnZlcnRUb1BERlBsdWdpbi51cGxvYWRBbmRDb252ZXJ0VG9QREYodGhpcywnXCIuY29uY2F0KGluc3RhbmNlSWQsIFwiJywnXCIpLmNvbmNhdChidXNpbmVzc0tleSwgXCInKVxcXCI+XFx1NEUwQVxcdTRGMjBcXHU1RTc2XFx1OEY2Q1xcdTYzNjJcXHU0RTNBcGRmPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZpbGUtdXBsb2FkXFxcIj5cXHU5MDA5XFx1NjJFOVxcdTY1ODdcXHU0RUY2XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XFxcInNvdXJjZUZpbGVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVxcXCJmaWxlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cXFwiaW5wdXRGaWxlXFxcIiBhY2NlcHQ9XFxcIi5kb2MsLmRvY3gsLnBkZlxcXCIgb25jaGFuZ2U9XFxcIkRvY3VtZW50Q29udGVudFVwbG9hZENvbnZlcnRUb1BERlBsdWdpbi5vbmNoYW5nZUZpbGUodGhpcylcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RlZC1maWxlLW1lc3NhZ2VcXFwiPlxcdTVERjJcXHU5MDA5XFx1NjU4N1xcdTRFRjY6PHNwYW4gaWQ9XFxcImRvYy1zZWxlY3RlZC1maWxlXFxcIj48L3NwYW4+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZC1wcm9jZXNzXFxcIiBpZD1cXFwidXBsb2FkLXByb2Nlc3NcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkb2N1bWVudC1jb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aWZyYW1lIGlkPVxcXCJwZGZWaWV3ZXJcXFwiIHNyYz1cXFwiXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO2JvcmRlcjogMHB4XFxcIj48L2lmcmFtZT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luID0ge1xuICBfcHJvcDoge30sXG4gIF9mbG93SW5zdGFuY2VSdW50aW1lUE86IG51bGwsXG4gIF9jdXJyZW50Tm9kZTogbnVsbCxcbiAgX2F1dGhvcml0aWVzRmlsZUF1dGhvcml0eTogbnVsbCxcbiAgX2F1dGhvcml0aWVzT25seVNlbmRCYWNrQ2FuRWRpdDogXCJmYWxzZVwiLFxuICBHZXRIdG1sRWxlbTogZnVuY3Rpb24gR2V0SHRtbEVsZW0ocHJvcENvbmZpZykge1xuICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX3Byb3AgPSBwcm9wQ29uZmlnO1xuICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTyA9IHByb3BDb25maWcuRmxvd0luc3RhbmNlUnVudGltZVBPO1xuICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2N1cnJlbnROb2RlID0gQXJyYXlVdGlsaXR5LldoZXJlKEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTy5icG1uRGVmaW5pdGlvbnMuYnBtblByb2Nlc3MudXNlclRhc2tMaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5fZmxvd0luc3RhbmNlUnVudGltZVBPLmN1cnJlbnROb2RlS2V5O1xuICAgIH0pO1xuXG4gICAgaWYgKEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2N1cnJlbnROb2RlLmxlbmd0aCA9PSAwKSB7XG4gICAgICBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9jdXJyZW50Tm9kZSA9IEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2Zsb3dJbnN0YW5jZVJ1bnRpbWVQTy5icG1uRGVmaW5pdGlvbnMuYnBtblByb2Nlc3Muc3RhcnRFdmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5fY3VycmVudE5vZGUgPSBGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9jdXJyZW50Tm9kZVswXTtcbiAgICB9XG5cbiAgICBpZiAoRmxvd0ZpbGVzTGlzdFNpbmdsZVBsdWdpbi5fY3VycmVudE5vZGUuZXh0ZW5zaW9uRWxlbWVudHMpIHtcbiAgICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2F1dGhvcml0aWVzRmlsZUF1dGhvcml0eSA9IEpzb25VdGlsaXR5LlN0cmluZ1RvSnNvbihGbG93RmlsZXNMaXN0U2luZ2xlUGx1Z2luLl9jdXJyZW50Tm9kZS5leHRlbnNpb25FbGVtZW50cy5qYjRkY0F1dGhvcml0aWVzLmF1dGhvcml0aWVzRmlsZUF1dGhvcml0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEZsb3dGaWxlc0xpc3RTaW5nbGVQbHVnaW4uX2F1dGhvcml0aWVzRmlsZUF1dGhvcml0eSA9IHtcbiAgICAgICAgYWRkRmlsZTogXCJ0cnVlXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiPGRpdiBpZD1cXFwiRmxvd0ZpbGVzTGlzdFBsdWdpbkNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlwiO1xuICB9LFxuICBhY0ludGVyZmFjZToge1xuICAgIGdldEZpbGVMaXN0RGF0YTogXCIvUmVzdC9Xb3JrZmxvdy9SdW5UaW1lL0NsaWVudC9JbnN0YW5jZUZpbGVSdW50aW1lL0dldEF0dGFjaG1lbnRGaWxlTGlzdERhdGFcIixcbiAgICB1cGxvYWRGaWxlOiBcIi9SZXN0L1dvcmtmbG93L1J1blRpbWUvQ2xpZW50L0luc3RhbmNlRmlsZVJ1bnRpbWUvVXBsb2FkRmlsZVwiLFxuICAgIGRvd25sb2FkRmlsZTogXCIvUmVzdC9CdWlsZGVyL1J1blRpbWUvRmlsZVJ1bnRpbWUvRG93bkxvYWRGaWxlQnlGaWxlSWRcIixcbiAgICBkZWxldGVGaWxlOiBcIi9SZXN0L0J1aWxkZXIvUnVuVGltZS9GaWxlUnVudGltZS9EZWxldGVGaWxlQnlGaWxlSWRcIlxuICB9LFxuICBSZW5kZXJlcjogZnVuY3Rpb24gUmVuZGVyZXIoKSB7XG4gICAgdGhpcy5CdWlsZFVwbG9hZENvbnRhaW5lcigpO1xuICAgIHRoaXMuQnVpbGRGaWxlTGlzdCgpO1xuICB9LFxuICBUb1ZpZXdTdGF0dXM6IGZ1bmN0aW9uIFRvVmlld1N0YXR1cygkZWxlbSwgZmllbGRQTywgcmVsYXRpb25Gb3JtUmVjb3JkQ29tcGxleFBvLCBfcmVuZGVyZXJEYXRhQ2hhaW5QYXJhcykge1xuICAgICQoXCIjXCIgKyB0aGlzLl9wcm9wLnVwbG9hZFdhcnBJZCkuaGlkZSgpO1xuICAgICQoXCIjXCIgKyB0aGlzLl9wcm9wLmVsZW1JZCkuZmluZChcIi5kZWxldGUtYnV0dG9uLWVsZW1cIikuaGlkZSgpO1xuICAgICQoXCIjXCIgKyB0aGlzLl9wcm9wLmVsZW1JZCkuZmluZChcIi5tb3ZlLXVwLWJ1dHRvbi1lbGVtXCIpLmhpZGUoKTtcbiAgICAkKFwiI1wiICsgdGhpcy5fcHJvcC5lbGVtSWQpLmZpbmQoXCIubW92ZS1kb3duLWJ1dHRvbi1lbGVtXCIpLmhpZGUoKTtcbiAgfSxcbiAgR2V0VGhpc1JlY29yZElkOiBmdW5jdGlvbiBHZXRUaGlzUmVjb3JkSWQoKSB7XG4gICAgdmFyIG9iaklkID0gXCJcIjtcblxuICAgIGlmIChmb3JtUnVudGltZUluc3QgJiYgZm9ybVJ1bnRpbWVJbnN0LkdldFdlYkZvcm1SVFBhcmFzKCkgJiYgZm9ybVJ1bnRpbWVJbnN0LkdldFdlYkZvcm1SVFBhcmFzKCkuUmVjb3JkSWQpIHtcbiAgICAgIG9iaklkID0gZm9ybVJ1bnRpbWVJbnN0LkdldFdlYkZvcm1SVFBhcmFzKCkuUmVjb3JkSWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi5p+l5om+5LiN5Yiw57uR5a6a55qE6K6w5b2VSURcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iaklkO1xuICB9LFxuICBHZXRUaGlzUmVjb3JkVHlwZTogZnVuY3Rpb24gR2V0VGhpc1JlY29yZFR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3Aub2JqVHlwZTtcbiAgfSxcbiAgR2V0VXBsb2FkRW5kUG9pbnRSZXF1ZXN0OiBmdW5jdGlvbiBHZXRVcGxvYWRFbmRQb2ludFJlcXVlc3QoKSB7XG4gICAgdmFyIGVuZFBvaW50ID0gQmFzZVV0aWxpdHkuR2V0Um9vdFBhdGgoKSArIHRoaXMuYWNJbnRlcmZhY2UudXBsb2FkRmlsZTtcbiAgICB2YXIgcGFyYXMgPSB7XG4gICAgICBmaWxlVHlwZTogXCJBdHRhY2htZW50XCIsXG4gICAgICBpbnN0YW5jZUlkOiB0aGlzLl9wcm9wLkZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5pbnN0YW5jZUVudGl0eS5pbnN0SWQsXG4gICAgICBidXNpbmVzc0tleTogdGhpcy5fcHJvcC5SZWNvcmRJZFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuZHBvaW50OiBlbmRQb2ludCxcbiAgICAgIHBhcmFtczogcGFyYXNcbiAgICB9O1xuICB9LFxuICBDcmVhdGVEZWZhdWx0VGVtcGxhdGU6IGZ1bmN0aW9uIENyZWF0ZURlZmF1bHRUZW1wbGF0ZSh0ZW1wbGF0ZUlkKSB7XG4gICAgJCh3aW5kb3cuZG9jdW1lbnQuYm9keSkuYXBwZW5kKFwiPHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L3RlbXBsYXRlXFxcIiBpZD1cXFwiXCIgKyB0ZW1wbGF0ZUlkICsgXCJcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtdXBsb2FkZXItc2VsZWN0b3IgcXEtdXBsb2FkZXIgcXEtZ2FsbGVyeVxcXCIgcXEtZHJvcC1hcmVhLXRleHQ9XFxcIlxcdTYyRDZcXHU2NTNFXFx1NjU4N1xcdTRFRjZcXHU1MjMwXFx1OEZEOVxcdTkxQ0NcXHU4RkRCXFx1ODg0Q1xcdTRFMEFcXHU0RjIwXFx1MzAwMlxcXCIgc3R5bGU9XFxcIm1pbi1oZWlnaHQ6IDc4cHg7XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS10b3RhbC1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIHFxLXRvdGFsLXByb2dyZXNzLWJhci1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCIwXFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCIxMDBcXFwiIGNsYXNzPVxcXCJxcS10b3RhbC1wcm9ncmVzcy1iYXItc2VsZWN0b3IgcXEtcHJvZ3Jlc3MtYmFyIHFxLXRvdGFsLXByb2dyZXNzLWJhclxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtdXBsb2FkLWRyb3AtYXJlYS1zZWxlY3RvciBxcS11cGxvYWQtZHJvcC1hcmVhXFxcIiBxcS1oaWRlLWRyb3B6b25lPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtdXBsb2FkLWRyb3AtYXJlYS10ZXh0LXNlbGVjdG9yXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtdXBsb2FkLWJ1dHRvbi1zZWxlY3RvciBxcS11cGxvYWQtYnV0dG9uXFxcIiBzdHlsZT1cXFwiZmxvYXQ6IHJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdj5cXHU5MDA5XFx1NjJFOVxcdTY1ODdcXHU0RUY2PC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInFxLWRyb3AtcHJvY2Vzc2luZy1zZWxlY3RvciBxcS1kcm9wLXByb2Nlc3NpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3Bhbj5Qcm9jZXNzaW5nIGRyb3BwZWQgZmlsZXMuLi48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS1kcm9wLXByb2Nlc3Npbmctc3Bpbm5lci1zZWxlY3RvciBxcS1kcm9wLXByb2Nlc3Npbmctc3Bpbm5lclxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgICA8dWwgY2xhc3M9XFxcInFxLXVwbG9hZC1saXN0LXNlbGVjdG9yIHFxLXVwbG9hZC1saXN0XFxcIiByb2xlPVxcXCJyZWdpb25cXFwiIGFyaWEtbGl2ZT1cXFwicG9saXRlXFxcIiBhcmlhLXJlbGV2YW50PVxcXCJhZGRpdGlvbnMgcmVtb3ZhbHNcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lXFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gcm9sZT1cXFwic3RhdHVzXFxcIiBjbGFzcz1cXFwicXEtdXBsb2FkLXN0YXR1cy10ZXh0LXNlbGVjdG9yIHFxLXVwbG9hZC1zdGF0dXMtdGV4dFxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lci1zZWxlY3RvciBxcS1wcm9ncmVzcy1iYXItY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCIwXFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCIxMDBcXFwiIGNsYXNzPVxcXCJxcS1wcm9ncmVzcy1iYXItc2VsZWN0b3IgcXEtcHJvZ3Jlc3MtYmFyXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInFxLXVwbG9hZC1zcGlubmVyLXNlbGVjdG9yIHFxLXVwbG9hZC1zcGlubmVyXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS10aHVtYm5haWwtd3JhcHBlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwicXEtdGh1bWJuYWlsLXNlbGVjdG9yXFxcIiBxcS1tYXgtc2l6ZT1cXFwiMTIwXFxcIiBxcS1zZXJ2ZXItc2NhbGU+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwicXEtdXBsb2FkLWNhbmNlbC1zZWxlY3RvciBxcS11cGxvYWQtY2FuY2VsXFxcIj5YPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLXVwbG9hZC1yZXRyeS1zZWxlY3RvciBxcS11cGxvYWQtcmV0cnlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS1idG4gcXEtcmV0cnktaWNvblxcXCIgYXJpYS1sYWJlbD1cXFwiUmV0cnlcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXRyeVxcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS1maWxlLWluZm9cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInFxLWZpbGUtbmFtZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS11cGxvYWQtZmlsZS1zZWxlY3RvciBxcS11cGxvYWQtZmlsZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtZWRpdC1maWxlbmFtZS1pY29uLXNlbGVjdG9yIHFxLWJ0biBxcS1lZGl0LWZpbGVuYW1lLWljb25cXFwiIGFyaWEtbGFiZWw9XFxcIkVkaXQgZmlsZW5hbWVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcInFxLWVkaXQtZmlsZW5hbWUtc2VsZWN0b3IgcXEtZWRpdC1maWxlbmFtZVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIHR5cGU9XFxcInRleHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS11cGxvYWQtc2l6ZS1zZWxlY3RvciBxcS11cGxvYWQtc2l6ZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwicXEtYnRuIHFxLXVwbG9hZC1kZWxldGUtc2VsZWN0b3IgcXEtdXBsb2FkLWRlbGV0ZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS1idG4gcXEtZGVsZXRlLWljb25cXFwiIGFyaWEtbGFiZWw9XFxcIkRlbGV0ZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwicXEtYnRuIHFxLXVwbG9hZC1wYXVzZS1zZWxlY3RvciBxcS11cGxvYWQtcGF1c2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicXEtYnRuIHFxLXBhdXNlLWljb25cXFwiIGFyaWEtbGFiZWw9XFxcIlBhdXNlXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJxcS1idG4gcXEtdXBsb2FkLWNvbnRpbnVlLXNlbGVjdG9yIHFxLXVwbG9hZC1jb250aW51ZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJxcS1idG4gcXEtY29udGludWUtaWNvblxcXCIgYXJpYS1sYWJlbD1cXFwiQ29udGludWVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDwvdWw+XFxuXFxuICAgICAgICAgICAgPGRpYWxvZyBjbGFzcz1cXFwicXEtYWxlcnQtZGlhbG9nLXNlbGVjdG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3JcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS1kaWFsb2ctYnV0dG9uc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLWNhbmNlbC1idXR0b24tc2VsZWN0b3JcXFwiPkNsb3NlPC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGlhbG9nPlxcblxcbiAgICAgICAgICAgIDxkaWFsb2cgY2xhc3M9XFxcInFxLWNvbmZpcm0tZGlhbG9nLXNlbGVjdG9yXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3JcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS1kaWFsb2ctYnV0dG9uc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLWNhbmNlbC1idXR0b24tc2VsZWN0b3JcXFwiPk5vPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcInFxLW9rLWJ1dHRvbi1zZWxlY3RvclxcXCI+WWVzPC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGlhbG9nPlxcblxcbiAgICAgICAgICAgIDxkaWFsb2cgY2xhc3M9XFxcInFxLXByb21wdC1kaWFsb2ctc2VsZWN0b3JcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJxcS1kaWFsb2ctbWVzc2FnZS1zZWxlY3RvclxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicXEtZGlhbG9nLWJ1dHRvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJxcS1jYW5jZWwtYnV0dG9uLXNlbGVjdG9yXFxcIj5DYW5jZWw8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwicXEtb2stYnV0dG9uLXNlbGVjdG9yXFxcIj5PazwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2RpYWxvZz5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L3NjcmlwdD5cIik7XG4gIH0sXG4gIEJ1aWxkVXBsb2FkQ29udGFpbmVyOiBmdW5jdGlvbiBCdWlsZFVwbG9hZENvbnRhaW5lcigpIHtcbiAgICBpZiAodGhpcy5fYXV0aG9yaXRpZXNGaWxlQXV0aG9yaXR5LmFkZEZpbGUgPT0gXCJ0cnVlXCIpIHtcbiAgICAgIHZhciAkc2luZ2xlQ29udHJvbEVsZW0gPSAkKFwiI0Zsb3dGaWxlc0xpc3RQbHVnaW5Db250YWluZXJcIik7XG4gICAgICB2YXIgdXBsb2FkV2FycElkID0gJ3VwbG9hZFdhcnBfJyArIFN0cmluZ1V0aWxpdHkuVGltZXN0YW1wKCk7XG4gICAgICB0aGlzLl9wcm9wLnVwbG9hZFdhcnBJZCA9IHVwbG9hZFdhcnBJZDtcbiAgICAgIHZhciAkdXBsb2FkV2FycCA9ICQoXCI8ZGl2IGlkPSdcIiArIHVwbG9hZFdhcnBJZCArIFwiJz48L2Rpdj5cIik7XG4gICAgICAkc2luZ2xlQ29udHJvbEVsZW0uYXBwZW5kKCR1cGxvYWRXYXJwKTtcbiAgICAgIHZhciB0ZW1wbGF0ZUlkID0gXCJxcS10ZW1wbGF0ZV9cIiArIHRoaXMuX3Byb3AuZWxlbUlkO1xuICAgICAgdGhpcy5DcmVhdGVEZWZhdWx0VGVtcGxhdGUodGVtcGxhdGVJZCk7XG5cbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBnYWxsZXJ5VXBsb2FkZXIgPSBuZXcgcXEuRmluZVVwbG9hZGVyKHtcbiAgICAgICAgZWxlbWVudDogJHVwbG9hZFdhcnBbMF0sXG4gICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZUlkLFxuICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgIHJlcXVlc3Q6IHRoaXMuR2V0VXBsb2FkRW5kUG9pbnRSZXF1ZXN0KCksXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoaWQsIG5hbWUsIHJlc3BvbnNlSlNPTiwgeGhyKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VKU09OLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgX3RoaXMuQnVpbGRGaWxlTGlzdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydFRleHQocmVzcG9uc2VKU09OLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBCdWlsZEZpbGVMaXN0OiBmdW5jdGlvbiBCdWlsZEZpbGVMaXN0KCkge1xuICAgIHZhciAkc2luZ2xlQ29udHJvbEVsZW0gPSAkKFwiI0Zsb3dGaWxlc0xpc3RQbHVnaW5Db250YWluZXJcIik7XG4gICAgdmFyIHVwbG9hZF9maWxlX2xpc3Rfd3JhcF9pZCA9IFwiZmxvd19maWxlX3BsdWdpbl91cGxvYWRfZmlsZV9saXN0X3dhcnBcIjtcbiAgICAkKFwiI1wiICsgdXBsb2FkX2ZpbGVfbGlzdF93cmFwX2lkKS5yZW1vdmUoKTtcbiAgICB2YXIgJGRpdldhcnAgPSAkKFwiPGRpdiBjbGFzcz0ndXBsb2FkX2ZpbGVfbGlzdF93cmFwJyBpZD0nXCIgKyB1cGxvYWRfZmlsZV9saXN0X3dyYXBfaWQgKyBcIic+PHRhYmxlIGNsYXNzPSdmaWxlX2xpc3RfdGFibGUnPjx0aGVhZD48dHI+PHRoPuaWh+S7tuWQjeensDwvdGg+PHRoIHN0eWxlPSd3aWR0aDogMTQwcHgnPuS4iuS8oOaXtumXtDwvdGg+PHRoIHN0eWxlPSd3aWR0aDogMTQwcHgnPuS4iuS8oOS6ujwvdGg+PHRoIHN0eWxlPSd3aWR0aDogMTQwcHgnPuaWh+S7tuWkp+WwjzwvdGg+PHRoIHN0eWxlPSd3aWR0aDogMTQwcHgnPuaTjeS9nDwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT48L3Rib2R5PjwvdGFibGU+PC9kaXY+XCIpO1xuICAgIHZhciAkdGJvZHkgPSAkZGl2V2FycC5maW5kKFwidGJvZHlcIik7XG4gICAgdmFyIGluc3RhbmNlSWQgPSB0aGlzLl9wcm9wLkZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5pbnN0YW5jZUVudGl0eS5pbnN0SWQ7XG4gICAgQWpheFV0aWxpdHkuUG9zdCh0aGlzLmFjSW50ZXJmYWNlLmdldEZpbGVMaXN0RGF0YSwge1xuICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2VJZFxuICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpbGVJbmZvID0gcmVzdWx0LmRhdGFbaV07XG4gICAgICAgICAgJHRib2R5LmFwcGVuZCh0aGlzLkJ1aWxkRmlsZUluZm9UYWJsZVJvdyhyZXN1bHQsIGZpbGVJbmZvKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgICAkKCRzaW5nbGVDb250cm9sRWxlbS5hcHBlbmQoJGRpdldhcnApKTtcbiAgfSxcbiAgQnVpbGRGaWxlSW5mb1RhYmxlUm93OiBmdW5jdGlvbiBCdWlsZEZpbGVJbmZvVGFibGVSb3cocmVzcG9uc2VKU09OLCBmaWxlSW5mbykge1xuICAgIHZhciBmaWxlTmFtZSA9IFN0cmluZ1V0aWxpdHkuRW5jb2RlSHRtbChmaWxlSW5mby5maWxlTmFtZSk7XG4gICAgdmFyIGZpbGVDcmVhdGVUaW1lID0gRGF0ZVV0aWxpdHkuRGF0ZUZvcm1hdEJ5VGltZVN0YW1wKGZpbGVJbmZvLmZpbGVDcmVhdGVUaW1lLCBcInl5eXktTU0tZGRcIik7XG4gICAgdmFyIGZpbGVTaXplID0gSGFyZERpc2tVdGlsaXR5LkJ5dGVDb252ZXJ0KGZpbGVJbmZvLmZpbGVTaXplKTtcbiAgICB2YXIgZmlsZUNyZWF0b3JOYW1lID0gU3RyaW5nVXRpbGl0eS5FbmNvZGVIdG1sKGZpbGVJbmZvLmZpbGVDcmVhdG9yKTtcbiAgICB2YXIgJHRyT2JqID0gJChcIjx0cj48dGQ+XCIuY29uY2F0KGZpbGVOYW1lLCBcIjwvdGQ+PHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiBjZW50ZXJcXFwiPlwiKS5jb25jYXQoZmlsZUNyZWF0ZVRpbWUsIFwiPC90ZD48dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IGNlbnRlclxcXCI+XCIpLmNvbmNhdChmaWxlQ3JlYXRvck5hbWUsIFwiPC90ZD48dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IGNlbnRlclxcXCI+XCIpLmNvbmNhdChmaWxlU2l6ZSwgXCI8L3RkPjx0ZCBzdHlsZT1cXFwidGV4dC1hbGlnbjogY2VudGVyXFxcIj48L3RkPjwvdHI+XCIpKTtcbiAgICB0aGlzLkJ1aWxkRmlsZUluZm9UYWJsZVJvd0lubmVyQnV0dG9ucyhyZXNwb25zZUpTT04sIGZpbGVJbmZvLCAkdHJPYmopO1xuICAgIHJldHVybiAkdHJPYmo7XG4gIH0sXG4gIEJ1aWxkRmlsZUluZm9UYWJsZVJvd0lubmVyQnV0dG9uczogZnVuY3Rpb24gQnVpbGRGaWxlSW5mb1RhYmxlUm93SW5uZXJCdXR0b25zKHJlc3BvbnNlSlNPTiwgZmlsZUluZm8sICR0cikge1xuICAgIGlmICghdGhpcy5fcHJvcC5kb3dubG9hZEVuYWJsZSAmJiAhdGhpcy5fcHJvcC5kZWxldGVFbmFibGUgJiYgdGhpcy5fcHJvcC5wcmV2aWV3RW5hYmxlICYmIHRoaXMuX3Byb3AubW92ZU9yZGVyRW5hYmxlKSB7fVxuXG4gICAgdmFyICR0ckxhc3RUZCA9ICR0ci5maW5kKFwidGQ6bGFzdFwiKTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5fcHJvcC5kZWxldGVFbmFibGUpIHtcbiAgICAgIHZhciAkZGVsZXRlRWxlbSA9ICQoXCI8ZGl2IGNsYXNzPSdmaWxlLWxpc3QtaW5uZXItYnV0dG9uIGRlbGV0ZS1idXR0b24tZWxlbScgdGl0bGU9J+eCueWHu+WIoOmZpCc+PC9kaXY+XCIpO1xuICAgICAgJGRlbGV0ZUVsZW0uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkNvbmZpcm0od2luZG93LCBcIuehruiupOWIoOmZpOmZhOS7tuOAkFwiICsgZmlsZUluZm8uZmlsZU5hbWUgKyBcIuOAkeWQlz9cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIEFqYXhVdGlsaXR5LlBvc3QoX3RoaXMuYWNJbnRlcmZhY2UuZGVsZXRlRmlsZSwge1xuICAgICAgICAgICAgZmlsZUlkOiBmaWxlSW5mby5maWxlSWRcbiAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgJGRlbGV0ZUVsZW0ucGFyZW50KCkucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgJHRyTGFzdFRkLmFwcGVuZCgkZGVsZXRlRWxlbSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Byb3AubW92ZU9yZGVyRW5hYmxlIHx8IHRydWUpIHtcbiAgICAgIHZhciAkbW92ZVVwRWxlbSA9ICQoXCI8ZGl2IGNsYXNzPSdmaWxlLWxpc3QtaW5uZXItYnV0dG9uIG1vdmUtdXAtYnV0dG9uLWVsZW0nIHRpdGxlPSfngrnlh7vkuIrnp7snPjwvZGl2PlwiKTtcbiAgICAgICRtb3ZlVXBFbGVtLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydFRleHQoXCLmmoLkuI3mlK/mjIEhXCIpO1xuICAgICAgfSk7XG4gICAgICB2YXIgJG1vdmVEb3duRWxlbSA9ICQoXCI8ZGl2IGNsYXNzPSdmaWxlLWxpc3QtaW5uZXItYnV0dG9uIG1vdmUtZG93bi1idXR0b24tZWxlbScgdGl0bGU9J+eCueWHu+S4i+enuyc+PC9kaXY+XCIpO1xuICAgICAgJG1vdmVEb3duRWxlbS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi5pqC5LiN5pSv5oyBIVwiKTtcbiAgICAgIH0pO1xuICAgICAgJHRyTGFzdFRkLmFwcGVuZCgkbW92ZVVwRWxlbSk7XG4gICAgICAkdHJMYXN0VGQuYXBwZW5kKCRtb3ZlRG93bkVsZW0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wcm9wLmRvd25sb2FkRW5hYmxlKSB7XG4gICAgICB2YXIgJGRvd25sb2FkRWxlbSA9ICQoXCI8ZGl2IGNsYXNzPSdmaWxlLWxpc3QtaW5uZXItYnV0dG9uIGRvd25sb2FkLWJ1dHRvbi1lbGVtJyB0aXRsZT0n54K55Ye75LiL6L29Jz48L2Rpdj5cIik7XG4gICAgICAkZG93bmxvYWRFbGVtLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkdldFJvb3RQYXRoKCkgKyBfdGhpcy5hY0ludGVyZmFjZS5kb3dubG9hZEZpbGUgKyBcIj9maWxlSWQ9XCIgKyBmaWxlSW5mby5maWxlSWQ7XG4gICAgICAgIHdpbmRvdy5vcGVuKHVybCk7XG4gICAgICB9KTtcbiAgICAgICR0ckxhc3RUZC5hcHBlbmQoJGRvd25sb2FkRWxlbSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Byb3AucHJldmlld0VuYWJsZSB8fCB0cnVlKSB7XG4gICAgICB2YXIgJHByZXZpZXdFbGVtID0gJChcIjxkaXYgY2xhc3M9J2ZpbGUtbGlzdC1pbm5lci1idXR0b24gcHJldmlldy1idXR0b24tZWxlbScgdGl0bGU9J+eCueWHu+mihOiniCc+PC9kaXY+XCIpO1xuICAgICAgJHByZXZpZXdFbGVtLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydFRleHQoXCLmmoLkuI3mlK/mjIEhXCIpO1xuICAgICAgfSk7XG4gICAgICAkdHJMYXN0VGQuYXBwZW5kKCRwcmV2aWV3RWxlbSk7XG4gICAgfVxuICB9LFxuICBUZXN0RmlsZVByZXZpZXdFbmFibGU6IGZ1bmN0aW9uIFRlc3RGaWxlUHJldmlld0VuYWJsZShmaWxlSW5mbykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgSW5zdGFuY2VFeFRhc2tMaXN0UGx1Z2luID0ge1xuICBfZmxvd0luc3RhbmNlUnVudGltZVBPOiBudWxsLFxuICBfaGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0OiBudWxsLFxuICBfY3VycmVudEV4VGFzazogbnVsbCxcbiAgR2V0SHRtbEVsZW06IGZ1bmN0aW9uIEdldEh0bWxFbGVtKHByb3BDb25maWcpIHtcbiAgICB0aGlzLl9mbG93SW5zdGFuY2VSdW50aW1lUE8gPSBwcm9wQ29uZmlnLkZsb3dJbnN0YW5jZVJ1bnRpbWVQTztcbiAgICB0aGlzLl9oaXN0b3J5RXhlY3V0aW9uVGFza0VudGl0eUxpc3QgPSBwcm9wQ29uZmlnLkZsb3dJbnN0YW5jZVJ1bnRpbWVQTy5oaXN0b3J5RXhlY3V0aW9uVGFza0VudGl0eUxpc3Q7XG4gICAgdGhpcy5fY3VycmVudEV4VGFzayA9IHByb3BDb25maWcuRmxvd0luc3RhbmNlUnVudGltZVBPLmV4ZWN1dGlvblRhc2tFbnRpdHk7XG5cbiAgICBpZiAodGhpcy5faGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5SZW5kZXJlcigpO1xuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBWaWV3RGV0YWlsOiBmdW5jdGlvbiBWaWV3RGV0YWlsKGV4VGFza0lkKSB7XG4gICAgdmFyIGV4VGFzayA9IEFycmF5VXRpbGl0eS5XaGVyZVNpbmdsZSh0aGlzLl9oaXN0b3J5RXhlY3V0aW9uVGFza0VudGl0eUxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5leHRhc2tJZCA9PSBleFRhc2tJZDtcbiAgICB9KTtcbiAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0SnNvbkNvZGUoZXhUYXNrKTtcbiAgfSxcbiAgQ29udmVydFN0YXR1c1RvQ05OYW1lOiBmdW5jdGlvbiBDb252ZXJ0U3RhdHVzVG9DTk5hbWUoc3RhdHVzKSB7XG4gICAgaWYgKHN0YXR1cyA9PSBcIlByb2Nlc3NpbmdcIikge1xuICAgICAgcmV0dXJuIFwi5Yqe55CG5LitXCI7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gXCJFbmRcIikge1xuICAgICAgcmV0dXJuIFwi5bey5Yqe55CGXCI7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gXCJDYW5jZWxcIikge1xuICAgICAgcmV0dXJuIFwi6KKr5pKk5ZueXCI7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gXCJDYW5jZWxFbmRcIikge1xuICAgICAgcmV0dXJuIFwi5Yqe55CGJiMxMDUyMjsmIzEwMjMwO+aSpOWbnlwiO1xuICAgIH1cblxuICAgIHJldHVybiBcIuacquefpVwiO1xuICB9LFxuICBSZW5kZXJlcjogZnVuY3Rpb24gUmVuZGVyZXIoKSB7XG4gICAgdmFyIGh0bWxUYWJsZSA9IFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtZXgtdGFzay1saXN0LXBsdWdpbic+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0nZXgtdGFzay10YWJsZSc+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0aD5cXHU3M0FGXFx1ODI4MlxcdTU0MERcXHU3OUYwPC90aD48dGg+XFx1NTNEMVxcdTkwMDFcXHU0RUJBPC90aD48dGg+XFx1NTNEMVxcdTkwMDFcXHU2NUY2XFx1OTVGNDwvdGg+PHRoPlxcdTY3RTVcXHU3NzBCXFx1NjVGNlxcdTk1RjQ8L3RoPjx0aD5cXHU2M0E1XFx1NjUzNlxcdTRFQkEvXFx1NTkwNFxcdTc0MDZcXHU0RUJBPC90aD48dGg+XFx1NTkwNFxcdTc0MDZcXHU2NUY2XFx1OTVGNDwvdGg+PHRoPlxcdTYyNjdcXHU4ODRDXFx1NTJBOFxcdTRGNUM8L3RoPjx0aD5cXHU3MkI2XFx1NjAwMTwvdGg+PHRoIHN0eWxlPVxcXCJ3aWR0aDogMjAwcHhcXFwiPlxcdTY0Q0RcXHU0RjVDPC90aD48L3RyPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZXhUYXNrID0gdGhpcy5faGlzdG9yeUV4ZWN1dGlvblRhc2tFbnRpdHlMaXN0W2ldO1xuICAgICAgdmFyIGV4dGFza0lkID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrSWQpO1xuICAgICAgdmFyIGV4dGFza0N1ck5vZGVOYW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrQ3VyTm9kZU5hbWUpO1xuICAgICAgdmFyIGV4dGFza1NlbmRlck5hbWUgPSBTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tTZW5kZXJOYW1lKTtcbiAgICAgIHZhciBleHRhc2tTdGFydFRpbWUgPSBTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tTdGFydFRpbWUpO1xuICAgICAgdmFyIGV4dGFza1ZpZXdUaW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrVmlld1RpbWUpO1xuICAgICAgdmFyIHJoTmFtZSA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza1JlY2VpdmVyTmFtZSk7XG4gICAgICB2YXIgZXh0YXNrSGFuZGxlcklkID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrSGFuZGxlcklkKTtcbiAgICAgIHZhciBleHRhc2tSZWNlaXZlcklkID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrUmVjZWl2ZXJJZCk7XG5cbiAgICAgIGlmICghU3RyaW5nVXRpbGl0eS5Jc051bGxPckVtcHR5KGV4dGFza0hhbmRsZXJJZCkgJiYgZXh0YXNrUmVjZWl2ZXJJZCAhPSBleHRhc2tIYW5kbGVySWQpIHtcbiAgICAgICAgcmhOYW1lID0gU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrUmVjZWl2ZXJOYW1lKSArIFwiL1wiICsgU3RyaW5nVXRpbGl0eS5OdWxsVG9FUyhleFRhc2suZXh0YXNrSGFuZGxlck5hbWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXh0YXNrSGFuZGxlck5hbWUgPSBTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tIYW5kbGVyTmFtZSk7XG4gICAgICB2YXIgZXh0YXNrRW5kVGltZSA9IFN0cmluZ1V0aWxpdHkuTnVsbFRvRVMoZXhUYXNrLmV4dGFza0VuZFRpbWUpO1xuICAgICAgdmFyIGV4dGFza0hhbmRsZUFjdGlvbk5hbWUgPSBTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tIYW5kbGVBY3Rpb25OYW1lKTtcbiAgICAgIHZhciBleHRhc2tTdGF0dXMgPSB0aGlzLkNvbnZlcnRTdGF0dXNUb0NOTmFtZShTdHJpbmdVdGlsaXR5Lk51bGxUb0VTKGV4VGFzay5leHRhc2tTdGF0dXMpKTtcbiAgICAgIHZhciBjbGFzc05hbWUgPSBcIm4tdGFzay10clwiO1xuXG4gICAgICBpZiAodGhpcy5fY3VycmVudEV4VGFzay5leHRhc2tJZCA9PSBleHRhc2tJZCkge1xuICAgICAgICBjbGFzc05hbWUgPSBcIm15LXRoaXMtdGFzay10clwiO1xuICAgICAgfVxuXG4gICAgICBodG1sVGFibGUgKz0gXCI8dHIgY2xhc3M9XFxcIlwiLmNvbmNhdChjbGFzc05hbWUsIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlwiKS5jb25jYXQoZXh0YXNrQ3VyTm9kZU5hbWUsIFwiPC90ZD48dGQ+XCIpLmNvbmNhdChleHRhc2tTZW5kZXJOYW1lLCBcIjwvdGQ+PHRkPlwiKS5jb25jYXQoZXh0YXNrU3RhcnRUaW1lLCBcIjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cIikuY29uY2F0KGV4dGFza1ZpZXdUaW1lLCBcIjwvdGQ+PHRkPlwiKS5jb25jYXQocmhOYW1lLCBcIjwvdGQ+PHRkPlwiKS5jb25jYXQoZXh0YXNrRW5kVGltZSwgXCI8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XCIpLmNvbmNhdChleHRhc2tIYW5kbGVBY3Rpb25OYW1lLCBcIjwvdGQ+PHRkPlwiKS5jb25jYXQoZXh0YXNrU3RhdHVzLCBcIjwvdGQ+PHRkPjxhIG9uY2xpY2s9XFxcIkluc3RhbmNlRXhUYXNrTGlzdFBsdWdpbi5WaWV3RGV0YWlsKCdcIikuY29uY2F0KGV4dGFza0lkLCBcIicpXFxcIj5cXHU4QkU2XFx1NjBDNTwvYT48L3RkPjwvdHI+XCIpO1xuICAgIH1cblxuICAgIGh0bWxUYWJsZSArPSBcIjwvdGJvZHk+PC90YWJsZT48L2Rpdj5cIjtcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xuICB9XG59OyJdfQ==
