<!DOCTYPE html><html lang="zh" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"><head><meta charset="UTF-8"><title>Title</title><title>JBuild4D</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><script type="text/javascript" src="../../../../../../Js/External/JQuery-3.6.0/jquery-3.6.0.min.js"></script><script type="text/javascript" src="../../../../../../Js/External/VUE-2.6.10/vue.js"></script><script type="text/javascript" src="../../../../../../Js/External/IView-4.X/dist/iview.min.js"></script><script type="text/javascript" src="../../../../../../Js/External/JQuery-UI-1.12.1/jquery-ui.js"></script><script type="text/javascript" src="../../../../../../Js/External/ZTree-3.5.40/js/jquery.ztree.all.js"></script><script type="text/javascript" src="../../../../../../Js/External/Perfect-Scrollbar-V1.4.0/perfect-scrollbar.js"></script><script type="text/javascript" src="../../../../../../Js/JBuild4DCLib.js?refVersion=1634822284356"></script><script type="text/javascript" src="../../../../../../Js/UIEXComponent.js?refVersion=1634822284356"></script><script type="text/javascript" src="../../../../../../Js/VueEXComponent.js?refVersion=1634822284356"></script><script type="text/javascript" src="../../../../../../JB4DCBuilder/Js/UIEXComponentForBuilder.js?refVersion=1634822284356"></script><script type="text/javascript" src="../../../../../../JB4DCBuilder/Js/BuilderVueEXComponent.js?refVersion=1634822284356"></script><script type="text/javascript" src="../../../../../../SSOSystem/Js/SSOVueEXComponent.js?refVersion=1634822284356"></script><script type="text/javascript" src="../../../../../../JB4DCBuilder/Js/HTMLDesign/HTMLDesignUtility.js?refVersion=1634822284356"></script><link rel="stylesheet" type="text/css" href="../../../../../../Themes/Default/IView-4.X/iview.css"><link rel="stylesheet" type="text/css" href="../../../../../../Themes/Default/JQueryUI/jquery-ui.css"><link rel="stylesheet" type="text/css" href="../../../../../../Themes/Default/JQueryUI/jquery-ui-important.css"><link rel="stylesheet" type="text/css" href="../../../../../../Js/External/Perfect-Scrollbar-V1.4.0/perfect-scrollbar.css"><link rel="stylesheet" type="text/css" href="../../../../../../Themes/Default/ZTree/zTreeStyle/zTreeStyle.css"><link rel="stylesheet" type="text/css" href="../../../../../../Themes/Default/Css/JBuild4DC.css?refVersion=1634822284356"><link rel="stylesheet" type="text/css" href="../../../../../../JB4DCBuilder/Themes/Default/Css/JBuild4DCBuilder.css?refVersion=1634822284356"><script type="text/javascript" src="../../../../../../Js/External/ZTree-3.5.40/js/jquery.ztree.exhide.js"></script><script type="text/javascript" src="../../../../../../Js/External/ZTree-3.5.40/js/fuzzysearch.js"></script></head><body><div class="html-design-plugin-dialog-wraper" id="dialogApp" v-cloak><select-single-webform-dialog ref="selectSingleWebformDialog" @on-selected-form="onSelectedForm"></select-single-webform-dialog><tabs size="small"><tab-pane label="子表区域"><table cellpadding="0" cellspacing="0" border="0" class="html-design-plugin-dialog-table-wraper"><colgroup><col style="width:120px"><col style="width:280px"><col style="width:100px"><col></colgroup><tbody><tr><td>行内编辑：</td><td colspan="3"><radio-group type="button" style="margin:auto" v-model="normalProps.editInRow"><radio label="true">是</radio><radio label="false">否</radio></radio-group></td></tr><tr><td colspan="4">绑定窗体：<button class="btn-select fright" @click="selectWebFormBegin">...</button></td></tr><tr style="height:35px"><td colspan="4" style="background-color:#fff"><span v-if="normalProps.formName!=''">模块：【{{normalProps.formModuleName}}】 ---- 窗体：【{{normalProps.formName}}】 序号：【{{normalProps.formCode}}】--- <a>编辑窗体</a></span></td></tr><tr><td>宽度 * 高度：</td><td colspan="3"><input-number :max="50" :min="5" v-model="normalProps.windowWidth"></input-number>&nbsp;&nbsp;*&nbsp;&nbsp;<input-number :max="50" :min="5" v-model="normalProps.windowHeight"></input-number>&nbsp;&nbsp;<button-group size="small"><i-button @click="setWindowWH(800,640)">800*640</i-button><i-button @click="setWindowWH(680,420)">680*420</i-button><i-button @click="setWindowWH(0,0)">0*0</i-button></button-group></td></tr><tr><td>操作按钮：</td><td colspan="3"><checkbox-group v-model="normalProps.opButtons"><checkbox label="add"><span>新增</span></checkbox><checkbox label="update"><span>修改</span></checkbox><checkbox label="delete"><span>删除</span></checkbox><checkbox label="view"><span>查看</span></checkbox></checkbox-group></td></tr><tr><td>数据源：</td><td colspan="3"><i-select v-model="normalProps.bindDataSource" style="width:300px"><i-option v-for="item in formDataRelationSource" :value="item.value" :key="item.value">{{ item.label }}</i-option></i-select></td></tr><tr><td>窗体标题：</td><td colspan="3"><i-input v-model="normalProps.dialogWindowTitle"></td></tr><tr><td>渲染完成回调：</td><td colspan="3"><i-input v-model="normalProps.renderCompleteFunc"></td></tr><tr><td>数据处理方法：</td><td colspan="3"><i-input v-model="normalProps.dateRenderFunc"></td></tr></tbody></table></tab-pane><tab-pane label="基础信息"><fd-control-base-info v-model="baseInfo"></fd-control-base-info></tab-pane></tabs></div><script>var DialogApp=new Vue({el:"#dialogApp",data:{baseInfo:CKEditorPluginUtility.DefaultProps.baseInfo,normalProps:{formModuleId:"",formModuleName:"",formId:"",formName:"",formCode:"",editInRow:"false",opButtons:["add","update","delete","view"],bindDataSource:"autoTesting",renderCompleteFunc:"",dateRenderFunc:"",windowWidth:0,windowHeight:0,dialogWindowTitle:""},formDataRelationSource:[]},mounted:function(){var o=window.parent.appForm.$refs.dbTableRelationComp.getValue();if(o&&(this.formDataRelationSource.push({id:"autoTesting",value:"autoTesting",tableName:"autoTesting",label:"自动检测"}),o.relationData&&0<o.relationData.length))for(var t=0;t<o.relationData.length;t++){var a;a=""!=o.relationData[t].singleName?o.relationData[t].tableCaption+"["+o.relationData[t].tableName+"]["+o.relationData[t].singleName+"]":o.relationData[t].tableCaption+"["+o.relationData[t].tableName+"]",this.formDataRelationSource.push({id:o.relationData[t].id,value:o.relationData[t].id,tableName:o.relationData[t].tableName,label:a})}},methods:{ready:function(o){this.baseInfo.id="sub_form_list_wrap_"+StringUtility.Timestamp(),this.baseInfo.name=this.baseInfo.id},getControlProps:function(){return{success:!0,baseInfo:this.baseInfo,normalProps:this.normalProps}},setControlProps:function(o,t){this.baseInfo=t.baseInfo?t.baseInfo:this.baseInfo,this.normalProps.formModuleId=o.attr("formmoduleid"),this.normalProps.formModuleName=o.attr("formmodulename"),this.normalProps.formId=o.attr("formid"),this.normalProps.formName=o.attr("formname"),this.normalProps.formCode=o.attr("formcode"),this.normalProps.editInRow=o.attr("editInRow");var a=o.attr("opButtons").split(",");this.normalProps.opButtons=a,this.normalProps.bindDataSource=o.attr("binddatasource"),this.normalProps.renderCompleteFunc=o.attr("rendercompletefunc"),this.normalProps.dateRenderFunc=o.attr("daterenderfunc"),this.normalProps.windowWidth=parseInt(o.attr("windowwidth")),this.normalProps.windowHeight=parseInt(o.attr("windowheight")),this.normalProps.dialogWindowTitle=o.attr("dialogwindowtitle")},selectWebFormBegin:function(){this.$refs.selectSingleWebformDialog.beginSelectForm(this.normalProps.formId)},onSelectedForm:function(o){this.normalProps.formModuleId=o.formModuleId,this.normalProps.formModuleName=o.formModuleName,this.normalProps.formId=o.formId,this.normalProps.formName=o.formName,this.normalProps.formCode=o.formCode,console.log(this.normalProps)},setWindowWH:function(o,t){this.normalProps.windowWidth=o,this.normalProps.windowHeight=t}}})</script></body></html>