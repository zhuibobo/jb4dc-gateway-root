{"version":3,"file":"UIRuntimeWebListMain.js","mappings":"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","sources":["webpack://jb4dc-ui-design/./src/Runtime/RuntimeGeneralInstance.js","webpack://jb4dc-ui-design/./src/Runtime/WebListRuntime/ListRuntime.js","webpack://jb4dc-ui-design/webpack/bootstrap","webpack://jb4dc-ui-design/webpack/runtime/define property getters","webpack://jb4dc-ui-design/webpack/runtime/hasOwnProperty shorthand","webpack://jb4dc-ui-design/webpack/runtime/make namespace object","webpack://jb4dc-ui-design/./src/Runtime/WebListRuntime/UIRuntimeWebListMain.js"],"sourcesContent":["let RuntimeGeneralInstance = {\r\n    TryGetMenuOuterId: function () {\r\n        return BaseUtility.GetUrlParaValue(\"menuOuterId\");\r\n    }\r\n}\r\n\r\nexport {RuntimeGeneralInstance as default};","var ListRuntime={\r\n    _Prop_Status:\"Edit\",\r\n    _Prop_Config:{\r\n        RendererToId:null,\r\n        ListId:\"\",\r\n        IsPreview:false\r\n    },\r\n    _ListPO:null,\r\n    _$RendererToElem:null,\r\n    _JSRuntimeInst:null,\r\n    Initialization:function (_config) {\r\n        this._Prop_Config= $.extend(true,{},this._Prop_Config,_config);\r\n        this._$RendererToElem=$(\"#\"+this._Prop_Config.RendererToId);\r\n        this._LoadHTMLToEl();\r\n    },\r\n    //用于控制RendererChainComplete的调用时间\r\n    _RendererChainIsCompleted:true,\r\n    _RendererDataChainIsCompleted:true,\r\n    _LoadHTMLToEl:function () {\r\n        //debugger;\r\n        /*$(this._Prop_Config.RendererTo).load(BaseUtility.GetRootPath()+\"/Rest/Builder/ListRuntime/ListPreview?listId=\"+this._Prop_Config.ListId, function() {\r\n            console.log(\"加载预览列表成功!!\");\r\n        });*/\r\n        //window._ListInstancePool={};\r\n        RuntimeGeneralInstance.LoadHtmlDesignContent(BaseUtility.GetRootPath()+\"/Rest/Builder/RunTime/ListRuntime/LoadHTML?listId=\"+this._Prop_Config.ListId,this._Prop_Config.RendererTo, {}, function (result) {\r\n            //alert( \"Load was performed.\");\r\n            //debugger;\r\n            //console.log(\"加载列表设置成功!!\");\r\n            console.log(result);\r\n\r\n            //console.log(result.data.listHtmlRuntime);\r\n            //var $rootElem=$(result.data.formHtmlRuntime);\r\n            //if($rootElem.)\r\n            //str = str.replace(/word/g,\"Excel\")\r\n            var _self=this;\r\n            _self._ListPO=result.data;\r\n            this._$RendererToElem.append(result.data.listHtmlRuntime);\r\n            //this._$RendererToElem.append(result.data.listJsRuntime);\r\n            this._JSRuntimeInst = Object.create(HTMLJSRuntime);\r\n            this._JSRuntimeInst.Initialization({},this._$RendererToElem,this._ListPO.listJsContent);\r\n            //console.log(result.data.listJsRuntime);\r\n\r\n            //进行元素渲染1\r\n            VirtualBodyControl.RendererChain({\r\n                po:result.data,\r\n                sourceHTML:result.data.listHtmlRuntime,\r\n                $rootElem:this._$RendererToElem,\r\n                $parentControlElem:this._$RendererToElem,\r\n                $singleControlElem:this._$RendererToElem,\r\n                listRuntimeInstance:this\r\n            });\r\n\r\n            var RendererChainCompleteObj=window.setInterval(function () {\r\n                if(_self._RendererChainIsCompleted){\r\n                    window.clearInterval(RendererChainCompleteObj);\r\n                }\r\n            },500);\r\n\r\n            //获取绑定的数据集合之后\r\n            var topDataSetId=result.data.listDatasetId;\r\n            VirtualBodyControl.RendererDataChain({\r\n                po:result.data,\r\n                sourceHTML:result.data.listHtmlRuntime,\r\n                $rootElem:this._$RendererToElem,\r\n                $parentControlElem:this._$RendererToElem,\r\n                $singleControlElem:this._$RendererToElem,\r\n                topDataSetId:topDataSetId,\r\n                listRuntimeInstance:this\r\n            });\r\n\r\n            var RendererDataChainCompleteObj=window.setInterval(function () {\r\n                if(_self._RendererDataChainIsCompleted){\r\n                    window.clearInterval(RendererDataChainCompleteObj);\r\n                    _self.CallRendererChainCompletedFunc();\r\n                }\r\n            },700);\r\n            /*var sendData = JSON.stringify({\r\n                dataSetId:topDataSetId,\r\n                pageSize:result.data.listDatasetPageSize,\r\n                pageNum:1,\r\n                queryValue:\"\",\r\n                exValue1:\"\",\r\n                exValue2:\"\",\r\n                exValue3:\"\"\r\n            });\r\n            AjaxUtility.PostRequestBody(\"/Rest/Builder/RunTime/ListRuntime/GetDataSetData\",sendData,function (getDataSetResult) {\r\n                console.log(getDataSetResult);\r\n                //进行数据渲染\r\n                VirtualBodyControl.RendererDataChain({\r\n                    listEntity:result.data,\r\n                    sourceHTML:result.data.listHtmlRuntime,\r\n                    $rootElem:this._$RendererToElem,\r\n                    $parentControlElem:this._$RendererToElem,\r\n                    $singleControlElem:this._$RendererToElem,\r\n                    topDataSet:getDataSetResult.data\r\n                });\r\n            },this);*/\r\n\r\n        },this);\r\n    },\r\n    CallRendererChainCompletedFunc:function() {\r\n        if (typeof (this._Prop_Config.RendererChainCompletedFunc) == \"function\") {\r\n            this._Prop_Config.RendererChainCompletedFunc.call(this);\r\n        }\r\n        HTMLPageObjectInstanceProxy.Init(this._Prop_Config,this._ListPO);\r\n        window.setTimeout(function () {\r\n            console.log(\"延迟调用\");\r\n            HTMLPageObjectInstanceProxy.CallPageReady()\r\n        },500);\r\n    },\r\n    CheckPrimaryKeyInDataSet:function(dataSet,primaryKey){\r\n        if(dataSet.list&&dataSet.list.length>0){\r\n            var rowData=dataSet.list[0];\r\n            for(var key in rowData){\r\n                if(StringUtility.toUpperCase(key)==StringUtility.toUpperCase(primaryKey)){\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    GetPrimaryKey:function(){\r\n        var primaryKey=this._ListPO.listDatasetPrimaryKey;\r\n        return primaryKey;\r\n    },\r\n    IsPreview:function () {\r\n        return this._Prop_Config.IsPreview;\r\n    }\r\n}\r\n\r\n\r\nexport {ListRuntime as default};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ListRuntime from './ListRuntime.js';\r\nimport RuntimeGeneralInstance from '../RuntimeGeneralInstance.js';\r\n\r\nlet ListRuntimeInst = Object.create(ListRuntime);\r\nlet listId = RuntimeGeneralInstance.TryGetMenuOuterId();\r\nListRuntimeInst.Initialization({\r\n    RendererToId: \"htmlDesignRuntimeWrap\",\r\n    ListId: listId\r\n})"],"names":["RuntimeGeneralInstance","TryGetMenuOuterId","BaseUtility","GetUrlParaValue","default","ListRuntime","_Prop_Status","_Prop_Config","RendererToId","ListId","IsPreview","_ListPO","_$RendererToElem","_JSRuntimeInst","Initialization","_config","$","extend","_LoadHTMLToEl","_RendererChainIsCompleted","_RendererDataChainIsCompleted","LoadHtmlDesignContent","GetRootPath","RendererTo","result","console","log","_self","data","append","listHtmlRuntime","Object","create","HTMLJSRuntime","listJsContent","VirtualBodyControl","RendererChain","po","sourceHTML","$rootElem","$parentControlElem","$singleControlElem","listRuntimeInstance","RendererChainCompleteObj","window","setInterval","clearInterval","topDataSetId","listDatasetId","RendererDataChain","RendererDataChainCompleteObj","CallRendererChainCompletedFunc","RendererChainCompletedFunc","call","HTMLPageObjectInstanceProxy","Init","setTimeout","CallPageReady","CheckPrimaryKeyInDataSet","dataSet","primaryKey","list","length","rowData","key","StringUtility","toUpperCase","GetPrimaryKey","listDatasetPrimaryKey","ListRuntimeInst","listId"],"sourceRoot":""}